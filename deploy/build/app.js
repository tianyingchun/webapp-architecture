
// lib/layout/version.js
enyo&&enyo.version&&(enyo.version.layout="2.4.0");

// lib/layout/contextual/source/ContextualLayout.js
enyo.kind({name:"enyo.ContextualLayout",kind:"Layout",adjustPosition:function(){if(this.container.showing&&this.container.hasNode()){this.resetPositioning();var t=this.getViewWidth(),i=this.getViewHeight(),o=this.container.vertFlushMargin,s=i-this.container.vertFlushMargin,e=this.container.horizFlushMargin,n=t-this.container.horizFlushMargin;if(o>this.offset.top+this.offset.height||this.offset.top>s){if(this.applyVerticalFlushPositioning(e,n))return;if(this.applyHorizontalFlushPositioning(e,n))return;if(this.applyVerticalPositioning())return}else if((e>this.offset.left+this.offset.width||this.offset.left>n)&&this.applyHorizontalPositioning())return;var h=this.getBoundingRect(this.container.node);if(h.width>this.container.widePopup){if(this.applyVerticalPositioning())return}else if(h.height>this.container.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.container.addClass("vertical");var t=this.getBoundingRect(this.container.node),i=this.getViewHeight();return this.container.floating?i/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height,bottom:"auto"}),this.container.addClass("below")):(this.applyPosition({top:this.offset.top-t.height,bottom:"auto"}),this.container.addClass("above")):t.top+t.height>i&&i-t.bottom<t.top-t.height?this.container.addClass("above"):this.container.addClass("below"),t=this.getBoundingRect(this.container.node),t.top+t.height>i||0>t.top?!1:!0},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var t=this.getBoundingRect(this.container.node),i=this.getViewWidth();if(this.container.floating){var o=this.offset.left+this.offset.width/2-t.width/2;o+t.width>i?(this.applyPosition({left:this.offset.left+this.offset.width-t.width}),this.container.addClass("left")):0>o?(this.applyPosition({left:this.offset.left}),this.container.addClass("right")):this.applyPosition({left:o})}else{var s=this.offset.left+this.offset.width/2-t.left-t.width/2;t.right+s>i?(this.applyPosition({left:this.offset.left+this.offset.width-t.right}),this.container.addRemoveClass("left",!0)):0>t.left+s?this.container.addRemoveClass("right",!0):this.applyPosition({left:s})}return!0},applyVerticalFlushPositioning:function(t,i){if(!this.initVerticalPositioning())return!1;var o=this.getBoundingRect(this.container.node),s=this.getViewWidth();return t>this.offset.left+this.offset.width/2?(this.offset.left+this.offset.width/2<this.container.horizBuffer?this.applyPosition({left:this.container.horizBuffer+(this.container.floating?0:-o.left)}):this.applyPosition({left:this.offset.width/2+(this.container.floating?this.offset.left:0)}),this.container.addClass("right"),this.container.addClass("corner"),!0):this.offset.left+this.offset.width/2>i?(this.offset.left+this.offset.width/2>s-this.container.horizBuffer?this.applyPosition({left:s-this.container.horizBuffer-o.right}):this.applyPosition({left:this.offset.left+this.offset.width/2-o.right}),this.container.addClass("left"),this.container.addClass("corner"),!0):!1},initHorizontalPositioning:function(){this.resetPositioning();var t=this.getBoundingRect(this.container.node),i=this.getViewWidth();return this.container.floating?i/2>this.offset.left+this.offset.width?(this.applyPosition({left:this.offset.left+this.offset.width}),this.container.addRemoveClass("left",!0)):(this.applyPosition({left:this.offset.left-t.width}),this.container.addRemoveClass("right",!0)):this.offset.left-t.width>0?(this.applyPosition({left:this.offset.left-t.left-t.width}),this.container.addRemoveClass("right",!0)):(this.applyPosition({left:this.offset.width}),this.container.addRemoveClass("left",!0)),this.container.addRemoveClass("horizontal",!0),t=this.getBoundingRect(this.container.node),0>t.left||t.left+t.width>i?!1:!0},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var t=this.getBoundingRect(this.container.node),i=this.getViewHeight(),o=this.offset.top+this.offset.height/2;return this.container.floating?o>=i/2-.05*i&&i/2+.05*i>=o?this.applyPosition({top:this.offset.top+this.offset.height/2-t.height/2,bottom:"auto"}):i/2>this.offset.top+this.offset.height?(this.applyPosition({top:this.offset.top,bottom:"auto"}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top-t.height+2*this.offset.height,bottom:"auto"}),this.container.addRemoveClass("low",!0)):o>=i/2-.05*i&&i/2+.05*i>=o?this.applyPosition({top:(this.offset.height-t.height)/2}):i/2>this.offset.top+this.offset.height?(this.applyPosition({top:-this.offset.height}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:t.top-t.height-this.offset.top+this.offset.height}),this.container.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(t,i){if(!this.initHorizontalPositioning())return!1;var o=this.getBoundingRect(this.container.node),s=this.getViewHeight();return this.container.floating?s/2>this.offset.top?(this.applyPosition({top:this.offset.top+this.offset.height/2}),this.container.addRemoveClass("high",!0)):(this.applyPosition({top:this.offset.top+this.offset.height/2-o.height}),this.container.addRemoveClass("low",!0)):o.top+o.height>s&&s-o.bottom<o.top-o.height?(this.applyPosition({top:o.top-o.height-this.offset.top-this.offset.height/2}),this.container.addRemoveClass("low",!0)):(this.applyPosition({top:this.offset.height/2}),this.container.addRemoveClass("high",!0)),t>this.offset.left+this.offset.width?(this.container.addClass("left"),this.container.addClass("corner"),!0):this.offset.left>i?(this.container.addClass("right"),this.container.addClass("corner"),!0):!1},getBoundingRect:function(t){var i=t.getBoundingClientRect();return i.width&&i.height?i:{left:i.left,right:i.right,top:i.top,bottom:i.bottom,width:i.right-i.left,height:i.bottom-i.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},applyPosition:function(t){var i="";for(var o in t)i+=o+":"+t[o]+(isNaN(t[o])?"; ":"px; ");this.container.addStyles(i)},resetPositioning:function(){this.container.removeClass("right"),this.container.removeClass("left"),this.container.removeClass("high"),this.container.removeClass("low"),this.container.removeClass("corner"),this.container.removeClass("below"),this.container.removeClass("above"),this.container.removeClass("vertical"),this.container.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},reflow:function(){this.offset=this.container.activatorOffset,this.adjustPosition()}});

// lib/layout/fittable/source/FittableLayout.js
enyo.kind({name:"enyo.FittableLayout",kind:"Layout",constructor:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.container.addRemoveClass("force-left-to-right",enyo.Control.prototype.rtl&&!this.container.get("rtl"))}}),calcFitIndex:function(){var t,i,o=this.container.children;for(i=0;o.length>i;i++)if(t=o[i],t.fit&&t.showing)return i},getFitControl:function(){var t=this.container.children,i=t[this.fitIndex];return i&&i.fit&&i.showing||(this.fitIndex=this.calcFitIndex(),i=t[this.fitIndex]),i},shouldReverse:function(){return this.container.rtl&&"h"===this.orient},getFirstChild:function(){var t=this.getShowingChildren();return this.shouldReverse()?t[t.length-1]:t[0]},getLastChild:function(){var t=this.getShowingChildren();return this.shouldReverse()?t[0]:t[t.length-1]},getShowingChildren:function(){for(var t=[],i=0,o=this.container.children,e=o.length;e>i;i++)o[i].showing&&t.push(o[i]);return t},_reflow:function(t,i,o,e){this.container.addRemoveClass("enyo-stretch",!this.container.noStretch);var s,n,h,a,r,f=this.getFitControl(),l=this.container.hasNode(),d=0,g=0,c=0;if(f&&l){if(s=enyo.dom.calcPaddingExtents(l),n=f.getBounds(),d=l[i]-(s[o]+s[e]),this.shouldReverse()){a=this.getFirstChild(),c=d-(n[o]+n[t]);var p=enyo.dom.getComputedBoxValue(a.hasNode(),"margin",o)||0;if(a==f)g=p;else{var u=a.getBounds(),y=u[o];g=n[o]+p-y}}else{h=this.getLastChild(),g=n[o]-(s[o]||0);var w=enyo.dom.getComputedBoxValue(h.hasNode(),"margin",e)||0;if(h==f)c=w;else{var v=h.getBounds(),C=n[o]+n[t],m=v[o]+v[t]+w;c=m-C}}r=d-(g+c),f.applyStyle(t,r+"px")}},reflow:function(){"h"==this.orient?this._reflow("width","clientWidth","left","right"):this._reflow("height","clientHeight","top","bottom")}}),enyo.kind({name:"enyo.FittableColumnsLayout",kind:"FittableLayout",orient:"h",layoutClass:"enyo-fittable-columns-layout"}),enyo.kind({name:"enyo.FittableRowsLayout",kind:"FittableLayout",layoutClass:"enyo-fittable-rows-layout",orient:"v"});

// lib/layout/fittable/source/FittableRows.js
enyo.kind({name:"enyo.FittableRows",layoutKind:"FittableRowsLayout",noStretch:!1});

// lib/layout/fittable/source/FittableColumns.js
enyo.kind({name:"enyo.FittableColumns",layoutKind:"FittableColumnsLayout",noStretch:!1});

// lib/layout/fittable/source/FittableHeaderLayout.js
enyo.kind({name:"enyo.FittableHeaderLayout",kind:"FittableColumnsLayout",applyFitSize:enyo.inherit(function(t){return function(i,e,o,n){var s=o-n,h=this.getFitControl();0>s?(h.applyStyle("padding-left",Math.abs(s)+"px"),h.applyStyle("padding-right",null)):s>0?(h.applyStyle("padding-left",null),h.applyStyle("padding-right",Math.abs(s)+"px")):(h.applyStyle("padding-left",null),h.applyStyle("padding-right",null)),t.apply(this,arguments)}})});

// lib/layout/list/source/FlyweightRepeater.js
enyo.kind({name:"enyo.FlyweightRepeater",published:{count:0,noSelect:!1,multiSelect:!1,toggleSelected:!1,clientClasses:"",clientStyle:"",rowOffset:0,orient:"v"},events:{onSetupItem:"",onRenderRow:""},bottomUp:!1,components:[{kind:"Selection",onSelect:"selectDeselect",onDeselect:"selectDeselect"},{name:"client"}],create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.noSelectChanged(),this.multiSelectChanged(),this.clientClassesChanged(),this.clientStyleChanged()}}),noSelectChanged:function(){this.noSelect&&this.$.selection.clear()},multiSelectChanged:function(){this.$.selection.setMulti(this.multiSelect)},clientClassesChanged:function(){this.$.client.setClasses(this.clientClasses)},clientStyleChanged:function(){this.$.client.setStyle(this.clientStyle)},setupItem:function(t){this.doSetupItem({index:t,selected:this.isSelected(t)})},generateChildHtml:enyo.inherit(function(t){return function(){var i="";this.index=null;for(var e=0,o=0;this.count>e;e++)o=this.rowOffset+(this.bottomUp?this.count-e-1:e),this.setupItem(o),this.$.client.setAttribute("data-enyo-index",o),"h"==this.orient&&this.$.client.setStyle("display:inline-block;"),i+=t.apply(this,arguments),this.$.client.teardownRender();return i}}),previewDomEvent:function(t){var i=this.index=this.rowForEvent(t);t.rowIndex=t.index=i,t.flyweight=this},decorateEvent:enyo.inherit(function(t){return function(i,e){var o=e&&null!=e.index?e.index:this.index;e&&null!=o&&(e.index=o,e.flyweight=this),t.apply(this,arguments)}}),tap:function(t,i){this.noSelect||-1===i.index||(this.toggleSelected?this.$.selection.toggle(i.index):this.$.selection.select(i.index))},selectDeselect:function(t,i){this.renderRow(i.key)},getSelection:function(){return this.$.selection},isSelected:function(t){return this.getSelection().isSelected(t)},renderRow:function(t){if(!(this.rowOffset>t||t>=this.count+this.rowOffset)){this.setupItem(t);var i=this.fetchRowNode(t);i&&(enyo.dom.setInnerHtml(i,this.$.client.generateChildHtml()),this.$.client.teardownChildren(),this.doRenderRow({rowIndex:t}))}},fetchRowNode:function(t){return this.hasNode()?this.node.querySelector('[data-enyo-index="'+t+'"]'):void 0},rowForEvent:function(t){if(!this.hasNode())return-1;for(var i=t.target;i&&i!==this.node;){var e=i.getAttribute&&i.getAttribute("data-enyo-index");if(null!==e)return Number(e);i=i.parentNode}return-1},prepareRow:function(t){if(!(this.rowOffset>t||t>=this.count+this.rowOffset)){this.setupItem(t);var i=this.fetchRowNode(t);enyo.FlyweightRepeater.claimNode(this.$.client,i)}},lockRow:function(){this.$.client.teardownChildren()},performOnRow:function(t,i,e){this.rowOffset>t||t>=this.count+this.rowOffset||i&&(this.prepareRow(t),enyo.call(e||null,i),this.lockRow())},statics:{claimNode:function(t,i){var e;i&&(e=i.id!==t.id?i.querySelector("#"+t.id):i),t.generated=Boolean(e||!t.tag),t.node=e,t.node&&t.rendered();for(var o,n=0,s=t.children;o=s[n];n++)this.claimNode(o,i)}}});

// lib/layout/list/source/List.js
enyo.kind({name:"enyo.List",kind:"Scroller",classes:"enyo-list",published:{count:0,rowsPerPage:50,orient:"v",bottomUp:!1,noSelect:!1,multiSelect:!1,toggleSelected:!1,fixedSize:!1,reorderable:!1,centerReorderContainer:!0,reorderComponents:[],pinnedReorderComponents:[],swipeableComponents:[],enableSwipe:!1,persistSwipeableItem:!1},events:{onSetupItem:"",onSetupReorderComponents:"",onSetupPinnedReorderComponents:"",onReorder:"",onSetupSwipeItem:"",onSwipeDrag:"",onSwipe:"",onSwipeComplete:""},handlers:{onAnimateFinish:"animateFinish",onRenderRow:"rowRendered",ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onup:"up",onholdpulse:"holdpulse",onflick:"flick"},rowSize:0,listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"placeholder",classes:"enyo-list-placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0;"}]}],reorderHoldTimeMS:600,draggingRowIndex:-1,initHoldCounter:3,holdCounter:3,holding:!1,draggingRowNode:null,placeholderRowIndex:-1,dragToScrollThreshold:.1,prevScrollTop:0,autoScrollTimeoutMS:20,autoScrollTimeout:null,autoscrollPageY:0,pinnedReorderMode:!1,initialPinPosition:-1,itemMoved:!1,currentPageNumber:-1,completeReorderTimeout:null,swipeIndex:null,swipeDirection:null,persistentItemVisible:!1,persistentItemOrigin:null,swipeComplete:!1,completeSwipeTimeout:null,completeSwipeDelayMS:500,normalSwipeSpeedMS:200,fastSwipeSpeedMS:100,percentageDraggedThreshold:.2,importProps:enyo.inherit(function(t){return function(e){e&&e.reorderable&&(this.touch=!0),t.apply(this,arguments)}}),create:enyo.inherit(function(t){return function(){this.pageSizes=[],this.orientV="v"==this.orient,this.vertical=this.orientV?"default":"hidden",t.apply(this,arguments),this.$.generator.orient=this.orient,this.getStrategy().translateOptimized=!0,this.$.port.addRemoveClass("horizontal",!this.orientV),this.$.port.addRemoveClass("vertical",this.orientV),this.$.page0.addRemoveClass("vertical",this.orientV),this.$.page1.addRemoveClass("vertical",this.orientV),this.bottomUpChanged(),this.noSelectChanged(),this.multiSelectChanged(),this.toggleSelectedChanged(),this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count)}}),initComponents:enyo.inherit(function(t){return function(){this.createReorderTools(),t.apply(this,arguments),this.createSwipeableComponents()}}),createReorderTools:function(){this.createComponent({name:"reorderContainer",classes:"enyo-list-reorder-container",ondown:"sendToStrategy",ondrag:"sendToStrategy",ondragstart:"sendToStrategy",ondragfinish:"sendToStrategy",onflick:"sendToStrategy"})},createStrategy:enyo.inherit(function(t){return function(){this.controlParentName="strategy",t.apply(this,arguments),this.createChrome(this.listTools),this.controlParentName="client",this.discoverControlParent()}}),createSwipeableComponents:function(){for(var t=0;this.swipeableComponents.length>t;t++)this.$.swipeableComponents.createComponent(this.swipeableComponents[t],{owner:this.owner})},rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.$.generator.node=this.$.port.hasNode(),this.$.generator.generated=!0,this.reset()}}),resizeHandler:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.refresh()}}),bottomUpChanged:function(){this.$.generator.bottomUp=this.bottomUp,this.$.page0.applyStyle(this.pageBound,null),this.$.page1.applyStyle(this.pageBound,null),this.pageBound=this.orientV?this.bottomUp?"bottom":"top":this.rtl?this.bottomUp?"left":"right":this.bottomUp?"right":"left",!this.orientV&&this.bottomUp&&(this.$.page0.applyStyle("left","auto"),this.$.page1.applyStyle("left","auto")),this.hasNode()&&this.reset()},noSelectChanged:function(){this.$.generator.setNoSelect(this.noSelect)},multiSelectChanged:function(){this.$.generator.setMultiSelect(this.multiSelect)},toggleSelectedChanged:function(){this.$.generator.setToggleSelected(this.toggleSelected)},countChanged:function(){this.hasNode()&&this.updateMetrics()},sendToStrategy:function(t,e){this.$.strategy.dispatchEvent("on"+e.type,e,t)},updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.portSize=0;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},holdpulse:function(t,e){return this.getReorderable()&&!this.isReordering()?e.holdTime>=this.reorderHoldTimeMS&&this.shouldStartReordering(t,e)?(this.startReordering(e),!1):void 0:void 0},dragstart:function(t,e){return this.isReordering()?!0:this.isSwipeable()?this.swipeDragStart(t,e):void 0},drag:function(t,e){return this.shouldDoReorderDrag(e)?(e.preventDefault(),this.reorderDrag(e),!0):this.isSwipeable()?(e.preventDefault(),this.swipeDrag(t,e),!0):void 0},dragfinish:function(t,e){this.isReordering()?this.finishReordering(t,e):this.isSwipeable()&&this.swipeDragFinish(t,e)},up:function(t,e){this.isReordering()&&this.finishReordering(t,e)},generatePage:function(t,e){this.page=t;var i=this.rowsPerPage*this.page;this.$.generator.setRowOffset(i);var o=Math.min(this.count-i,this.rowsPerPage);this.$.generator.setCount(o);var n=this.$.generator.generateChildHtml();e.setContent(n),this.getReorderable()&&this.draggingRowIndex>-1&&this.hideReorderingRow();var s=e.getBounds(),r=this.orientV?s.height:s.width;if(!this.rowSize&&r>0&&(this.rowSize=Math.floor(r/o),this.updateMetrics()),!this.fixedSize){var h=this.getPageSize(t);h!=r&&r>0&&(this.pageSizes[t]=r,this.portSize+=r-h)}},pageForRow:function(t){return Math.floor(t/this.rowsPerPage)},preserveDraggingRowNode:function(t){this.draggingRowNode&&this.pageForRow(this.draggingRowIndex)===t&&(this.$.holdingarea.hasNode().appendChild(this.draggingRowNode),this.draggingRowNode=null,this.removedInitialPage=!0)},update:function(t){var e=!1,i=this.positionToPageInfo(t),o=i.pos+this.scrollerSize/2,n=Math.floor(o/Math.max(i.size,this.scrollerSize)+.5)+i.no,s=0===n%2?n:n-1;this.p0!=s&&this.isPageInRange(s)&&(this.preserveDraggingRowNode(this.p0),this.generatePage(s,this.$.page0),this.positionPage(s,this.$.page0),this.p0=s,e=!0,this.p0RowBounds=this.getPageRowSizes(this.$.page0)),s=0===n%2?Math.max(1,n-1):n,this.p1!=s&&this.isPageInRange(s)&&(this.preserveDraggingRowNode(this.p1),this.generatePage(s,this.$.page1),this.positionPage(s,this.$.page1),this.p1=s,e=!0,this.p1RowBounds=this.getPageRowSizes(this.$.page1)),e&&(this.$.generator.setRowOffset(0),this.$.generator.setCount(this.count),this.fixedSize||(this.adjustBottomPage(),this.adjustPortSize()))},getPageRowSizes:function(t){for(var e,i,o={},n=t.hasNode().querySelectorAll("div[data-enyo-index]"),s=0;n.length>s;s++)e=n[s].getAttribute("data-enyo-index"),null!==e&&(i=enyo.dom.getBounds(n[s]),o[parseInt(e,10)]={height:i.height,width:i.width});return o},updateRowBounds:function(t){this.p0RowBounds[t]?this.updateRowBoundsAtIndex(t,this.p0RowBounds,this.$.page0):this.p1RowBounds[t]&&this.updateRowBoundsAtIndex(t,this.p1RowBounds,this.$.page1)},updateRowBoundsAtIndex:function(t,e,i){var o=i.hasNode().querySelector('div[data-enyo-index="'+t+'"]'),n=enyo.dom.getBounds(o);e[t].height=n.height,e[t].width=n.width},updateForPosition:function(t){this.update(this.calcPos(t))},calcPos:function(t){return this.bottomUp?this.portSize-this.scrollerSize-t:t},adjustBottomPage:function(){var t=this.p0>=this.p1?this.$.page0:this.$.page1;this.positionPage(t.pageNo,t)},adjustPortSize:function(){this.scrollerSize=this.orientV?this.getBounds().height:this.getBounds().width;var t=Math.max(this.scrollerSize,this.portSize);this.$.port.applyStyle(this.orientV?"height":"width",t+"px"),this.orientV||this.$.port.applyStyle("height",this.getBounds().height+"px")},positionPage:function(t,e){e.pageNo=t;var i=this.pageToPosition(t);e.applyStyle(this.pageBound,i+"px")},pageToPosition:function(t){for(var e=0,i=t;i>0;)i--,e+=this.getPageSize(i);return e},positionToPageInfo:function(t){for(var e=-1,i=this.calcPos(t),o=this.defaultPageSize;i>=0;)e++,o=this.getPageSize(e),i-=o;return e=Math.max(e,0),{no:e,size:o,pos:i+o,startRow:e*this.rowsPerPage,endRow:Math.min((e+1)*this.rowsPerPage-1,this.count-1)}},isPageInRange:function(t){return t==Math.max(0,Math.min(this.pageCount-1,t))},getPageSize:function(t){var e=this.pageSizes[t];if(!e){var i=this.rowsPerPage*t,o=Math.min(this.count-i,this.rowsPerPage);e=this.defaultPageSize*(o/this.rowsPerPage)}return Math.max(1,e)},invalidatePages:function(){this.p0=this.p1=null,this.p0RowBounds={},this.p1RowBounds={},this.$.page0.setContent(""),this.$.page1.setContent("")},invalidateMetrics:function(){this.pageSizes=[],this.rowSize=0,this.updateMetrics()},scroll:enyo.inherit(function(t){return function(e,i){var o=t.apply(this,arguments),n=this.orientV?this.getScrollTop():this.getScrollLeft();return this.lastPos===n?o:(this.lastPos=n,this.update(n),this.pinnedReorderMode&&this.reorderScroll(e,i),o)}}),setScrollTop:enyo.inherit(function(t){return function(e){this.update(e),t.apply(this,arguments),this.twiddle()}}),getScrollPosition:function(){return this.calcPos(this[this.orientV?"getScrollTop":"getScrollLeft"]())},setScrollPosition:function(t){this[this.orientV?"setScrollTop":"setScrollLeft"](this.calcPos(t))},scrollToBottom:enyo.inherit(function(t){return function(){this.update(this.getScrollBounds().maxTop),t.apply(this,arguments)}}),scrollToRow:function(t){var e=this.pageForRow(t),i=this.pageToPosition(e);if(this.updateForPosition(i),i=this.pageToPosition(e),this.setScrollPosition(i),e==this.p0||e==this.p1){var o=this.$.generator.fetchRowNode(t);if(o){var n=this.orientV?o.offsetTop:o.offsetLeft;this.bottomUp&&(n=this.getPageSize(e)-(this.orientV?o.offsetHeight:o.offsetWidth)-n);var s=this.getScrollPosition()+n;this.setScrollPosition(s)}}},scrollToStart:function(){this[this.bottomUp?this.orientV?"scrollToBottom":"scrollToRight":"scrollToTop"]()},scrollToEnd:function(){this[this.bottomUp?this.orientV?"scrollToTop":"scrollToLeft":this.orientV?"scrollToBottom":"scrollToRight"]()},refresh:function(){this.invalidatePages(),this.update(this[this.orientV?"getScrollTop":"getScrollLeft"]()),this.stabilize(),4===enyo.platform.android&&this.twiddle()},reset:function(){this.getSelection().clear(),this.invalidateMetrics(),this.invalidatePages(),this.stabilize(),this.scrollToStart()},getSelection:function(){return this.$.generator.getSelection()},select:function(t,e){return this.getSelection().select(t,e)},deselect:function(t){return this.getSelection().deselect(t)},isSelected:function(t){return this.$.generator.isSelected(t)},renderRow:function(t){this.$.generator.renderRow(t)},rowRendered:function(t,e){this.updateRowBounds(e.rowIndex)},prepareRow:function(t){this.$.generator.prepareRow(t)},lockRow:function(){this.$.generator.lockRow()},performOnRow:function(t,e,i){this.$.generator.performOnRow(t,e,i)},animateFinish:function(){return this.twiddle(),!0},twiddle:function(){var t=this.getStrategy();enyo.call(t,"twiddle")},pageForPageNumber:function(t,e){return 0===t%2?e&&t!==this.p0?null:this.$.page0:e&&t!==this.p1?null:this.$.page1},shouldStartReordering:function(t,e){return!this.getReorderable()||null==e.rowIndex||0>e.rowIndex||this.pinnedReorderMode||t!==this.$.strategy||null==e.index||0>e.index?!1:!0},startReordering:function(t){this.$.strategy.listReordering=!0,this.buildReorderContainer(),this.doSetupReorderComponents(t),this.styleReorderContainer(t),this.draggingRowIndex=this.placeholderRowIndex=t.rowIndex,this.draggingRowNode=t.target,this.removedInitialPage=!1,this.itemMoved=!1,this.initialPageNumber=this.currentPageNumber=this.pageForRow(t.rowIndex),this.prevScrollTop=this.getScrollTop(),this.replaceNodeWithPlaceholder(t.rowIndex)},buildReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.reorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.reorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},styleReorderContainer:function(t){this.setItemPosition(this.$.reorderContainer,t.rowIndex),this.setItemBounds(this.$.reorderContainer,t.rowIndex),this.$.reorderContainer.setShowing(!0),this.centerReorderContainer&&this.centerReorderContainerOnPointer(t)},appendNodeToReorderContainer:function(t){this.$.reorderContainer.createComponent({allowHtml:!0,content:t.innerHTML}).render()},centerReorderContainerOnPointer:function(t){var e=enyo.dom.calcNodePosition(this.hasNode()),i=t.pageX-e.left-parseInt(this.$.reorderContainer.domStyles.width,10)/2,o=t.pageY-e.top+this.getScrollTop()-parseInt(this.$.reorderContainer.domStyles.height,10)/2;"ScrollStrategy"!=this.getStrategyKind()&&(i-=this.getScrollLeft(),o-=this.getScrollTop()),this.positionReorderContainer(i,o)},positionReorderContainer:function(t,e){this.$.reorderContainer.addClass("enyo-animatedTopAndLeft"),this.$.reorderContainer.addStyles("left:"+t+"px;top:"+e+"px;"),this.setPositionReorderContainerTimeout()},setPositionReorderContainerTimeout:function(){this.clearPositionReorderContainerTimeout(),this.positionReorderContainerTimeout=setTimeout(this.bindSafely(function(){this.$.reorderContainer.removeClass("enyo-animatedTopAndLeft"),this.clearPositionReorderContainerTimeout()}),100)},clearPositionReorderContainerTimeout:function(){this.positionReorderContainerTimeout&&(clearTimeout(this.positionReorderContainerTimeout),this.positionReorderContainerTimeout=null)},shouldDoReorderDrag:function(){return!this.getReorderable()||0>this.draggingRowIndex||this.pinnedReorderMode?!1:!0},reorderDrag:function(t){this.positionReorderNode(t),this.checkForAutoScroll(t),this.updatePlaceholderPosition(t.pageY)},updatePlaceholderPosition:function(t){var e=this.getRowIndexFromCoordinate(t);-1!==e&&(e>=this.placeholderRowIndex?this.movePlaceholderToIndex(Math.min(this.count,e+1)):this.movePlaceholderToIndex(e))},positionReorderNode:function(t){var e=this.$.reorderContainer.getBounds(),i=e.left+t.ddx,o=e.top+t.ddy;o="ScrollStrategy"==this.getStrategyKind()?o+(this.getScrollTop()-this.prevScrollTop):o,this.$.reorderContainer.addStyles("top: "+o+"px ; left: "+i+"px"),this.prevScrollTop=this.getScrollTop()},checkForAutoScroll:function(t){var e,i=enyo.dom.calcNodePosition(this.hasNode()),o=this.getBounds();this.autoscrollPageY=t.pageY,t.pageY-i.top<o.height*this.dragToScrollThreshold?(e=100*(1-(t.pageY-i.top)/(o.height*this.dragToScrollThreshold)),this.scrollDistance=-1*e):t.pageY-i.top>o.height*(1-this.dragToScrollThreshold)?(e=100*((t.pageY-i.top-o.height*(1-this.dragToScrollThreshold))/(o.height-o.height*(1-this.dragToScrollThreshold))),this.scrollDistance=1*e):this.scrollDistance=0,0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling()},stopAutoScrolling:function(){this.autoScrollTimeout&&(clearTimeout(this.autoScrollTimeout),this.autoScrollTimeout=null)},startAutoScrolling:function(){this.autoScrollTimeout=setInterval(this.bindSafely(this.autoScroll),this.autoScrollTimeoutMS)},autoScroll:function(){0===this.scrollDistance?this.stopAutoScrolling():this.autoScrollTimeout||this.startAutoScrolling(),this.setScrollPosition(this.getScrollPosition()+this.scrollDistance),this.positionReorderNode({ddx:0,ddy:0}),this.updatePlaceholderPosition(this.autoscrollPageY)},movePlaceholderToIndex:function(t){var e,i;if(!(0>t)){t>=this.count?(e=null,i=this.pageForPageNumber(this.pageForRow(this.count-1)).hasNode()):(e=this.$.generator.fetchRowNode(t),i=e.parentNode);var o=this.pageForRow(t);o>=this.pageCount&&(o=this.currentPageNumber),i.insertBefore(this.placeholderNode,e),this.currentPageNumber!==o&&(this.updatePageSize(this.currentPageNumber),this.updatePageSize(o),this.updatePagePositions(o)),this.placeholderRowIndex=t,this.currentPageNumber=o,this.itemMoved=!0}},finishReordering:function(t,e){return!this.isReordering()||this.pinnedReorderMode||this.completeReorderTimeout?void 0:(this.stopAutoScrolling(),this.$.strategy.listReordering=!1,this.moveReorderedContainerToDroppedPosition(e),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,e),100),e.preventDefault(),!0)},moveReorderedContainerToDroppedPosition:function(){var t=this.getRelativeOffset(this.placeholderNode,this.hasNode()),e="ScrollStrategy"==this.getStrategyKind()?t.top:t.top-this.getScrollTop(),i=t.left-this.getScrollLeft();this.positionReorderContainer(i,e)},completeFinishReordering:function(t){return this.completeReorderTimeout=null,this.placeholderRowIndex>this.draggingRowIndex&&(this.placeholderRowIndex=Math.max(0,this.placeholderRowIndex-1)),this.draggingRowIndex!=this.placeholderRowIndex||!this.pinnedReorderComponents.length||this.pinnedReorderMode||this.itemMoved?(this.removeDraggingRowNode(),this.removePlaceholderNode(),this.emptyAndHideReorderContainer(),this.pinnedReorderMode=!1,this.reorderRows(t),this.draggingRowIndex=this.placeholderRowIndex=-1,this.refresh(),void 0):(this.beginPinnedReorder(t),void 0)},beginPinnedReorder:function(t){this.buildPinnedReorderContainer(),this.doSetupPinnedReorderComponents(enyo.mixin(t,{index:this.draggingRowIndex})),this.pinnedReorderMode=!0,this.initialPinPosition=t.pageY},emptyAndHideReorderContainer:function(){this.$.reorderContainer.destroyComponents(),this.$.reorderContainer.setShowing(!1)},buildPinnedReorderContainer:function(){this.$.reorderContainer.destroyClientControls();for(var t=0;this.pinnedReorderComponents.length>t;t++)this.$.reorderContainer.createComponent(this.pinnedReorderComponents[t],{owner:this.owner});this.$.reorderContainer.render()},reorderRows:function(t){this.doReorder(this.makeReorderEvent(t)),this.positionReorderedNode(),this.updateListIndices()},makeReorderEvent:function(t){return t.reorderFrom=this.draggingRowIndex,t.reorderTo=this.placeholderRowIndex,t},positionReorderedNode:function(){if(!this.removedInitialPage){var t=this.$.generator.fetchRowNode(this.placeholderRowIndex);if(t&&(t.parentNode.insertBefore(this.hiddenNode,t),this.showNode(this.hiddenNode)),this.hiddenNode=null,this.currentPageNumber!=this.initialPageNumber){var e,i,o=this.pageForPageNumber(this.currentPageNumber),n=this.pageForPageNumber(this.currentPageNumber+1);this.initialPageNumber<this.currentPageNumber?(e=o.hasNode().firstChild,n.hasNode().appendChild(e)):(e=o.hasNode().lastChild,i=n.hasNode().firstChild,n.hasNode().insertBefore(e,i)),this.correctPageSizes(),this.updatePagePositions(this.initialPageNumber)}}},updateListIndices:function(){if(this.shouldDoRefresh())return this.refresh(),this.correctPageSizes(),void 0;var t,e,i,o,n=Math.min(this.draggingRowIndex,this.placeholderRowIndex),s=Math.max(this.draggingRowIndex,this.placeholderRowIndex),r=this.draggingRowIndex-this.placeholderRowIndex>0?1:-1;if(1===r){for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index","reordered"),e=s-1,i=s;e>=n;e--)t=this.$.generator.fetchRowNode(e),t&&(o=parseInt(t.getAttribute("data-enyo-index"),10),i=o+1,t.setAttribute("data-enyo-index",i));t=this.hasNode().querySelector('[data-enyo-index="reordered"]'),t.setAttribute("data-enyo-index",this.placeholderRowIndex)}else for(t=this.$.generator.fetchRowNode(this.draggingRowIndex),t&&t.setAttribute("data-enyo-index",this.placeholderRowIndex),e=n+1,i=n;s>=e;e++)t=this.$.generator.fetchRowNode(e),t&&(o=parseInt(t.getAttribute("data-enyo-index"),10),i=o-1,t.setAttribute("data-enyo-index",i))},shouldDoRefresh:function(){return Math.abs(this.initialPageNumber-this.currentPageNumber)>1},getNodeStyle:function(t){var e=this.$.generator.fetchRowNode(t);if(e){var i=this.getRelativeOffset(e,this.hasNode()),o=enyo.dom.getBounds(e);return{h:o.height,w:o.width,left:i.left,top:i.top}}},getRelativeOffset:function(t,e){var i={top:0,left:0};if(t!==e&&t.parentNode)do i.top+=t.offsetTop||0,i.left+=t.offsetLeft||0,t=t.offsetParent;while(t&&t!==e);return i},replaceNodeWithPlaceholder:function(t){var e=this.$.generator.fetchRowNode(t);if(!e)return enyo.log("No node - "+t),void 0;this.placeholderNode=this.createPlaceholderNode(e),this.hiddenNode=this.hideNode(e);var i=this.pageForPageNumber(this.currentPageNumber);i.hasNode().insertBefore(this.placeholderNode,this.hiddenNode)},createPlaceholderNode:function(t){var e=this.$.placeholder.hasNode().cloneNode(!0),i=enyo.dom.getBounds(t);return e.style.height=i.height+"px",e.style.width=i.width+"px",e},removePlaceholderNode:function(){this.removeNode(this.placeholderNode),this.placeholderNode=null},removeDraggingRowNode:function(){this.draggingRowNode=null;var t=this.$.holdingarea.hasNode();t.innerHTML=""},removeNode:function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},updatePageSize:function(t){if(!(0>t)){var e=this.pageForPageNumber(t,!0);if(e){var i=this.pageSizes[t],o=Math.max(1,e.getBounds().height);this.pageSizes[t]=o,this.portSize+=o-i}}},updatePagePositions:function(t){this.positionPage(this.currentPageNumber,this.pageForPageNumber(this.currentPageNumber)),this.positionPage(t,this.pageForPageNumber(t))},correctPageSizes:function(){var t=this.initialPageNumber%2;this.updatePageSize(this.currentPageNumber,this.$["page"+this.currentPage]),t!=this.currentPageNumber&&this.updatePageSize(this.initialPageNumber,this.$["page"+t])},hideNode:function(t){return t.style.display="none",t},showNode:function(t){return t.style.display="block",t},dropPinnedRow:function(t){this.moveReorderedContainerToDroppedPosition(t),this.completeReorderTimeout=setTimeout(this.bindSafely(this.completeFinishReordering,t),100)},cancelPinnedMode:function(t){this.placeholderRowIndex=this.draggingRowIndex,this.dropPinnedRow(t)},getRowIndexFromCoordinate:function(t){var e=this.getScrollTop()+t-enyo.dom.calcNodePosition(this.hasNode()).top;if(0>e)return-1;var i=this.positionToPageInfo(e),o=i.no==this.p0?this.p0RowBounds:this.p1RowBounds;if(!o)return this.count;for(var n=i.pos,s=this.placeholderNode?enyo.dom.getBounds(this.placeholderNode).height:0,r=0,h=i.startRow;i.endRow>=h;++h){if(h===this.placeholderRowIndex&&(r+=s,r>=n))return-1;if(h!==this.draggingRowIndex&&(r+=o[h].height,r>=n))return h}return h},getIndexPosition:function(t){return enyo.dom.calcNodePosition(this.$.generator.fetchRowNode(t))},setItemPosition:function(t,e){var i=this.getNodeStyle(e),o="ScrollStrategy"==this.getStrategyKind()?i.top:i.top-this.getScrollTop(),n="top:"+o+"px; left:"+i.left+"px;";t.addStyles(n)},setItemBounds:function(t,e){var i=this.getNodeStyle(e),o="width:"+i.w+"px; height:"+i.h+"px;";t.addStyles(o)},reorderScroll:function(){"ScrollStrategy"==this.getStrategyKind()&&this.$.reorderContainer.addStyles("top:"+(this.initialPinPosition+this.getScrollTop()-this.rowSize)+"px;"),this.updatePlaceholderPosition(this.initialPinPosition)},hideReorderingRow:function(){var t=this.hasNode().querySelector('[data-enyo-index="'+this.draggingRowIndex+'"]');t&&(this.hiddenNode=this.hideNode(t))},isReordering:function(){return this.draggingRowIndex>-1},isSwiping:function(){return null!=this.swipeIndex&&!this.swipeComplete&&null!=this.swipeDirection},swipeDragStart:function(t,e){return null==e.index||e.vertical?!0:(this.completeSwipeTimeout&&this.completeSwipe(e),this.swipeComplete=!1,this.swipeIndex!=e.index&&(this.clearSwipeables(),this.swipeIndex=e.index),this.swipeDirection=e.xDirection,this.persistentItemVisible||this.startSwipe(e),this.draggedXDistance=0,this.draggedYDistance=0,!0)},swipeDrag:function(t,e){return this.persistentItemVisible?(this.dragPersistentItem(e),this.preventDragPropagation):this.isSwiping()?(this.dragSwipeableComponents(this.calcNewDragPosition(e.ddx)),this.draggedXDistance=e.dx,this.draggedYDistance=e.dy,!0):!1},swipeDragFinish:function(t,e){if(this.persistentItemVisible)this.dragFinishPersistentItem(e);else{if(!this.isSwiping())return!1;var i=this.calcPercentageDragged(this.draggedXDistance);i>this.percentageDraggedThreshold&&e.xDirection===this.swipeDirection?this.swipe(this.fastSwipeSpeedMS):this.backOutSwipe(e)}return this.preventDragPropagation},isSwipeable:function(){return this.enableSwipe&&0!==this.$.swipeableComponents.controls.length&&!this.isReordering()&&!this.pinnedReorderMode},positionSwipeableContainer:function(t,e){var i=this.$.generator.fetchRowNode(t);if(i){var o=this.getRelativeOffset(i,this.hasNode()),n=enyo.dom.getBounds(i),s=1==e?-1*n.width:n.width;this.$.swipeableComponents.addStyles("top: "+o.top+"px; left: "+s+"px; height: "+n.height+"px; width: "+n.width+"px;")}},calcNewDragPosition:function(t){var e=this.$.swipeableComponents.getBounds(),i=e.left,o=this.$.swipeableComponents.getBounds(),n=1==this.swipeDirection?0:-1*o.width,s=1==this.swipeDirection?i+t>n?n:i+t:n>i+t?n:i+t;return s},dragSwipeableComponents:function(t){this.$.swipeableComponents.applyStyle("left",t+"px")},startSwipe:function(t){t.index=this.swipeIndex,this.positionSwipeableContainer(this.swipeIndex,t.xDirection),this.$.swipeableComponents.setShowing(!0),this.setPersistentItemOrigin(t.xDirection),this.doSetupSwipeItem(t)},dragPersistentItem:function(t){var e=0,i="right"==this.persistentItemOrigin?Math.max(e,e+t.dx):Math.min(e,e+t.dx);this.$.swipeableComponents.applyStyle("left",i+"px")},dragFinishPersistentItem:function(t){var e=this.calcPercentageDragged(t.dx)>.2,i=t.dx>0?"right":0>t.dx?"left":null;this.persistentItemOrigin==i?e?this.slideAwayItem():this.bounceItem(t):this.bounceItem(t)},setPersistentItemOrigin:function(t){this.persistentItemOrigin=1==t?"left":"right"},calcPercentageDragged:function(t){return Math.abs(t/this.$.swipeableComponents.getBounds().width)},swipe:function(t){this.swipeComplete=!0,this.animateSwipe(0,t)},backOutSwipe:function(){var t=this.$.swipeableComponents.getBounds(),e=1==this.swipeDirection?-1*t.width:t.width;this.animateSwipe(e,this.fastSwipeSpeedMS),this.swipeDirection=null},bounceItem:function(){var t=this.$.swipeableComponents.getBounds();t.left!=t.width&&this.animateSwipe(0,this.normalSwipeSpeedMS)},slideAwayItem:function(){var t=this.$.swipeableComponents,e=t.getBounds().width,i="left"==this.persistentItemOrigin?-1*e:e;this.animateSwipe(i,this.normalSwipeSpeedMS),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},clearSwipeables:function(){this.$.swipeableComponents.setShowing(!1),this.persistentItemVisible=!1,this.setPersistSwipeableItem(!1)},completeSwipe:function(){this.completeSwipeTimeout&&(clearTimeout(this.completeSwipeTimeout),this.completeSwipeTimeout=null),this.getPersistSwipeableItem()?this.swipeComplete&&(this.persistentItemVisible=!0):(this.$.swipeableComponents.setShowing(!1),this.swipeComplete&&this.doSwipeComplete({index:this.swipeIndex,xDirection:this.swipeDirection})),this.swipeIndex=null,this.swipeDirection=null},animateSwipe:function(t,e){var i=enyo.now(),o=this.$.swipeableComponents,n=parseInt(o.domStyles.left,10),s=t-n;this.stopAnimateSwipe();var r=this.bindSafely(function(){var t=enyo.now()-i,h=t/e,a=n+s*Math.min(h,1);o.applyStyle("left",a+"px"),this.job=enyo.requestAnimationFrame(r),t/e>=1&&(this.stopAnimateSwipe(),this.completeSwipeTimeout=setTimeout(this.bindSafely(function(){this.completeSwipe()}),this.completeSwipeDelayMS))});this.job=enyo.requestAnimationFrame(r)},stopAnimateSwipe:function(){this.job&&(this.job=enyo.cancelRequestAnimationFrame(this.job))}});

// lib/layout/list/source/PulldownList.js
enyo.kind({name:"enyo.PulldownList",kind:"List",touch:!0,pully:null,pulldownTools:[{name:"pulldown",classes:"enyo-list-pulldown",components:[{name:"puller",kind:"Puller"}]}],events:{onPullStart:"",onPullCancel:"",onPull:"",onPullRelease:"",onPullComplete:""},handlers:{onScrollStart:"scrollStartHandler",onScrollStop:"scrollStopHandler",ondragfinish:"dragfinish"},pullingMessage:"Pull down to refresh...",pulledMessage:"Release to refresh...",loadingMessage:"Loading...",pullingIconClass:"enyo-puller-arrow enyo-puller-arrow-down",pulledIconClass:"enyo-puller-arrow enyo-puller-arrow-up",loadingIconClass:"",create:enyo.inherit(function(t){return function(){var e={kind:"Puller",showing:!1,text:this.loadingMessage,iconClass:this.loadingIconClass,onCreate:"setPully"};this.listTools.splice(0,0,e),t.apply(this,arguments),this.setPulling()}}),initComponents:enyo.inherit(function(t){return function(){this.createChrome(this.pulldownTools),this.accel=enyo.dom.canAccelerate(),this.translation=this.accel?"translate3d":"translate",this.strategyKind=this.resetStrategyKind(),t.apply(this,arguments)}}),resetStrategyKind:function(){return enyo.platform.android>=3?"TranslateScrollStrategy":"TouchScrollStrategy"},setPully:function(t,e){this.pully=e.originator},scrollStartHandler:function(){this.firedPullStart=!1,this.firedPull=!1,this.firedPullCancel=!1},scroll:enyo.inherit(function(t){return function(){var e=t.apply(this,arguments);this.completingPull&&this.pully.setShowing(!1);var i=this.getStrategy().$.scrollMath||this.getStrategy(),o=-1*this.getScrollTop();return i.isInOverScroll()&&o>0&&(enyo.dom.transformValue(this.$.pulldown,this.translation,"0,"+o+"px"+(this.accel?",0":"")),this.firedPullStart||(this.firedPullStart=!0,this.pullStart(),this.pullHeight=this.$.pulldown.getBounds().height),o>this.pullHeight&&!this.firedPull&&(this.firedPull=!0,this.firedPullCancel=!1,this.pull()),this.firedPull&&!this.firedPullCancel&&this.pullHeight>o&&(this.firedPullCancel=!0,this.firedPull=!1,this.pullCancel())),e}}),scrollStopHandler:function(){this.completingPull&&(this.completingPull=!1,this.doPullComplete())},dragfinish:function(){if(this.firedPull){var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(-1*this.getScrollTop()-this.pullHeight),this.pullRelease()}},completePull:function(){this.completingPull=!0;var t=this.getStrategy().$.scrollMath||this.getStrategy();t.setScrollY(this.pullHeight),t.start()},pullStart:function(){this.setPulling(),this.pully.setShowing(!1),this.$.puller.setShowing(!0),this.doPullStart()},pull:function(){this.setPulled(),this.doPull()},pullCancel:function(){this.setPulling(),this.doPullCancel()},pullRelease:function(){this.$.puller.setShowing(!1),this.pully.setShowing(!0),this.doPullRelease()},setPulling:function(){this.$.puller.setText(this.pullingMessage),this.$.puller.setIconClass(this.pullingIconClass)},setPulled:function(){this.$.puller.setText(this.pulledMessage),this.$.puller.setIconClass(this.pulledIconClass)}}),enyo.kind({name:"enyo.Puller",classes:"enyo-puller",published:{text:"",iconClass:""},events:{onCreate:""},components:[{name:"icon"},{name:"text",tag:"span",classes:"enyo-puller-text"}],create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.doCreate(),this.textChanged(),this.iconClassChanged()}}),textChanged:function(){this.$.text.setContent(this.text)},iconClassChanged:function(){this.$.icon.setClasses(this.iconClass)}});

// lib/layout/list/source/AroundList.js
enyo.kind({name:"enyo.AroundList",kind:"enyo.List",listTools:[{name:"port",classes:"enyo-list-port enyo-border-box",components:[{name:"aboveClient"},{name:"generator",kind:"FlyweightRepeater",canGenerate:!1,components:[{tag:null,name:"client"}]},{name:"holdingarea",allowHtml:!0,classes:"enyo-list-holdingarea"},{name:"page0",allowHtml:!0,classes:"enyo-list-page"},{name:"page1",allowHtml:!0,classes:"enyo-list-page"},{name:"belowClient"},{name:"placeholder"},{name:"swipeableComponents",style:"position:absolute; display:block; top:-1000px; left:0px;"}]}],aboveComponents:null,initComponents:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.aboveComponents&&this.$.aboveClient.createComponents(this.aboveComponents,{owner:this.owner}),this.belowComponents&&this.$.belowClient.createComponents(this.belowComponents,{owner:this.owner})}}),updateMetrics:function(){this.defaultPageSize=this.rowsPerPage*(this.rowSize||100),this.pageCount=Math.ceil(this.count/this.rowsPerPage),this.aboveHeight=this.$.aboveClient.getBounds().height,this.belowHeight=this.$.belowClient.getBounds().height,this.portSize=this.aboveHeight+this.belowHeight;for(var t=0;this.pageCount>t;t++)this.portSize+=this.getPageSize(t);this.adjustPortSize()},positionPage:function(t,e){e.pageNo=t;var i=this.pageToPosition(t),o=this.bottomUp?this.belowHeight:this.aboveHeight;i+=o,e.applyStyle(this.pageBound,i+"px")},scrollToContentStart:function(){var t=this.bottomUp?this.belowHeight:this.aboveHeight;this.setScrollPosition(t)}});

// lib/layout/list/source/GridListImageItem.js
enyo.kind({name:"enyo.GridListImageItem",classes:"enyo-gridlist-imageitem",components:[{name:"image",kind:"enyo.Image",classes:"image"},{name:"caption",classes:"caption"},{name:"subCaption",classes:"sub-caption"}],published:{source:"",caption:"",subCaption:"",selected:!1,centered:!0,imageSizing:"",useCaption:!0,useSubCaption:!0},bindings:[{from:".source",to:".$.image.src"},{from:".caption",to:".$.caption.content"},{from:".caption",to:".$.caption.showing",kind:"enyo.EmptyBinding"},{from:".subCaption",to:".$.subCaption.content"},{from:".subCaption",to:".$.subCaption.showing",kind:"enyo.EmptyBinding"}],create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.selectedChanged(),this.imageSizingChanged(),this.centeredChanged()}}),selectedChanged:function(){this.addRemoveClass("selected",this.selected)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},imageSizingChanged:function(){this.$.image.setSizing(this.imageSizing),this.addRemoveClass("sized-image",!!this.imageSizing),this.imageSizing&&(this.useCaptionChanged(),this.useSubCaptionChanged())},useCaptionChanged:function(){this.addRemoveClass("use-caption",this.useCaption)},useSubCaptionChanged:function(){this.addRemoveClass("use-subcaption",this.useSubCaption)},centeredChanged:function(){this.addRemoveClass("centered",this.centered)}});

// lib/layout/slideable/source/Slideable.js
enyo.kind({name:"enyo.Slideable",kind:"Control",published:{axis:"h",value:0,unit:"px",min:0,max:0,accelerated:"auto",overMoving:!0,draggable:!0},events:{onAnimateFinish:"",onChange:""},preventDragPropagation:!1,tools:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"}],handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},kDragScalar:1,dragEventProp:"dx",unitModifier:!1,canTransform:!1,create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.acceleratedChanged(),this.transformChanged(),this.axisChanged(),this.valueChanged(),this.addClass("enyo-slideable")}}),initComponents:enyo.inherit(function(t){return function(){this.createComponents(this.tools),t.apply(this,arguments)}}),rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.canModifyUnit(),this.updateDragScalar()}}),resizeHandler:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.updateDragScalar()}}),canModifyUnit:function(){if(!this.canTransform){var t=this.getInitialStyleValue(this.hasNode(),this.boundary);t.match(/px/i)&&"%"===this.unit&&(this.unitModifier=this.getBounds()[this.dimension])}},getInitialStyleValue:function(t,e){var i=enyo.dom.getComputedStyle(t);return i?i.getPropertyValue(e):t&&t.currentStyle?t.currentStyle[e]:"0"},updateBounds:function(t,e){var i={};i[this.boundary]=t,this.setBounds(i,this.unit),this.setInlineStyles(t,e)},updateDragScalar:function(){if("%"==this.unit){var t=this.getBounds()[this.dimension];this.kDragScalar=t?100/t:1,this.canTransform||this.updateBounds(this.value,100)}},transformChanged:function(){this.canTransform=enyo.dom.canTransform()},acceleratedChanged:function(){(!enyo.platform.android||2>=enyo.platform.android)&&enyo.dom.accelerate(this,this.accelerated)},axisChanged:function(){var t="h"==this.axis;this.dragMoveProp=t?"dx":"dy",this.shouldDragProp=t?"horizontal":"vertical",this.transform=t?"translateX":"translateY",this.dimension=t?"width":"height",this.boundary=t?"left":"top"},setInlineStyles:function(t,e){var i={};this.unitModifier?(i[this.boundary]=this.percentToPixels(t,this.unitModifier),i[this.dimension]=this.unitModifier,this.setBounds(i)):(e?i[this.dimension]=e:i[this.boundary]=t,this.setBounds(i,this.unit))},valueChanged:function(t){var e=this.value;this.isOob(e)&&!this.isAnimating()&&(this.value=this.overMoving?this.dampValue(e):this.clampValue(e)),enyo.platform.android>2&&(this.value?(0===t||void 0===t)&&enyo.dom.accelerate(this,this.accelerated):enyo.dom.accelerate(this,!1)),this.canTransform?enyo.dom.transformValue(this,this.transform,this.value+this.unit):this.setInlineStyles(this.value,!1),this.doChange()},getAnimator:function(){return this.$.animator},isAtMin:function(){return this.value<=this.calcMin()},isAtMax:function(){return this.value>=this.calcMax()},calcMin:function(){return this.min},calcMax:function(){return this.max},clampValue:function(t){var e=this.calcMin(),i=this.calcMax();return Math.max(e,Math.min(t,i))},dampValue:function(t){return this.dampBound(this.dampBound(t,this.min,1),this.max,-1)},dampBound:function(t,e,i){var o=t;return e*i>o*i&&(o=e+(o-e)/4),o},percentToPixels:function(t,e){return Math.floor(e/100*t)},pixelsToPercent:function(t){var e=this.unitModifier?this.getBounds()[this.dimension]:this.container.getBounds()[this.dimension];return 100*(t/e)},shouldDrag:function(t){return this.draggable&&t[this.shouldDragProp]},isOob:function(t){return t>this.calcMax()||this.calcMin()>t},dragstart:function(t,e){return this.shouldDrag(e)?(e.preventDefault(),this.$.animator.stop(),e.dragInfo={},this.dragging=!0,this.drag0=this.value,this.dragd0=0,this.preventDragPropagation):void 0},drag:function(t,e){if(this.dragging){e.preventDefault();var i=this.canTransform?e[this.dragMoveProp]*this.kDragScalar:this.pixelsToPercent(e[this.dragMoveProp]),o=this.drag0+i,n=i-this.dragd0;return this.dragd0=i,n&&(e.dragInfo.minimizing=0>n),this.setValue(o),this.preventDragPropagation}},dragfinish:function(t,e){return this.dragging?(this.dragging=!1,this.completeDrag(e),e.preventTap(),this.preventDragPropagation):void 0},completeDrag:function(t){this.value!==this.calcMax()&&this.value!=this.calcMin()&&this.animateToMinMax(t.dragInfo.minimizing)},isAnimating:function(){return this.$.animator.isAnimating()},play:function(t,e){this.$.animator.play({startValue:t,endValue:e,node:this.hasNode()})},animateTo:function(t){this.play(this.value,t)},animateToMin:function(){this.animateTo(this.calcMin())},animateToMax:function(){this.animateTo(this.calcMax())},animateToMinMax:function(t){t?this.animateToMin():this.animateToMax()},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.doAnimateFinish(t),!0},toggleMinMax:function(){this.animateToMinMax(!this.isAtMin())}});

// lib/layout/panels/source/arrangers/Arranger.js
enyo.kind({name:"enyo.Arranger",kind:"Layout",layoutClass:"enyo-arranger",accelerated:"auto",dragProp:"ddx",dragDirectionProp:"xDirection",canDragProp:"horizontal",incrementalPoints:!1,destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),o=0;e=i[o];o++)e._arranger=null;t.apply(this,arguments)}}),arrange:function(){},size:function(){},start:function(){var t=this.container.fromIndex,e=this.container.toIndex,i=this.container.transitionPoints=[t];if(this.incrementalPoints)for(var o=Math.abs(e-t)-2,n=t;o>=0;)n+=t>e?-1:1,i.push(n),o--;i.push(this.container.toIndex)},finish:function(){},calcArrangementDifference:function(){},canDragEvent:function(t){return t[this.canDragProp]},calcDragDirection:function(t){return t[this.dragDirectionProp]},calcDrag:function(t){return t[this.dragProp]},drag:function(t,e,i,o,n){var s=this.measureArrangementDelta(-t,e,i,o,n);return s},measureArrangementDelta:function(t,e,i,o,n){var s=this.calcArrangementDifference(e,i,o,n),r=s?t/Math.abs(s):0;return r*=this.container.fromIndex>this.container.toIndex?-1:1},_arrange:function(t){this.containerBounds||this.reflow();var e=this.getOrderedControls(t);this.arrange(e,t)},arrangeControl:function(t,e){t._arranger=enyo.mixin(t._arranger||{},e)},flow:function(){this.c$=[].concat(this.container.getPanels()),this.controlsIndex=0;for(var t,e=0,i=this.container.getPanels();t=i[e];e++)if(enyo.dom.accelerate(t,!t.preventAccelerate&&this.accelerated),enyo.platform.safari)for(var o,n=t.children,s=0;o=n[s];s++)enyo.dom.accelerate(o,this.accelerated)},reflow:function(){var t=this.container.hasNode();this.containerBounds=t?{width:t.clientWidth,height:t.clientHeight}:{},this.size()},flowArrangement:function(){var t=this.container.arrangement;if(t)for(var e,i=0,o=this.container.getPanels();(e=o[i])&&t[i];i++)this.flowControl(e,t[i])},flowControl:function(t,e){enyo.Arranger.positionControl(t,e);var i=e.opacity;null!=i&&enyo.Arranger.opacifyControl(t,i)},getOrderedControls:function(t){for(var e=Math.floor(t),i=e-this.controlsIndex,o=i>0,n=this.c$||[],s=0;Math.abs(i)>s;s++)o?n.push(n.shift()):n.unshift(n.pop());return this.controlsIndex=e,n},statics:{positionControl:function(t,e,i){var o=i||"px";if(!this.updating)if(!enyo.dom.canTransform()||t.preventTransform||enyo.platform.android||10===enyo.platform.ie)enyo.dom.canTransform()&&t.preventTransform&&enyo.dom.transform(t,{translateX:null,translateY:null}),t.setBounds(e,i);else{var n=e.left,s=e.top;n=enyo.isString(n)?n:n&&n+o,s=enyo.isString(s)?s:s&&s+o,enyo.dom.transform(t,{translateX:n||null,translateY:s||null})}},opacifyControl:function(t,e){var i=e;i=i>.99?1:.01>i?0:i,9>enyo.platform.ie?t.applyStyle("filter","progid:DXImageTransform.Microsoft.Alpha(Opacity="+100*i+")"):t.applyStyle("opacity",i)}}});

// lib/layout/panels/source/arrangers/CardArranger.js
enyo.kind({name:"enyo.CardArranger",kind:"Arranger",layoutClass:"enyo-arranger enyo-arranger-fit",calcArrangementDifference:function(){return this.containerBounds.width},arrange:function(t){for(var e,i,n=0;e=t[n];n++)i=0===n?1:0,this.arrangeControl(e,{opacity:i})},start:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.getPanels(),n=0;e=i[n];n++){var o=e.showing;e.setShowing(n==this.container.fromIndex||n==this.container.toIndex),e.showing&&!o&&e.resized()}}}),finish:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e.setShowing(n==this.container.toIndex)}}),destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.opacifyControl(e,1),e.showing||e.setShowing(!0);t.apply(this,arguments)}})});

// lib/layout/panels/source/arrangers/CardSlideInArranger.js
enyo.kind({name:"enyo.CardSlideInArranger",kind:"CardArranger",start:function(){for(var t,e=this.container.getPanels(),i=0;t=e[i];i++){var n=t.showing;t.setShowing(i==this.container.fromIndex||i==this.container.toIndex),t.showing&&!n&&t.resized()}var o=this.container.fromIndex;i=this.container.toIndex,this.container.transitionPoints=[i+"."+o+".s",i+"."+o+".f"]},finish:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e.setShowing(n==this.container.toIndex)}}),arrange:function(t,e){for(var i,n,o=e.split("."),s=o[0],r=o[1],a="s"==o[2],h=this.containerBounds.width,l=0,d=this.container.getPanels();i=d[l];l++)n=h,r==l&&(n=a?0:-h),s==l&&(n=a?h:0),r==l&&r==s&&(n=0),this.arrangeControl(i,{left:n})},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null});t.apply(this,arguments)}})});

// lib/layout/panels/source/arrangers/CarouselArranger.js
enyo.kind({name:"enyo.CarouselArranger",kind:"Arranger",size:function(){var t,e,i,n,o,s=this.container.getPanels(),r=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},a=this.containerBounds;a.height-=r.top+r.bottom,a.width-=r.left+r.right;var h;for(t=0,i=0;o=s[t];t++)n=enyo.dom.calcMarginExtents(o.hasNode()),o.width=o.getBounds().width,o.marginWidth=n.right+n.left,i+=(o.fit?0:o.width)+o.marginWidth,o.fit&&(h=o);if(h){var l=a.width-i;h.width=l>=0?l:h.width}for(t=0,e=r.left;o=s[t];t++)o.setBounds({top:r.top,bottom:r.bottom,width:o.fit?o.width:null})},arrange:function(t,e){this.container.wrap?this.arrangeWrap(t,e):this.arrangeNoWrap(t,e)},arrangeNoWrap:function(t,e){var i,n,o,s,r=this.container.getPanels(),a=this.container.clamp(e),h=this.containerBounds.width;for(i=a,o=0;(s=r[i])&&(o+=s.width+s.marginWidth,!(o>h));i++);var l=h-o,d=0;if(l>0)for(i=a-1,n=0;s=r[i];i--)if(n+=s.width+s.marginWidth,0>=l-n){d=l-n,a=i;break}var c,u;for(i=0,u=this.containerPadding.left+d;s=r[i];i++)c=s.width+s.marginWidth,a>i?this.arrangeControl(s,{left:-c}):(this.arrangeControl(s,{left:Math.floor(u)}),u+=c)},arrangeWrap:function(t){for(var e,i=0,n=this.containerPadding.left;e=t[i];i++)this.arrangeControl(e,{left:n}),n+=e.width+e.marginWidth},calcArrangementDifference:function(t,e,i,n){var o=Math.abs(t%this.c$.length);return e[o].left-n[o].left},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null,top:null}),e.applyStyle("top",null),e.applyStyle("bottom",null),e.applyStyle("left",null),e.applyStyle("width",null);t.apply(this,arguments)}})});

// lib/layout/panels/source/arrangers/CollapsingArranger.js
enyo.kind({name:"enyo.CollapsingArranger",kind:"CarouselArranger",peekWidth:0,size:enyo.inherit(function(t){return function(){this.clearLastSize(),t.apply(this,arguments)}}),clearLastSize:function(){for(var t,e=0,i=this.container.getPanels();t=i[e];e++)t._fit&&e!=i.length-1&&(t.applyStyle("width",null),t._fit=null)},constructor:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.peekWidth=null!=this.container.peekWidth?this.container.peekWidth:this.peekWidth}}),arrange:function(t,e){for(var i,n=this.container.getPanels(),o=0,s=this.containerPadding.left,r=0;i=n[o];o++)i.getShowing()?(this.arrangeControl(i,{left:s+r*this.peekWidth}),o>=e&&(s+=i.width+i.marginWidth-this.peekWidth),r++):(this.arrangeControl(i,{left:s}),o>=e&&(s+=i.width+i.marginWidth)),o==n.length-1&&0>e&&this.arrangeControl(i,{left:s-e})},calcArrangementDifference:function(t,e,i,n){var o=this.container.getPanels().length-1;return Math.abs(n[o].left-e[o].left)},flowControl:enyo.inherit(function(t){return function(e,i){if(t.apply(this,arguments),this.container.realtimeFit){var n=this.container.getPanels(),o=n.length-1,s=n[o];e==s&&this.fitControl(e,i.left)}}}),finish:enyo.inherit(function(t){return function(){if(t.apply(this,arguments),!this.container.realtimeFit&&this.containerBounds){var e=this.container.getPanels(),i=this.container.arrangement,n=e.length-1,o=e[n];this.fitControl(o,i[n].left)}}}),fitControl:function(t,e){t._fit=!0,t.applyStyle("width",this.containerBounds.width-e+"px"),t.resized()}});

// lib/layout/panels/source/arrangers/DockRightArranger.js
enyo.kind({name:"enyo.DockRightArranger",kind:"Arranger",basePanel:!1,overlap:0,layoutWidth:0,constructor:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.overlap=null!=this.container.overlap?this.container.overlap:this.overlap,this.layoutWidth=null!=this.container.layoutWidth?this.container.layoutWidth:this.layoutWidth}}),size:function(){var t,e,i,n=this.container.getPanels(),o=this.containerPadding=this.container.hasNode()?enyo.dom.calcPaddingExtents(this.container.node):{},s=this.containerBounds;s.width-=o.left+o.right;var r,a=s.width,h=n.length;for(this.container.transitionPositions={},t=0;i=n[t];t++)i.width=0===t&&this.container.basePanel?a:i.getBounds().width;for(t=0;i=n[t];t++){0===t&&this.container.basePanel&&i.setBounds({width:a}),i.setBounds({top:o.top,bottom:o.bottom});for(var l=0;i=n[l];l++){var d;if(0===t&&this.container.basePanel)d=0;else if(t>l)d=a;else{if(t!==l)break;r=a>this.layoutWidth?this.overlap:0,d=a-n[t].width+r}this.container.transitionPositions[t+"."+l]=d}if(h>l)for(var c=!1,u=t+1;h>u;u++){if(r=0,c)r=0;else if(n[t].width+n[u].width-this.overlap>a)r=0,c=!0;else{for(r=n[t].width-this.overlap,e=t;u>e;e++){var g=r+n[e+1].width-this.overlap;if(!(a>g)){r=a;break}r=g}r=a-r}this.container.transitionPositions[t+"."+u]=r}}},arrange:function(t,e){var i,n,o=this.container.getPanels(),s=this.container.clamp(e);for(i=0;n=o[i];i++){var r=this.container.transitionPositions[i+"."+s];this.arrangeControl(n,{left:r})}},calcArrangementDifference:function(t,e,i){var n=this.container.getPanels(),o=i>t?n[i].width:n[t].width;return o},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null,top:null}),e.applyStyle("top",null),e.applyStyle("bottom",null),e.applyStyle("left",null),e.applyStyle("width",null);t.apply(this,arguments)}})});

// lib/layout/panels/source/arrangers/OtherArrangers.js
enyo.kind({name:"enyo.LeftRightArranger",kind:"Arranger",margin:40,axisSize:"width",offAxisSize:"height",axisPosition:"left",constructor:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.margin=null!=this.container.margin?this.container.margin:this.margin}}),size:function(){for(var t,e,i=this.container.getPanels(),n=this.containerBounds[this.axisSize],o=n-this.margin-this.margin,s=0;e=i[s];s++)t={},t[this.axisSize]=o,t[this.offAxisSize]="100%",e.setBounds(t)},start:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.container.fromIndex,n=this.container.toIndex,o=this.getOrderedControls(n),s=Math.floor(o.length/2),r=0;e=o[r];r++)i>n?r==o.length-s?e.applyStyle("z-index",0):e.applyStyle("z-index",1):r==o.length-1-s?e.applyStyle("z-index",0):e.applyStyle("z-index",1)}}),arrange:function(t,e){var i,n,o;if(1==this.container.getPanels().length)return o={},o[this.axisPosition]=this.margin,this.arrangeControl(this.container.getPanels()[0],o),void 0;var s=Math.floor(this.container.getPanels().length/2),r=this.getOrderedControls(Math.floor(e)-s),a=this.containerBounds[this.axisSize]-this.margin-this.margin,h=this.margin-a*s;for(i=0;n=r[i];i++)o={},o[this.axisPosition]=h,this.arrangeControl(n,o),h+=a},calcArrangementDifference:function(t,e,i,n){if(1==this.container.getPanels().length)return 0;var o=Math.abs(t%this.c$.length);return e[o][this.axisPosition]-n[o][this.axisPosition]},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null,top:null}),enyo.Arranger.opacifyControl(e,1),e.applyStyle("left",null),e.applyStyle("top",null),e.applyStyle("height",null),e.applyStyle("width",null);t.apply(this,arguments)}})}),enyo.kind({name:"enyo.TopBottomArranger",kind:"LeftRightArranger",dragProp:"ddy",dragDirectionProp:"yDirection",canDragProp:"vertical",axisSize:"height",offAxisSize:"width",axisPosition:"top"}),enyo.kind({name:"enyo.SpiralArranger",kind:"Arranger",incrementalPoints:!0,inc:20,size:function(){for(var t,e=this.container.getPanels(),i=this.containerBounds,n=this.controlWidth=i.width/3,o=this.controlHeight=i.height/3,s=0;t=e[s];s++)t.setBounds({width:n,height:o})},arrange:function(t){for(var e,i=this.inc,n=0,o=t.length;e=t[n];n++){var s=Math.cos(2*(n/o)*Math.PI)*n*i+this.controlWidth,r=Math.sin(2*(n/o)*Math.PI)*n*i+this.controlHeight;this.arrangeControl(e,{left:s,top:r})}},start:enyo.inherit(function(t){return function(){t.apply(this,arguments);for(var e,i=this.getOrderedControls(this.container.toIndex),n=0;e=i[n];n++)e.applyStyle("z-index",i.length-n)}}),calcArrangementDifference:function(){return this.controlWidth},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)e.applyStyle("z-index",null),enyo.Arranger.positionControl(e,{left:null,top:null}),e.applyStyle("left",null),e.applyStyle("top",null),e.applyStyle("height",null),e.applyStyle("width",null);t.apply(this,arguments)}})}),enyo.kind({name:"enyo.GridArranger",kind:"Arranger",incrementalPoints:!0,colWidth:100,colHeight:100,size:function(){for(var t,e=this.container.getPanels(),i=this.colWidth,n=this.colHeight,o=0;t=e[o];o++)t.setBounds({width:i,height:n})},arrange:function(t){for(var e,i=this.colWidth,n=this.colHeight,o=Math.max(1,Math.floor(this.containerBounds.width/i)),s=0,r=0;t.length>r;s++)for(var a=0;o>a&&(e=t[r]);a++,r++)this.arrangeControl(e,{left:i*a,top:n*s})},flowControl:enyo.inherit(function(t){return function(e,i){t.apply(this,arguments),enyo.Arranger.opacifyControl(e,0!==i.top%this.colHeight?.25:1)}}),calcArrangementDifference:function(){return this.colWidth},destroy:enyo.inherit(function(t){return function(){for(var e,i=this.container.getPanels(),n=0;e=i[n];n++)enyo.Arranger.positionControl(e,{left:null,top:null}),e.applyStyle("left",null),e.applyStyle("top",null),e.applyStyle("height",null),e.applyStyle("width",null);t.apply(this,arguments)}})});

// lib/layout/panels/source/Panels.js
enyo.kind({name:"enyo.Panels",classes:"enyo-panels",published:{index:0,draggable:!0,animate:!0,wrap:!1,arrangerKind:"CardArranger",narrowFit:!0},events:{onTransitionStart:"",onTransitionFinish:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",onscroll:"domScroll"},tools:[{kind:"Animator",onStep:"step",onEnd:"completed"}],fraction:0,create:enyo.inherit(function(t){return function(){this.transitionPoints=[],t.apply(this,arguments),this.arrangerKindChanged(),this.narrowFitChanged(),this.indexChanged()}}),rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),enyo.makeBubble(this,"scroll")}}),domScroll:function(){this.hasNode()&&this.node.scrollLeft>0&&(this.node.scrollLeft=0)},initComponents:enyo.inherit(function(t){return function(){this.createChrome(this.tools),t.apply(this,arguments)}}),arrangerKindChanged:function(){this.setLayoutKind(this.arrangerKind)},narrowFitChanged:function(){this.addRemoveClass("enyo-panels-fit-narrow",this.narrowFit&&enyo.Panels.isScreenNarrow())},destroy:enyo.inherit(function(t){return function(){this.destroying=!0,t.apply(this,arguments)}}),removeControl:enyo.inherit(function(t){return function(e){if(this.destroying)return t.apply(this,arguments);var i=-1,n=enyo.indexOf(e,this.controls);n===this.index&&(i=Math.max(n-1,0)),t.apply(this,arguments),-1!==i&&this.controls.length>0&&(this.setIndex(i),this.flow(),this.reflow())}}),isPanel:function(){return!0},flow:enyo.inherit(function(t){return function(){this.arrangements=[],t.apply(this,arguments)}}),reflow:enyo.inherit(function(t){return function(){this.arrangements=[],t.apply(this,arguments),this.refresh()}}),getPanels:function(){var t=this.controlParent||this;return t.children},getActive:function(){var t=this.getPanels(),e=this.index%t.length;return 0>e&&(e+=t.length),t[e]},getAnimator:function(){return this.$.animator},setIndex:function(t){var e=this.get("index"),i=this.clamp(t);this.index=i,this.notifyObservers("index",e,i)},setIndexDirect:function(t){this.setIndex(t),this.completed()},selectPanelByName:function(t){if(t)for(var e=0,i=this.getPanels(),n=i.length;n>e;++e)if(t===i[e].name)return this.setIndex(e),e},previous:function(){var t=this.index-1;this.wrap&&0>t&&(t=this.getPanels().length-1),this.setIndex(t)},next:function(){var t=this.index+1;this.wrap&&t>=this.getPanels().length&&(t=0),this.setIndex(t)},clamp:function(t){var e=this.getPanels().length;return this.wrap?(t%=e,0>t?t+e:t):Math.max(0,Math.min(t,e-1))},indexChanged:function(t){this.lastIndex=t,!this.dragging&&this.$.animator&&(this.$.animator.isAnimating()&&(this.finishTransitionInfo&&(this.finishTransitionInfo.animating=!0),this.completed()),this.$.animator.stop(),this.hasNode()&&(this.animate?(this.startTransition(!0),this.$.animator.play({startValue:this.fraction})):this.refresh()))},step:function(t){return this.fraction=t.value,this.stepTransition(),!0},completed:function(){return this.$.animator.isAnimating()&&this.$.animator.stop(),this.fraction=1,this.stepTransition(),this.finishTransition(!0),!0},dragstart:function(t,e){return this.draggable&&this.layout&&this.layout.canDragEvent(e)?(e.preventDefault(),this.dragstartTransition(e),this.dragging=!0,this.$.animator.stop(),!0):void 0},drag:function(t,e){this.dragging&&(e.preventDefault(),this.dragTransition(e))},dragfinish:function(t,e){this.dragging&&(this.dragging=!1,e.preventTap(),this.dragfinishTransition(e))},dragstartTransition:function(t){if(this.$.animator.isAnimating())this.verifyDragTransition(t);else{var e=this.fromIndex=this.index;this.toIndex=e-(this.layout?this.layout.calcDragDirection(t):0)}this.fromIndex=this.clamp(this.fromIndex),this.toIndex=this.clamp(this.toIndex),this.fireTransitionStart(),this.layout&&this.layout.start()},dragTransition:function(t){var e=this.layout?this.layout.calcDrag(t):0,i=this.transitionPoints,n=i[0],o=i[i.length-1],s=this.fetchArrangement(n),r=this.fetchArrangement(o),a=this.layout?this.layout.drag(e,n,s,o,r):0,h=e&&!a;this.fraction+=a;var l=this.fraction;(l>1||0>l||h)&&((l>0||h)&&this.dragfinishTransition(t),this.dragstartTransition(t),this.fraction=0),this.stepTransition()},dragfinishTransition:function(t){this.verifyDragTransition(t),this.setIndex(this.toIndex),this.dragging&&this.fireTransitionFinish()},verifyDragTransition:function(t){var e=this.layout?this.layout.calcDragDirection(t):0,i=Math.min(this.fromIndex,this.toIndex),n=Math.max(this.fromIndex,this.toIndex);if(e>0){var o=i;i=n,n=o}i!=this.fromIndex&&(this.fraction=1-this.fraction),this.fromIndex=i,this.toIndex=n},refresh:function(){this.$.animator&&this.$.animator.isAnimating()&&this.$.animator.stop(),this.startTransition(!1),this.fraction=1,this.stepTransition(),this.finishTransition(!1)},startTransition:function(t){this.fromIndex=null!=this.fromIndex?this.fromIndex:this.lastIndex||0,this.toIndex=null!=this.toIndex?this.toIndex:this.index,this.layout&&this.layout.start(),t&&this.fireTransitionStart()},finishTransition:function(t){this.layout&&this.layout.finish(),this.transitionPoints=[],this.fraction=0,this.fromIndex=this.toIndex=null,t&&this.fireTransitionFinish()},fireTransitionStart:function(){var t=this.startTransitionInfo;!this.hasNode()||t&&t.fromIndex==this.fromIndex&&t.toIndex==this.toIndex||(this.startTransitionInfo={fromIndex:this.fromIndex,toIndex:this.toIndex},this.doTransitionStart(enyo.clone(this.startTransitionInfo)))},fireTransitionFinish:function(){var t=this.finishTransitionInfo;!this.hasNode()||t&&t.fromIndex==this.lastIndex&&t.toIndex==this.index||(this.finishTransitionInfo=t&&t.animating?{fromIndex:t.toIndex,toIndex:this.lastIndex}:{fromIndex:this.lastIndex,toIndex:this.index},this.doTransitionFinish(enyo.clone(this.finishTransitionInfo)))},stepTransition:function(){if(this.hasNode()){var t=this.transitionPoints,e=(this.fraction||0)*(t.length-1),i=Math.floor(e);e-=i;var n=t[i],o=t[i+1],s=this.fetchArrangement(n),r=this.fetchArrangement(o);this.arrangement=s&&r?enyo.Panels.lerp(s,r,e):s||r,this.arrangement&&this.layout&&this.layout.flowArrangement()}},fetchArrangement:function(t){return null!=t&&!this.arrangements[t]&&this.layout&&(this.layout._arrange(t),this.arrangements[t]=this.readArrangement(this.getPanels())),this.arrangements[t]},readArrangement:function(t){for(var e,i=[],n=0,o=t;e=o[n];n++)i.push(enyo.clone(e._arranger));return i},statics:{isScreenNarrow:function(){var t=navigator.userAgent,e=enyo.dom.getWindowWidth();switch(enyo.platform.platformName){case"ios":return/iP(?:hone|od;(?: U;)? CPU) OS (\d+)/.test(t);case"android":return/Mobile/.test(t)&&(enyo.platform.android>2?!0:800>=e);case"androidChrome":return/Mobile/.test(t)}return 800>=e},lerp:function(t,e,i){for(var n,o=[],s=0,r=enyo.keys(t);n=r[s];s++)o.push(this.lerpObject(t[n],e[n],i));return o},lerpObject:function(t,e,i){var n,o,s=enyo.clone(t);if(e)for(var r in t)n=t[r],o=e[r],n!=o&&(s[r]=n-(n-o)*i);return s}}});

// lib/layout/tree/source/Node.js
enyo.kind({name:"enyo.Node",published:{expandable:!1,expanded:!1,icon:"",onlyIconExpands:!1,selected:!1},style:"padding: 0 0 0 16px;",content:"Node",defaultKind:"Node",classes:"enyo-node",components:[{name:"icon",kind:"Image",showing:!1},{kind:"Control",name:"caption",Xtag:"span",style:"display: inline-block; padding: 4px;",allowHtml:!0},{kind:"Control",name:"extra",tag:"span",allowHtml:!0}],childClient:[{kind:"Control",name:"box",classes:"enyo-node-box",Xstyle:"border: 1px solid orange;",components:[{kind:"Control",name:"client",classes:"enyo-node-client",Xstyle:"border: 1px solid lightblue;"}]}],handlers:{ondblclick:"dblclick"},events:{onNodeTap:"nodeTap",onNodeDblClick:"nodeDblClick",onExpand:"nodeExpand",onDestroyed:"nodeDestroyed"},create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.selectedChanged(),this.iconChanged()}}),destroy:enyo.inherit(function(t){return function(){this.doDestroyed(),t.apply(this,arguments)}}),initComponents:enyo.inherit(function(t){return function(){this.expandable&&(this.kindComponents=this.kindComponents.concat(this.childClient)),t.apply(this,arguments)}}),contentChanged:function(){this.$.caption.setContent(this.content)},iconChanged:function(){this.$.icon.setSrc(this.icon),this.$.icon.setShowing(Boolean(this.icon))},selectedChanged:function(){this.addRemoveClass("enyo-selected",this.selected)},rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.expandable&&!this.expanded&&this.quickCollapse()}}),addNodes:function(t){this.destroyClientControls();for(var e,i=0;e=t[i];i++)this.createComponent(e);this.$.client.render()},addTextNodes:function(t){this.destroyClientControls();for(var e,i=0;e=t[i];i++)this.createComponent({content:e});this.$.client.render()},tap:function(t,e){return this.onlyIconExpands?e.target==this.$.icon.hasNode()?this.toggleExpanded():this.doNodeTap():(this.toggleExpanded(),this.doNodeTap()),!0},dblclick:function(){return this.doNodeDblClick(),!0},toggleExpanded:function(){this.setExpanded(!this.expanded)},quickCollapse:function(){this.removeClass("enyo-animate"),this.$.box.applyStyle("height","0");var t=this.$.client.getBounds().height;this.$.client.setBounds({top:-t})},_expand:function(){this.addClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),this.$.client.setBounds({top:0}),setTimeout(this.bindSafely(function(){this.expanded&&(this.removeClass("enyo-animate"),this.$.box.applyStyle("height","auto"))}),225)},_collapse:function(){this.removeClass("enyo-animate");var t=this.$.client.getBounds().height;this.$.box.setBounds({height:t}),setTimeout(this.bindSafely(function(){this.addClass("enyo-animate"),this.$.box.applyStyle("height","0"),this.$.client.setBounds({top:-t})}),25)},expandedChanged:function(){if(this.expandable){var t={expanded:this.expanded};this.doExpand(t),t.wait||this.effectExpanded()}else this.expanded=!1},effectExpanded:function(){this.$.client&&(this.expanded?this._expand():this._collapse())}});

// lib/layout/imageview/source/PanZoomView.js
enyo.kind({name:"enyo.PanZoomView",kind:enyo.Scroller,touchOverscroll:!1,thumb:!1,animate:!0,verticalDragPropagation:!0,horizontalDragPropagation:!0,published:{scale:"auto",disableZoom:!1},events:{onZoom:""},touch:!0,preventDragPropagation:!1,handlers:{ondragstart:"dragPropagation",onSetDimensions:"setDimensions"},components:[{name:"animator",kind:"Animator",onStep:"zoomAnimationStep",onEnd:"zoomAnimationEnd"},{name:"viewport",style:"overflow:hidden;min-height:100%;min-width:100%;",classes:"enyo-fit",ongesturechange:"gestureTransform",ongestureend:"saveState",ontap:"singleTap",ondblclick:"doubleClick",onmousewheel:"mousewheel",components:[{name:"content"}]}],create:enyo.inherit(function(t){return function(){this.scaleKeyword=this.scale;var e=this.components;if(this.components=[],t.apply(this,arguments),this.$.content.applyStyle("width",this.contentWidth+"px"),this.$.content.applyStyle("height",this.contentHeight+"px"),this.unscaledComponents){var i=this.hasOwnProperty("unscaledComponents")?this.getInstanceOwner():this;this.createComponents(this.unscaledComponents,{owner:i})}this.controlParentName="content",this.discoverControlParent(),this.createComponents(e),this.canTransform=enyo.dom.canTransform(),this.canTransform||this.$.content.applyStyle("position","relative"),this.canAccelerate=enyo.dom.canAccelerate(),this.getStrategy().setDragDuringGesture(!1)}}),rendered:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.getOriginalScale()}}),dragPropagation:function(t,e){var i=this.getStrategy().getScrollBounds(),n=0===i.top&&e.dy>0||i.top>=i.maxTop-2&&0>e.dy,o=0===i.left&&e.dx>0||i.left>=i.maxLeft-2&&0>e.dx;return!(n&&this.verticalDragPropagation||o&&this.horizontalDragPropagation)},mousewheel:function(t,e){e.pageX|=e.clientX+e.target.scrollLeft,e.pageY|=e.clientY+e.target.scrollTop;var i=(this.maxScale-this.minScale)/10,n=this.scale;return e.wheelDelta>0||0>e.detail?this.scale=this.limitScale(this.scale+i):(0>e.wheelDelta||e.detail>0)&&(this.scale=this.limitScale(this.scale-i)),this.eventPt=this.calcEventLocation(e),this.transform(this.scale),n!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null,e.preventDefault(),!0},resizeHandler:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.scaleChanged()}}),setDimensions:function(t,e){return this.$.content.applyStyle("width",e.width+"px"),this.$.content.applyStyle("height",e.height+"px"),this.originalWidth=e.width,this.originalHeight=e.height,this.scale=this.scaleKeyword,this.scaleChanged(),!0},getOriginalScale:function(){this.$.content.hasNode()&&(this.originalWidth=this.$.content.node.clientWidth,this.originalHeight=this.$.content.node.clientHeight,this.scale=this.scaleKeyword,this.scaleChanged())},scaleChanged:function(){var t=this.hasNode();if(t){this.containerWidth=t.clientWidth,this.containerHeight=t.clientHeight;var e=this.containerWidth/this.originalWidth,i=this.containerHeight/this.originalHeight;this.minScale=Math.min(e,i),this.maxScale=1>3*this.minScale?1:3*this.minScale,"auto"==this.scale?this.scale=this.minScale:"width"==this.scale?this.scale=e:"height"==this.scale?this.scale=i:"fit"==this.scale?(this.fitAlignment="center",this.scale=Math.max(e,i)):(this.maxScale=Math.max(this.maxScale,this.scale),this.scale=this.limitScale(this.scale))}this.eventPt=this.calcEventLocation(),this.transform(this.scale),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start(),this.align()},align:function(){if(this.fitAlignment&&"center"===this.fitAlignment){var t=this.getScrollBounds();this.setScrollLeft(t.maxLeft/2),this.setScrollTop(t.maxTop/2)}},gestureTransform:function(t,e){this.eventPt=this.calcEventLocation(e),this.transform(this.limitScale(this.scale*e.scale))},calcEventLocation:function(t){var e={x:0,y:0};if(t&&this.hasNode()){var i=this.node.getBoundingClientRect();e.x=Math.round(t.pageX-i.left-this.bounds.x),e.x=Math.max(0,Math.min(this.bounds.width,e.x)),e.y=Math.round(t.pageY-i.top-this.bounds.y),e.y=Math.max(0,Math.min(this.bounds.height,e.y))}return e},transform:function(t){this.tapped=!1;var e=this.bounds||this.innerBounds(t);this.bounds=this.innerBounds(t),this.scale>this.minScale?this.$.viewport.applyStyle("cursor","move"):this.$.viewport.applyStyle("cursor",null),this.$.viewport.setBounds({width:this.bounds.width+"px",height:this.bounds.height+"px"}),this.ratioX=this.ratioX||(this.eventPt.x+this.getScrollLeft())/e.width,this.ratioY=this.ratioY||(this.eventPt.y+this.getScrollTop())/e.height;var i,n;if(this.$.animator.ratioLock?(i=this.$.animator.ratioLock.x*this.bounds.width-this.containerWidth/2,n=this.$.animator.ratioLock.y*this.bounds.height-this.containerHeight/2):(i=this.ratioX*this.bounds.width-this.eventPt.x,n=this.ratioY*this.bounds.height-this.eventPt.y),i=Math.max(0,Math.min(this.bounds.width-this.containerWidth,i)),n=Math.max(0,Math.min(this.bounds.height-this.containerHeight,n)),this.canTransform){var o={scale:t};o=this.canAccelerate?enyo.mixin({translate3d:Math.round(this.bounds.left)+"px, "+Math.round(this.bounds.top)+"px, 0px"},o):enyo.mixin({translate:this.bounds.left+"px, "+this.bounds.top+"px"},o),enyo.dom.transform(this.$.content,o)}else if(enyo.platform.ie){var s='"progid:DXImageTransform.Microsoft.Matrix(M11='+t+", M12=0, M21=0, M22="+t+", SizingMethod='auto expand')\"";this.$.content.applyStyle("-ms-filter",s),this.$.content.setBounds({width:this.bounds.width*t+"px",height:this.bounds.height*t+"px",left:this.bounds.left+"px",top:this.bounds.top+"px"}),this.$.content.applyStyle("width",t*this.bounds.width),this.$.content.applyStyle("height",t*this.bounds.height)}this.setScrollLeft(i),this.setScrollTop(n),this.positionClientControls(t)},limitScale:function(t){return this.disableZoom?t=this.scale:t>this.maxScale?t=this.maxScale:this.minScale>t&&(t=this.minScale),t},innerBounds:function(t){var e=this.originalWidth*t,i=this.originalHeight*t,n={x:0,y:0,transX:0,transY:0};return this.containerWidth>e&&(n.x+=(this.containerWidth-e)/2),this.containerHeight>i&&(n.y+=(this.containerHeight-i)/2),this.canTransform&&(n.transX-=(this.originalWidth-e)/2,n.transY-=(this.originalHeight-i)/2),{left:n.x+n.transX,top:n.y+n.transY,width:e,height:i,x:n.x,y:n.y}},saveState:function(t,e){var i=this.scale;this.scale*=e.scale,this.scale=this.limitScale(this.scale),i!=this.scale&&this.doZoom({scale:this.scale}),this.ratioX=this.ratioY=null},doubleClick:function(t,e){8==enyo.platform.ie&&(this.tapped=!0,e.pageX=e.clientX+e.target.scrollLeft,e.pageY=e.clientY+e.target.scrollTop,this.singleTap(t,e),e.preventDefault())},singleTap:function(t,e){setTimeout(this.bindSafely(function(){this.tapped=!1}),300),this.tapped?(this.tapped=!1,this.smartZoom(t,e)):this.tapped=!0},smartZoom:function(t,e){var i=this.hasNode(),n=this.$.content.hasNode();if(i&&n&&this.hasNode()&&!this.disableZoom){var o=this.scale;if(this.scale=this.scale!=this.minScale?this.minScale:this.maxScale,this.eventPt=this.calcEventLocation(e),this.animate){var s={x:(this.eventPt.x+this.getScrollLeft())/this.bounds.width,y:(this.eventPt.y+this.getScrollTop())/this.bounds.height};this.$.animator.play({duration:350,ratioLock:s,baseScale:o,deltaScale:this.scale-o})}else this.transform(this.scale),this.doZoom({scale:this.scale})}},zoomAnimationStep:function(){var t=this.$.animator.baseScale+this.$.animator.deltaScale*this.$.animator.value;return this.transform(t),!0},zoomAnimationEnd:function(){return this.stabilize(),this.doZoom({scale:this.scale}),this.$.animator.ratioLock=void 0,!0},positionClientControls:function(t){this.waterfallDown("onPositionPin",{scale:t,bounds:this.bounds})}});

// lib/layout/imageview/source/ImageViewPin.js
enyo.kind({name:"enyo.ImageViewPin",kind:"enyo.Control",published:{highlightAnchorPoint:!1,anchor:{top:0,left:0},position:{top:0,left:0}},style:"position:absolute;z-index:1000;width:0px;height:0px;",handlers:{onPositionPin:"reAnchor"},create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.styleClientControls(),this.positionClientControls(),this.highlightAnchorPointChanged(),this.anchorChanged()}}),styleClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)t[e].applyStyle("position","absolute")},positionClientControls:function(){for(var t=this.getClientControls(),e=0;t.length>e;e++)for(var i in this.position)t[e].applyStyle(i,this.position[i]+"px")},highlightAnchorPointChanged:function(){this.addRemoveClass("pinDebug",this.highlightAnchorPoint)},anchorChanged:function(){var t=null,e=null;for(e in this.anchor)t=(""+this.anchor[e]).match(/^(\d+(?:\.\d+)?)(.*)$/),t&&(this.anchor[e+"Coords"]={value:t[1],units:t[2]||"px"})},reAnchor:function(t,e){var i=e.scale,n=e.bounds,o=this.anchor.right?"px"==this.anchor.rightCoords.units?n.width+n.x-this.anchor.rightCoords.value*i:n.width*(100-this.anchor.rightCoords.value)/100+n.x:"px"==this.anchor.leftCoords.units?this.anchor.leftCoords.value*i+n.x:n.width*this.anchor.leftCoords.value/100+n.x,s=this.anchor.bottom?"px"==this.anchor.bottomCoords.units?n.height+n.y-this.anchor.bottomCoords.value*i:n.height*(100-this.anchor.bottomCoords.value)/100+n.y:"px"==this.anchor.topCoords.units?this.anchor.topCoords.value*i+n.y:n.height*this.anchor.topCoords.value/100+n.y;this.applyStyle("left",o+"px"),this.applyStyle("top",s+"px")}});

// lib/layout/imageview/source/ImageView.js
enyo.kind({name:"enyo.ImageView",kind:"enyo.PanZoomView",subKindComponents:[{kind:"Image",ondown:"down",style:"vertical-align: text-top;"}],create:enyo.inherit(function(t){return function(){this.unscaledComponents=this.components,this.components=[],this.kindComponents[1].components[0].components=this.subKindComponents,t.apply(this,arguments),this.$.content.applyStyle("display","inline-block"),this.bufferImage=new Image,this.bufferImage.onload=enyo.bind(this,"imageLoaded"),this.bufferImage.onerror=enyo.bind(this,"imageError"),this.srcChanged(),this.getStrategy().$.scrollMath&&this.getStrategy().$.scrollMath.start()}}),destroy:enyo.inherit(function(t){return function(){this.bufferImage&&(this.bufferImage.onerror=void 0,this.bufferImage.onerror=void 0,delete this.bufferImage),t.apply(this,arguments)}}),down:function(t,e){e.preventDefault()},srcChanged:function(){this.src&&this.src.length>0&&this.bufferImage&&this.src!=this.bufferImage.src&&(this.bufferImage.src=this.src)},imageLoaded:function(){if(this.scale=this.scaleKeyword,this.originalWidth=this.contentWidth=this.bufferImage.width,this.originalHeight=this.contentHeight=this.bufferImage.height,this.scaleChanged(),this.$.image.setSrc(this.bufferImage.src),enyo.platform.safari){var t=this.$.image.hasNode(),e=this.bufferImage.src;t&&setTimeout(function(){t.src=e},100)}enyo.dom.transformValue(this.getStrategy().$.client,"translate3d","0px, 0px, 0"),this.positionClientControls(this.scale),this.align()},imageError:function(t){enyo.error("Error loading image: "+this.src),this.bubble("onerror",t)}});

// lib/layout/imageview/source/ImageCarousel.js
enyo.kind({name:"enyo.ImageCarousel",kind:enyo.Panels,arrangerKind:"enyo.CarouselArranger",defaultScale:"auto",disableZoom:!1,lowMemory:!1,published:{images:[]},handlers:{onTransitionStart:"transitionStart",onTransitionFinish:"transitionFinish"},create:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.imageCount=this.images.length,this.images.length>0&&(this.initContainers(),this.loadNearby())}}),initContainers:function(){for(var t=0;this.images.length>t;t++)this.$["container"+t]||(this.createComponent({name:"container"+t,style:"height:100%; width:100%;"}),this.$["container"+t].render());for(t=this.images.length;this.imageCount>t;t++)this.$["image"+t]&&this.$["image"+t].destroy(),this.$["container"+t].destroy();this.imageCount=this.images.length},loadNearby:function(){var t=this.getBufferRange();for(var e in t)this.loadImageView(t[e])},getBufferRange:function(){var t=[];if(this.layout.containerBounds){var e,i,n,o,s=1,r=this.layout.containerBounds;for(i=this.index-1,n=0,o=r.width*s;i>=0&&o>=n;)e=this.$["container"+i],n+=e.width+e.marginWidth,t.unshift(i),i--;for(i=this.index,n=0,o=r.width*(s+1);this.images.length>i&&o>=n;)e=this.$["container"+i],n+=e.width+e.marginWidth,t.push(i),i++}return t},reflow:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.loadNearby()}}),loadImageView:function(t){return this.wrap&&(t=(t%this.images.length+this.images.length)%this.images.length),t>=0&&this.images.length-1>=t&&(this.$["image"+t]?this.$["image"+t].src!=this.images[t]&&(this.$["image"+t].setSrc(this.images[t]),this.$["image"+t].setScale(this.defaultScale),this.$["image"+t].setDisableZoom(this.disableZoom)):(this.$["container"+t].createComponent({name:"image"+t,kind:"ImageView",scale:this.defaultScale,disableZoom:this.disableZoom,src:this.images[t],verticalDragPropagation:!1,style:"height:100%; width:100%;"},{owner:this}),this.$["image"+t].render())),this.$["image"+t]},setImages:function(t){this.set("images",t)},imagesChanged:function(){this.initContainers(),this.loadNearby()},indexChanged:enyo.inherit(function(t){return function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory(),t.apply(this,arguments)}}),transitionStart:function(t,e){return e.fromIndex==e.toIndex?!0:void 0},transitionFinish:function(){this.loadNearby(),this.lowMemory&&this.cleanupMemory()},getActiveImage:function(){return this.getImageByIndex(this.index)},getImageByIndex:function(t){return this.$["image"+t]||this.loadImageView(t)},cleanupMemory:function(){for(var t=this.getBufferRange(),e=0;this.images.length>e;e++)-1===enyo.indexOf(e,t)&&this.$["image"+e]&&this.$["image"+e].destroy()}});

// lib/onyx/version.js
enyo&&enyo.version&&(enyo.version.onyx="2.4.0");

// lib/onyx/source/Icon.js
enyo.kind({name:"onyx.Icon",published:{src:"",disabled:!1},classes:"onyx-icon",create:function(){this.inherited(arguments),this.src&&this.srcChanged(),this.disabledChanged()},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},srcChanged:function(){this.applyStyle("background-image","url("+enyo.path.rewrite(this.src)+")")}});

// lib/onyx/source/Button.js
enyo.kind({name:"onyx.Button",kind:"enyo.Button",classes:"onyx-button enyo-unselectable",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},down:function(){return this.disabled?!0:(this.addClass("pressed"),this._isPressed=!0,void 0)},enter:function(){return this.disabled?!0:(this._isPressed&&this.addClass("pressed"),void 0)},dragfinish:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)},leave:function(){return this.disabled?!0:(this.removeClass("pressed"),void 0)},up:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)}});

// lib/onyx/source/IconButton.js
enyo.kind({name:"onyx.IconButton",kind:"onyx.Icon",published:{active:!1},classes:"onyx-icon-button",handlers:{ondown:"down",onenter:"enter",ondragfinish:"dragfinish",onleave:"leave",onup:"up"},rendered:function(){this.inherited(arguments),this.activeChanged()},tap:function(){return this.disabled?!0:(this.setActive(!0),void 0)},down:function(){return this.disabled?!0:(this.addClass("pressed"),this._isPressed=!0,void 0)},enter:function(){return this.disabled?!0:(this._isPressed&&this.addClass("pressed"),void 0)},dragfinish:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)},leave:function(){return this.disabled?!0:(this.removeClass("pressed"),void 0)},up:function(){return this.disabled?!0:(this.removeClass("pressed"),this._isPressed=!1,void 0)},activeChanged:function(){this.bubble("onActivate")}});

// lib/onyx/source/Checkbox.js
enyo.kind({name:"onyx.Checkbox",classes:"onyx-checkbox",kind:enyo.Checkbox,tag:"div",handlers:{onclick:""},tap:function(){return this.disabled||(this.setChecked(!this.getChecked()),this.bubble("onchange")),!this.disabled},dragstart:function(){}});

// lib/onyx/source/Drawer.js
enyo.kind({name:"onyx.Drawer",kind:"enyo.Drawer"});

// lib/onyx/source/Grabber.js
enyo.kind({name:"onyx.Grabber",classes:"onyx-grabber"});

// lib/onyx/source/Groupbox.js
enyo.kind({name:"onyx.Groupbox",classes:"onyx-groupbox"}),enyo.kind({name:"onyx.GroupboxHeader",classes:"onyx-groupbox-header"});

// lib/onyx/source/Input.js
enyo.kind({name:"onyx.Input",kind:"enyo.Input",classes:"onyx-input"});

// lib/onyx/source/Popup.js
enyo.kind({name:"onyx.Popup",kind:"enyo.Popup",classes:"onyx-popup",published:{scrimWhenModal:!0,scrim:!1,scrimClassName:"",defaultZ:120},protectedStatics:{count:0,highestZ:120},showingChanged:function(){this.showing?(onyx.Popup.count++,this.applyZIndex()):onyx.Popup.count>0&&onyx.Popup.count--,this.showHideScrim(this.showing),this.inherited(arguments)},showHideScrim:function(t){if(this.floating&&(this.scrim||this.modal&&this.scrimWhenModal)){var e=this.getScrim();if(t){var i=this.getScrimZIndex();this._scrimZ=i,e.showAtZIndex(i)}else e.hideAtZIndex(this._scrimZ);enyo.call(e,"addRemoveClass",[this.scrimClassName,e.showing])}},getScrimZIndex:function(){return onyx.Popup.highestZ>=this._zIndex?this._zIndex-1:onyx.Popup.highestZ},getScrim:function(){return this.modal&&this.scrimWhenModal&&!this.scrim?onyx.scrimTransparent.make():onyx.scrim.make()},applyZIndex:function(){this._zIndex=2*onyx.Popup.count+this.findZIndex()+1,this._zIndex<=onyx.Popup.highestZ&&(this._zIndex=onyx.Popup.highestZ+1),this._zIndex>onyx.Popup.highestZ&&(onyx.Popup.highestZ=this._zIndex),this.applyStyle("z-index",this._zIndex)},findZIndex:function(){var t=this.defaultZ;return this._zIndex?t=this._zIndex:this.hasNode()&&(t=Number(enyo.dom.getComputedStyleValue(this.node,"z-index"))||t),this.defaultZ>t&&(t=this.defaultZ),this._zIndex=t,this._zIndex}});

// lib/onyx/source/TextArea.js
enyo.kind({name:"onyx.TextArea",kind:"enyo.TextArea",classes:"onyx-textarea"});

// lib/onyx/source/RichText.js
enyo.kind({name:"onyx.RichText",kind:"enyo.RichText",classes:"onyx-richtext"});

// lib/onyx/source/InputDecorator.js
enyo.kind({name:"onyx.InputDecorator",kind:"enyo.ToolDecorator",tag:"label",classes:"onyx-input-decorator",published:{alwaysLooksFocused:!1},handlers:{onDisabledChange:"disabledChange",onfocus:"receiveFocus",onblur:"receiveBlur"},create:function(){this.inherited(arguments),this.updateFocus(!1)},alwaysLooksFocusedChanged:function(){this.updateFocus(this.focus)},updateFocus:function(t){this.focused=t,this.addRemoveClass("onyx-focused",this.alwaysLooksFocused||this.focused)},receiveFocus:function(){this.updateFocus(!0)},receiveBlur:function(){this.updateFocus(!1)},disabledChange:function(t,e){this.addRemoveClass("onyx-disabled",e.originator.disabled)}});

// lib/onyx/source/Tooltip.js
enyo.kind({name:"onyx.Tooltip",kind:"onyx.Popup",classes:"onyx-tooltip below left-arrow",autoDismiss:!1,showDelay:500,defaultLeft:-6,handlers:{onRequestShowTooltip:"requestShow",onRequestHideTooltip:"requestHide"},requestShow:function(){return this.showJob=setTimeout(this.bindSafely("show"),this.showDelay),!0},cancelShow:function(){clearTimeout(this.showJob)},requestHide:function(){return this.cancelShow(),this.inherited(arguments)},showingChanged:function(){this.cancelShow(),this.adjustPosition(!0),this.inherited(arguments)},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},adjustPosition:function(){if(this.showing&&this.hasNode()){var t=this.node.getBoundingClientRect();t.top+t.height>window.innerHeight?(this.addRemoveClass("below",!1),this.addRemoveClass("above",!0)):(this.addRemoveClass("above",!1),this.addRemoveClass("below",!0)),t.left+t.width>window.innerWidth&&(this.applyPosition({"margin-left":-t.width,bottom:"auto"}),this.addRemoveClass("left-arrow",!1),this.addRemoveClass("right-arrow",!0))}},resizeHandler:function(){this.applyPosition({"margin-left":this.defaultLeft,bottom:"auto"}),this.addRemoveClass("left-arrow",!0),this.addRemoveClass("right-arrow",!1),this.adjustPosition(!0),this.inherited(arguments)}});

// lib/onyx/source/TooltipDecorator.js
enyo.kind({name:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator",handlers:{onenter:"enter",onleave:"leave"},enter:function(){this.requestShowTooltip()},leave:function(){this.requestHideTooltip()},tap:function(){this.requestHideTooltip()},requestShowTooltip:function(){this.waterfallDown("onRequestShowTooltip")},requestHideTooltip:function(){this.waterfallDown("onRequestHideTooltip")}});

// lib/onyx/source/MenuDecorator.js
enyo.kind({name:"onyx.MenuDecorator",kind:"onyx.TooltipDecorator",defaultKind:"onyx.Button",classes:"onyx-popup-decorator enyo-unselectable",handlers:{onActivate:"activated",onHide:"menuHidden"},activated:function(t,e){this.requestHideTooltip(),e.originator.active&&(this.menuActive=!0,this.activator=e.originator,this.activator.addClass("active"),this.requestShowMenu())},requestShowMenu:function(){this.waterfallDown("onRequestShowMenu",{activator:this.activator})},requestHideMenu:function(){this.waterfallDown("onRequestHideMenu")},menuHidden:function(){this.menuActive=!1,this.activator&&(this.activator.setActive(!1),this.activator.removeClass("active"))},enter:function(){this.menuActive||this.inherited(arguments)},leave:function(){this.menuActive||this.inherited(arguments)}});

// lib/onyx/source/Menu.js
enyo.kind({name:"onyx.Menu",kind:"onyx.Popup",modal:!0,defaultKind:"onyx.MenuItem",classes:"onyx-menu",published:{maxHeight:200,scrolling:!0,scrollStrategyKind:"TouchScrollStrategy"},handlers:{onActivate:"itemActivated",onRequestShowMenu:"requestMenuShow",onRequestHideMenu:"requestHide"},childComponents:[{name:"client",kind:"enyo.Scroller"}],showOnTop:!1,scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged()},initComponents:function(){this.scrolling&&this.createComponents(this.childComponents,{isChrome:!0,strategyKind:this.scrollStrategyKind}),this.inherited(arguments)},getScroller:function(){return this.$[this.scrollerName]},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},itemActivated:function(t,e){return e.originator.setActive(!1),!0},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition(!0)},requestMenuShow:function(t,e){if(this.floating){var i=e.activator.hasNode();if(i){var n=this.activatorOffset=this.getPageOffset(i);this.applyPosition({top:n.top+(this.showOnTop?0:n.height),left:n.left,width:n.width})}}return this.show(),!0},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},getPageOffset:function(t){var e=t.getBoundingClientRect(),i=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,n=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,o=void 0===e.height?e.bottom-e.top:e.height,s=void 0===e.width?e.right-e.left:e.width;return{top:e.top+i,left:e.left+n,height:o,width:s}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.scrolling&&!this.showOnTop&&this.getScroller().setMaxHeight(this.maxHeight+"px"),this.removeClass("onyx-menu-up"),this.floating||this.applyPosition({left:"auto"});var t=this.node.getBoundingClientRect(),e=void 0===t.height?t.bottom-t.top:t.height,i=void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight,n=void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth;if(this.menuUp=t.top+e>i&&i-t.bottom<t.top-e,this.addRemoveClass("onyx-menu-up",this.menuUp),this.floating){var o=this.activatorOffset;this.menuUp?this.applyPosition({top:o.top-e+(this.showOnTop?o.height:0),bottom:"auto"}):t.top<o.top&&i>o.top+(this.showOnTop?0:o.height)+e&&this.applyPosition({top:o.top+(this.showOnTop?0:o.height),bottom:"auto"})}if(t.right>n&&(this.floating?this.applyPosition({left:n-t.width}):this.applyPosition({left:-(t.right-n)})),0>t.left&&(this.floating?this.applyPosition({left:0,right:"auto"}):"auto"==this.getComputedStyleValue("right")?this.applyPosition({left:-t.left}):this.applyPosition({right:t.left})),this.scrolling&&!this.showOnTop){t=this.node.getBoundingClientRect();var s;s=this.menuUp?this.maxHeight<t.bottom?this.maxHeight:t.bottom:i>t.top+this.maxHeight?this.maxHeight:i-t.top,this.getScroller().setMaxHeight(s+"px")}}},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}});

// lib/onyx/source/MenuItem.js
enyo.kind({name:"onyx.MenuItem",kind:"enyo.Button",events:{onSelect:"",onItemContentChange:""},classes:"onyx-menu-item",tag:"div",create:function(){this.silence(),this.inherited(arguments),this.unsilence(),this.active&&this.bubble("onActivate")},tap:function(){this.inherited(arguments),this.bubble("onRequestHideMenu"),this.doSelect({selected:this,content:this.content})},contentChanged:function(){this.inherited(arguments),this.doItemContentChange({content:this.content})}});

// lib/onyx/source/Submenu.js
enyo.kind({name:"onyx.Submenu",defaultKind:"onyx.MenuItem",initComponents:function(){this.createChrome([{name:"label",kind:"enyo.Control",classes:"onyx-menu-item",content:this.content||this.name,isChrome:!0,ontap:"toggleOpen"},{kind:"onyx.Drawer",name:"client",classes:"client onyx-submenu",isChrome:!0,open:!1}]),this.inherited(arguments)},toggleOpen:function(){this.setOpen(!this.getOpen())},setOpen:function(t){this.$.client.setOpen(t)},getOpen:function(){return this.$.client.getOpen()}});

// lib/onyx/source/PickerDecorator.js
enyo.kind({name:"onyx.PickerDecorator",kind:"onyx.MenuDecorator",classes:"onyx-picker-decorator",defaultKind:"onyx.PickerButton",handlers:{onChange:"change"},change:function(t,e){this.waterfallDown("onChange",e)}});

// lib/onyx/source/PickerButton.js
enyo.kind({name:"onyx.PickerButton",kind:"onyx.Button",handlers:{onChange:"change"},change:function(t,e){void 0!==e.content&&this.setContent(e.content)}});

// lib/onyx/source/Picker.js
enyo.kind({name:"onyx.Picker",kind:"onyx.Menu",classes:"onyx-picker enyo-unselectable",published:{selected:null},events:{onChange:""},handlers:{onItemContentChange:"itemContentChange"},floating:!0,showOnTop:!0,initComponents:function(){this.setScrolling(!0),this.inherited(arguments)},showingChanged:function(){this.getScroller().setShowing(this.showing),this.inherited(arguments),this.showing&&this.selected&&this.scrollToSelected()},scrollToSelected:function(){this.getScroller().scrollToControl(this.selected,!this.menuUp)},itemActivated:function(t,e){return this.processActivatedItem(e.originator),this.inherited(arguments)},processActivatedItem:function(t){t.active&&this.setSelected(t)},selectedChanged:function(t){t&&t.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content}))},itemContentChange:function(t,e){e.originator==this.selected&&this.doChange({selected:this.selected,content:this.selected.content})},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()}});

// lib/onyx/source/FlyweightPicker.js
enyo.kind({name:"onyx.FlyweightPicker",kind:"onyx.Picker",classes:"onyx-flyweight-picker",published:{count:0},events:{onSetupItem:"",onSelect:""},handlers:{onSelect:"itemSelect"},components:[{name:"scroller",kind:"enyo.Scroller",strategyKind:"TouchScrollStrategy",components:[{name:"flyweight",kind:"FlyweightRepeater",noSelect:!0,ontap:"itemTap"}]}],scrollerName:"scroller",initComponents:function(){this.controlParentName="flyweight",this.inherited(arguments),this.$.flyweight.$.client.children[0].setActive(!0)},create:function(){this.inherited(arguments),this.countChanged()},rendered:function(){this.inherited(arguments),this.selectedChanged()},scrollToSelected:function(){var t=this.$.flyweight.fetchRowNode(this.selected);this.getScroller().scrollToNode(t,!this.menuUp)},countChanged:function(){this.$.flyweight.count=this.count},processActivatedItem:function(t){this.item=t},selectedChanged:function(t){if(this.item){null!=t&&(this.item.removeClass("selected"),this.$.flyweight.renderRow(t));var e;null!=this.selected&&(this.item.addClass("selected"),this.$.flyweight.renderRow(this.selected),this.item.removeClass("selected"),e=this.$.flyweight.fetchRowNode(this.selected)),this.doChange({selected:this.selected,content:e&&e.textContent||this.item.content})}},itemTap:function(t,e){this.setSelected(e.rowIndex),this.doSelect({selected:this.item,content:this.item.content})},itemSelect:function(t,e){return e.originator!=this?!0:void 0}});

// lib/onyx/source/DatePicker.js
enyo.kind({name:"onyx.DatePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",dayHidden:!1,monthHidden:!1,yearHidden:!1,minYear:1900,maxYear:2099,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),ilib&&(this.locale=ilib.getLocale()),this.initDefaults()},initDefaults:function(){var t;ilib?(t=[],this._tf=new ilib.DateFmt({locale:this.locale,timezone:"local"}),t=this._tf.getMonthsOfYear({length:"long"})):(t=[void 0,"JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],this.localeInfo.getMonthsOfYear=function(){return t}),this.setupPickers(this._tf?this._tf.getTemplate():"mdy"),this.dayHiddenChanged(),this.monthHiddenChanged(),this.yearHiddenChanged();for(var e,i=this.value=this.value||new Date,n=0;e=t[n+1];n++)this.$.monthPicker.createComponent({content:e,value:n,active:n==i.getMonth()});var o=i.getFullYear();for(this.$.yearPicker.setSelected(o-this.minYear),n=1;this.monthLength(i.getYear(),i.getMonth())>=n;n++)this.$.dayPicker.createComponent({content:n,value:n,active:n==i.getDate()})},monthLength:function(t,e){return 32-new Date(t,e,32).getDate()},setupYear:function(t,e){return this.$.year.setContent(this.minYear+e.index),!0},setupPickers:function(t){var e,i,n,o=t.split(""),s=!1,r=!1,a=!1;for(i=0,n=o.length;n>i;i++)switch(e=o[i],e.toLowerCase()){case"d":a||(this.createDay(),a=!0);break;case"m":r||(this.createMonth(),r=!0);break;case"y":s||(this.createYear(),s=!0);break;default:}},createYear:function(){var t=this.maxYear-this.minYear;this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateYear",components:[{classes:"onyx-datepicker-year",name:"yearPickerButton",disabled:this.disabled},{name:"yearPicker",kind:"onyx.FlyweightPicker",count:++t,onSetupItem:"setupYear",components:[{name:"year"}]}]})},createMonth:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMonth",components:[{classes:"onyx-datepicker-month",name:"monthPickerButton",disabled:this.disabled},{name:"monthPicker",kind:"onyx.Picker"}]})},createDay:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateDay",components:[{classes:"onyx-datepicker-day",name:"dayPickerButton",disabled:this.disabled},{name:"dayPicker",kind:"onyx.Picker"}]})},localeChanged:function(){this.refresh()},dayHiddenChanged:function(){this.$.dayPicker.getParent().setShowing(this.dayHidden?!1:!0)},monthHiddenChanged:function(){this.$.monthPicker.getParent().setShowing(this.monthHidden?!1:!0)},yearHiddenChanged:function(){this.$.yearPicker.getParent().setShowing(this.yearHidden?!1:!0)},minYearChanged:function(){this.refresh()},maxYearChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},disabledChanged:function(){this.$.yearPickerButton.setDisabled(this.disabled),this.$.monthPickerButton.setDisabled(this.disabled),this.$.dayPickerButton.setDisabled(this.disabled)},updateDay:function(t,e){var i=this.calcDate(this.value.getFullYear(),this.value.getMonth(),e.selected.value);return this.doSelect({name:this.name,value:i}),this.setValue(i),!0},updateMonth:function(t,e){var i=this.calcDate(this.value.getFullYear(),e.selected.value,this.value.getDate());return this.doSelect({name:this.name,value:i}),this.setValue(i),!0},updateYear:function(t,e){if(-1!=e.originator.selected){var i=this.calcDate(this.minYear+e.originator.selected,this.value.getMonth(),this.value.getDate());this.doSelect({name:this.name,value:i}),this.setValue(i)}return!0},calcDate:function(t,e,i){return new Date(t,e,i,this.value.getHours(),this.value.getMinutes(),this.value.getSeconds(),this.value.getMilliseconds())},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}});

// lib/onyx/source/TimePicker.js
enyo.kind({name:"onyx.TimePicker",classes:"onyx-toolbar-inline",published:{disabled:!1,locale:"en-US",is24HrMode:null,value:null},events:{onSelect:""},create:function(){this.inherited(arguments),ilib&&(this.locale=ilib.getLocale()),this.initDefaults()},initDefaults:function(){if(this._strAm="AM",this._strPm="PM",ilib){this._tf=new ilib.DateFmt({locale:this.locale});var t=new ilib.DateFmt({locale:this.locale,type:"time",template:"a"}),e=ilib.Date.newInstance({locale:this.locale,hour:1});this._strAm=t.format(e),e.hour=13,this._strPm=t.format(e),null==this.is24HrMode&&(this.is24HrMode="24"==this._tf.getClock())}else null==this.is24HrMode&&(this.is24HrMode=!1);this.setupPickers(this._tf?this._tf.getTimeComponents():"hma");var i,n=this.value=this.value||new Date;if(this.is24HrMode)for(i=0;24>i;i++)this.$.hourPicker.createComponent({content:i,value:i,active:i==n.getHours()});else{var o=n.getHours();for(o=0===o?12:o,i=1;12>=i;i++)this.$.hourPicker.createComponent({content:i,value:i,active:i==(o>12?o%12:o)})}for(i=0;59>=i;i++)this.$.minutePicker.createComponent({content:10>i?"0"+i:i,value:i,active:i==n.getMinutes()});n.getHours()>=12?this.$.ampmPicker.createComponents([{content:this._strAm},{content:this._strPm,active:!0}]):this.$.ampmPicker.createComponents([{content:this._strAm,active:!0},{content:this._strPm}]),this.$.ampmPicker.getParent().setShowing(!this.is24HrMode)},setupPickers:function(t){-1!==t.indexOf("h")&&this.createHour(),-1!==t.indexOf("m")&&this.createMinute(),-1!==t.indexOf("a")&&this.createAmPm()},createHour:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateHour",components:[{classes:"onyx-timepicker-hour",name:"hourPickerButton",disabled:this.disabled},{name:"hourPicker",kind:"onyx.Picker"}]})},createMinute:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateMinute",components:[{classes:"onyx-timepicker-minute",name:"minutePickerButton",disabled:this.disabled},{name:"minutePicker",kind:"onyx.Picker"}]})},createAmPm:function(){this.createComponent({kind:"onyx.PickerDecorator",onSelect:"updateAmPm",components:[{classes:"onyx-timepicker-ampm",name:"ampmPickerButton",disabled:this.disabled},{name:"ampmPicker",kind:"onyx.Picker"}]})},disabledChanged:function(){this.$.hourPickerButton.setDisabled(this.disabled),this.$.minutePickerButton.setDisabled(this.disabled),this.$.ampmPickerButton.setDisabled(this.disabled)},localeChanged:function(){this.is24HrMode=null,this.refresh()},is24HrModeChanged:function(){this.refresh()},valueChanged:function(){this.refresh()},updateHour:function(t,e){var i=e.selected.value;if(!this.is24HrMode){var n=this.$.ampmPicker.getParent().controlAtIndex(0).content;i=i+(12==i?-12:0)+(this.isAm(n)?0:12)}return this.setValue(this.calcTime(i,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},updateMinute:function(t,e){return this.setValue(this.calcTime(this.value.getHours(),e.selected.value)),this.doSelect({name:this.name,value:this.value}),!0},updateAmPm:function(t,e){var i=this.value.getHours();return this.is24HrMode||(i+=i>11?this.isAm(e.content)?-12:0:this.isAm(e.content)?0:12),this.setValue(this.calcTime(i,this.value.getMinutes())),this.doSelect({name:this.name,value:this.value}),!0},calcTime:function(t,e){return new Date(this.value.getFullYear(),this.value.getMonth(),this.value.getDate(),t,e,this.value.getSeconds(),this.value.getMilliseconds())},isAm:function(t){return t==this._strAm?!0:!1},refresh:function(){this.destroyClientControls(),this.initDefaults(),this.render()}});

// lib/onyx/source/RadioButton.js
enyo.kind({name:"onyx.RadioButton",kind:"enyo.Button",classes:"onyx-radiobutton"});

// lib/onyx/source/RadioGroup.js
enyo.kind({name:"onyx.RadioGroup",kind:"enyo.Group",defaultKind:"onyx.RadioButton",highlander:!0});

// lib/onyx/source/ToggleButton.js
enyo.kind({name:"onyx.ToggleButton",classes:"onyx-toggle-button",published:{active:!1,value:!1,onContent:"On",offContent:"Off",disabled:!1},events:{onChange:""},handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},components:[{name:"contentOn",classes:"onyx-toggle-content on"},{name:"contentOff",classes:"onyx-toggle-content off"},{classes:"onyx-toggle-button-knob"}],create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active),this.onContentChanged(),this.offContentChanged(),this.disabledChanged()},rendered:function(){this.inherited(arguments),this.updateVisualState()},updateVisualState:function(){this.addRemoveClass("off",!this.value),this.$.contentOn.setShowing(this.value),this.$.contentOff.setShowing(!this.value),this.setActive(this.value)},valueChanged:function(){this.updateVisualState(),this.doChange({value:this.value})},activeChanged:function(){this.setValue(this.active),this.bubble("onActivate")},onContentChanged:function(){this.$.contentOn.setContent(this.onContent||""),this.$.contentOn.addRemoveClass("empty",!this.onContent)},offContentChanged:function(){this.$.contentOff.setContent(this.offContent||""),this.$.contentOff.addRemoveClass("empty",!this.onContent)},disabledChanged:function(){this.addRemoveClass("disabled",this.disabled)},updateValue:function(t){this.disabled||this.setValue(t)},tap:function(){this.updateValue(!this.value)},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,this.dragged=!1,!0):void 0},drag:function(t,e){if(this.dragging){var i=e.dx;return Math.abs(i)>10&&(this.updateValue(i>0),this.dragged=!0),!0}},dragfinish:function(t,e){this.dragging=!1,this.dragged&&e.preventTap()}});

// lib/onyx/source/ToggleIconButton.js
enyo.kind({name:"onyx.ToggleIconButton",kind:"onyx.Icon",published:{active:!1,value:!1},events:{onChange:""},classes:"onyx-icon-button onyx-icon-toggle",activeChanged:function(){this.addRemoveClass("active",this.value),this.bubble("onActivate")},updateValue:function(t){this.disabled||(this.setValue(t),this.doChange({value:this.value}))},tap:function(){this.updateValue(!this.value)},valueChanged:function(){this.setActive(this.value)},create:function(){this.inherited(arguments),this.value=Boolean(this.value||this.active)},rendered:function(){this.inherited(arguments),this.valueChanged(),this.removeClass("onyx-icon")}});

// lib/onyx/source/Toolbar.js
enyo.kind({name:"onyx.Toolbar",classes:"onyx onyx-toolbar onyx-toolbar-inline",create:function(){this.inherited(arguments),this.hasClass("onyx-menu-toolbar")&&enyo.platform.android>=4&&this.applyStyle("position","static")}});

// lib/onyx/source/ProgressBar.js
enyo.kind({name:"onyx.ProgressBar",classes:"onyx-progress-bar",published:{progress:0,min:0,max:100,barClasses:"",showStripes:!0,animateStripes:!0,increment:0},events:{onAnimateProgressFinish:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar"}],create:function(){this.inherited(arguments),this.progressChanged(),this.barClassesChanged(),this.showStripesChanged(),this.animateStripesChanged()},barClassesChanged:function(t){this.$.bar.removeClass(t),this.$.bar.addClass(this.barClasses)},showStripesChanged:function(){this.$.bar.addRemoveClass("striped",this.showStripes)},animateStripesChanged:function(){this.$.bar.addRemoveClass("animated",this.animateStripes)},progressChanged:function(){this.progress=this.clampValue(this.min,this.max,this.progress);var t=this.calcPercent(this.progress);this.updateBarPosition(t)},calcIncrement:function(t){return Math.round(t/this.increment)*this.increment},clampValue:function(t,e,i){return Math.max(t,Math.min(i,e))},calcRatio:function(t){return(t-this.min)/(this.max-this.min)},calcPercent:function(t){return 100*this.calcRatio(t)},updateBarPosition:function(t){this.$.bar.applyStyle("width",t+"%")},animateProgressTo:function(t){this.$.progressAnimator.play({startValue:this.progress,endValue:t,node:this.hasNode()})},progressAnimatorStep:function(t){return this.setProgress(t.value),!0},progressAnimatorComplete:function(t){return this.doAnimateProgressFinish(t),!0}});

// lib/onyx/source/ProgressButton.js
enyo.kind({name:"onyx.ProgressButton",kind:"onyx.ProgressBar",classes:"onyx-progress-button",events:{onCancel:""},components:[{name:"progressAnimator",kind:"enyo.Animator",onStep:"progressAnimatorStep",onEnd:"progressAnimatorComplete"},{name:"bar",classes:"onyx-progress-bar-bar onyx-progress-button-bar"},{name:"client",classes:"onyx-progress-button-client"},{kind:"onyx.Icon",src:"$lib/onyx/images/progress-button-cancel.png",classes:"onyx-progress-button-icon",ontap:"cancelTap"}],cancelTap:function(){this.doCancel()}});

// lib/onyx/source/Scrim.js
enyo.kind({name:"onyx.Scrim",showing:!1,classes:"onyx-scrim enyo-fit",floating:!1,create:function(){this.inherited(arguments),this.zStack=[],this.floating&&this.setParent(enyo.floatingLayer)},showingChanged:function(){this.floating&&this.showing&&!this.hasNode()&&this.render(),this.inherited(arguments)},addZIndex:function(t){0>enyo.indexOf(t,this.zStack)&&this.zStack.push(t)},removeZIndex:function(t){enyo.remove(t,this.zStack)},showAtZIndex:function(t){this.addZIndex(t),void 0!==t&&this.setZIndex(t),this.show()},hideAtZIndex:function(t){if(this.removeZIndex(t),this.zStack.length){var e=this.zStack[this.zStack.length-1];this.setZIndex(e)}else this.hide()},setZIndex:function(t){this.zIndex=t,this.applyStyle("z-index",t)},make:function(){return this}}),enyo.kind({name:"onyx.scrimSingleton",kind:null,constructor:function(t,e){this.instanceName=t,enyo.setPath(this.instanceName,this),this.props=e||{}},make:function(){var t=new onyx.Scrim(this.props);return enyo.setPath(this.instanceName,t),t},showAtZIndex:function(t){var e=this.make();e.showAtZIndex(t)},hideAtZIndex:enyo.nop,show:function(){var t=this.make();t.show()}}),new onyx.scrimSingleton("onyx.scrim",{floating:!0,classes:"onyx-scrim-translucent"}),new onyx.scrimSingleton("onyx.scrimTransparent",{floating:!0,classes:"onyx-scrim-transparent"});

// lib/onyx/source/Slider.js
enyo.kind({name:"onyx.Slider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{value:0,lockBar:!0,tappable:!0},events:{onChange:"",onChanging:"",onAnimateFinish:""},showStripes:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},moreComponents:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"},{classes:"onyx-slider-taparea"},{name:"knob",classes:"onyx-slider-knob"}],create:function(){this.inherited(arguments),this.moreComponents[2].ondown="knobDown",this.moreComponents[2].onup="knobUp",this.createComponents(this.moreComponents),this.valueChanged()},valueChanged:function(){this.value=this.clampValue(this.min,this.max,this.value);var t=this.calcPercent(this.value);this.updateKnobPosition(t),this.lockBar&&this.setProgress(this.value)},updateKnobPosition:function(t){this.$.knob.applyStyle("left",t+"%")},calcKnobPosition:function(t){var e=t.clientX-this.hasNode().getBoundingClientRect().left;return e/this.getBounds().width*(this.max-this.min)+this.min},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,t.addClass("pressed"),!0):void 0},drag:function(t,e){if(this.dragging){var i=this.calcKnobPosition(e);return i=this.increment?this.calcIncrement(i):i,this.setValue(i),this.doChanging({value:this.value}),!0}},dragfinish:function(t,e){return this.dragging=!1,e.preventTap(),this.doChange({value:this.value}),t.removeClass("pressed"),!0},tap:function(t,e){if(this.tappable){var i=this.calcKnobPosition(e);return i=this.increment?this.calcIncrement(i):i,this.tapped=!0,this.animateTo(i),!0}},knobDown:function(){this.$.knob.addClass("pressed")},knobUp:function(){this.$.knob.removeClass("pressed")},animateTo:function(t){this.$.animator.play({startValue:this.value,endValue:t,node:this.hasNode()})},animatorStep:function(t){return this.setValue(t.value),!0},animatorComplete:function(t){return this.tapped&&(this.tapped=!1,this.doChange({value:this.value})),this.doAnimateFinish(t),!0}});

// lib/onyx/source/RangeSlider.js
enyo.kind({name:"onyx.RangeSlider",kind:"onyx.ProgressBar",classes:"onyx-slider",published:{rangeMin:0,rangeMax:100,rangeStart:0,rangeEnd:100,beginValue:0,endValue:0},events:{onChange:"",onChanging:""},showStripes:!1,showLabels:!1,handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish",ondown:"down"},moreComponents:[{name:"startKnob",classes:"onyx-slider-knob"},{name:"endKnob",classes:"onyx-slider-knob onyx-range-slider-knob"}],create:function(){this.inherited(arguments),this.createComponents(this.moreComponents),this.initControls()},rendered:function(){this.inherited(arguments);var t=this.calcPercent(this.beginValue);this.updateBarPosition(t)},initControls:function(){this.$.bar.applyStyle("position","relative"),this.refreshRangeSlider(),this.showLabels&&(this.$.startKnob.createComponent({name:"startLabel",kind:"onyx.RangeSliderKnobLabel"}),this.$.endKnob.createComponent({name:"endLabel",kind:"onyx.RangeSliderKnobLabel"})),this.$.startKnob.ondown="knobDown",this.$.startKnob.onup="knobUp",this.$.endKnob.ondown="knobDown",this.$.endKnob.onup="knobUp"},refreshRangeSlider:function(){this.beginValue=this.calcKnobPercent(this.rangeStart),this.endValue=this.calcKnobPercent(this.rangeEnd),this.beginValueChanged(),this.endValueChanged()},calcKnobRatio:function(t){return(t-this.rangeMin)/(this.rangeMax-this.rangeMin)},calcKnobPercent:function(t){return 100*this.calcKnobRatio(t)},beginValueChanged:function(t){if(void 0===t){var e=this.calcPercent(this.beginValue);this.updateKnobPosition(e,this.$.startKnob)}},endValueChanged:function(t){if(void 0===t){var e=this.calcPercent(this.endValue);this.updateKnobPosition(e,this.$.endKnob)}},calcKnobPosition:function(t){var e=t.clientX-this.hasNode().getBoundingClientRect().left;return e/this.getBounds().width*(this.max-this.min)+this.min},updateKnobPosition:function(t,e){e.applyStyle("left",t+"%"),this.updateBarPosition()},updateBarPosition:function(){if(void 0!==this.$.startKnob&&void 0!==this.$.endKnob){var t=this.calcKnobPercent(this.rangeStart),e=this.calcKnobPercent(this.rangeEnd)-t;this.$.bar.applyStyle("left",t+"%"),this.$.bar.applyStyle("width",e+"%")}},calcRangeRatio:function(t){return t/100*(this.rangeMax-this.rangeMin)+this.rangeMin-this.increment/2},swapZIndex:function(t){"startKnob"===t?(this.$.startKnob.applyStyle("z-index",1),this.$.endKnob.applyStyle("z-index",0)):"endKnob"===t&&(this.$.startKnob.applyStyle("z-index",0),this.$.endKnob.applyStyle("z-index",1))},down:function(t){this.swapZIndex(t.name)},dragstart:function(t,e){return e.horizontal?(e.preventDefault(),this.dragging=!0,t.addClass("pressed"),!0):void 0},drag:function(t,e){if(this.dragging){var i,n,o,s=this.calcKnobPosition(e);if("startKnob"===t.name&&s>=0){if(!(this.endValue>=s&&-1===e.xDirection||this.endValue>=s))return this.drag(this.$.endKnob,e);this.setBeginValue(s),i=this.calcRangeRatio(this.beginValue),n=this.increment?this.calcIncrement(i+.5*this.increment):i,o=this.calcKnobPercent(n),this.updateKnobPosition(o,this.$.startKnob),this.setRangeStart(n),this.doChanging({value:n})}else if("endKnob"===t.name&&100>=s){if(!(s>=this.beginValue&&1===e.xDirection||s>=this.beginValue))return this.drag(this.$.startKnob,e);this.setEndValue(s),i=this.calcRangeRatio(this.endValue),n=this.increment?this.calcIncrement(i+.5*this.increment):i,o=this.calcKnobPercent(n),this.updateKnobPosition(o,this.$.endKnob),this.setRangeEnd(n),this.doChanging({value:n})}return!0}},dragfinish:function(t,e){this.dragging=!1,e.preventTap();var i;return"startKnob"===t.name?(i=this.calcRangeRatio(this.beginValue),this.doChange({value:i,startChanged:!0})):"endKnob"===t.name&&(i=this.calcRangeRatio(this.endValue),this.doChange({value:i,startChanged:!1})),t.removeClass("pressed"),!0},knobDown:function(t){t.addClass("pressed")},knobUp:function(t){t.removeClass("pressed")},rangeMinChanged:function(){this.refreshRangeSlider()},rangeMaxChanged:function(){this.refreshRangeSlider()},rangeStartChanged:function(){this.refreshRangeSlider()},rangeEndChanged:function(){this.refreshRangeSlider()},setStartLabel:function(t){this.$.startKnob.waterfallDown("onSetLabel",t)},setEndLabel:function(t){this.$.endKnob.waterfallDown("onSetLabel",t)}}),enyo.kind({name:"onyx.RangeSliderKnobLabel",classes:"onyx-range-slider-label",handlers:{onSetLabel:"setLabel"},setLabel:function(t,e){this.setContent(e)}});

// lib/onyx/source/Item.js
enyo.kind({name:"onyx.Item",classes:"onyx-item",tapHighlight:!0,handlers:{onhold:"hold",onrelease:"release"},hold:function(t,e){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!0,e)},release:function(t,e){this.tapHighlight&&onyx.Item.addRemoveFlyweightClass(this.controlParent||this,"onyx-highlight",!1,e)},statics:{addRemoveFlyweightClass:function(t,e,i,n,o){var s=n.flyweight;if(s){var a=void 0!==o?o:n.index;s.performOnRow(a,function(){t.addRemoveClass(e,i)})}}}});

// lib/onyx/source/Spinner.js
enyo.kind({name:"onyx.Spinner",classes:"onyx-spinner",stop:function(){this.setShowing(!1)},start:function(){this.setShowing(!0)},toggle:function(){this.setShowing(!this.getShowing())}});

// lib/onyx/source/MoreToolbar.js
enyo.kind({name:"onyx.MoreToolbar",classes:"onyx-toolbar onyx-more-toolbar",menuClass:"",movedClass:"",layoutKind:"FittableColumnsLayout",noStretch:!0,handlers:{onHide:"reflow"},published:{clientLayoutKind:"FittableColumnsLayout"},tools:[{name:"client",noStretch:!0,fit:!0,classes:"onyx-toolbar-inline"},{name:"nard",kind:"onyx.MenuDecorator",showing:!1,onActivate:"activated",components:[{kind:"onyx.IconButton",classes:"onyx-more-button"},{name:"menu",kind:"onyx.Menu",scrolling:!1,classes:"onyx-more-menu"}]}],initComponents:function(){this.menuClass&&this.menuClass.length>0&&!this.$.menu.hasClass(this.menuClass)&&this.$.menu.addClass(this.menuClass),this.createChrome(this.tools),this.inherited(arguments),this.$.client.setLayoutKind(this.clientLayoutKind)},clientLayoutKindChanged:function(){this.$.client.setLayoutKind(this.clientLayoutKind)},reflow:function(){this.inherited(arguments),this.isContentOverflowing()?(this.$.nard.show(),this.popItem()&&this.reflow()):this.tryPushItem()?this.reflow():this.$.menu.children.length||(this.$.nard.hide(),this.$.menu.hide())},activated:function(t,e){this.addRemoveClass("active",e.originator.active)},popItem:function(){var t=this.findCollapsibleItem();if(t){this.movedClass&&this.movedClass.length>0&&!t.hasClass(this.movedClass)&&t.addClass(this.movedClass),this.$.menu.addChild(t,null);var e=this.$.menu.hasNode();return e&&t.hasNode()&&t.insertNodeInParent(e),!0}},pushItem:function(){var t=this.$.menu.children,e=t[0];if(e){this.movedClass&&this.movedClass.length>0&&e.hasClass(this.movedClass)&&e.removeClass(this.movedClass),this.$.client.addChild(e);var i=this.$.client.hasNode();if(i&&e.hasNode()){for(var n,o,s=0;this.$.client.children.length>s;s++){var a=this.$.client.children[s];if(void 0!==a.toolbarIndex&&a.toolbarIndex!=s){n=a,o=s;break}}if(n&&n.hasNode()){e.insertNodeInParent(i,n.node);var r=this.$.client.children.pop();this.$.client.children.splice(o,0,r)}else e.appendNodeToParent(i)}return!0}},tryPushItem:function(){if(this.pushItem()){if(!this.isContentOverflowing())return!0;this.popItem()}},isContentOverflowing:function(){if(this.$.client.hasNode()){var t=this.$.client.children,e=t.length&&t[t.length-1].hasNode();if(e)return this.$.client.reflow(),e.offsetLeft+e.offsetWidth>this.$.client.node.clientWidth}},findCollapsibleItem:function(){for(var t,e=this.$.client.children,i=e.length-1;t=e[i];i--){if(!t.unmoveable)return t;void 0===t.toolbarIndex&&(t.toolbarIndex=i)}}});

// lib/onyx/source/IntegerPicker.js
enyo.kind({name:"onyx.IntegerPicker",kind:"onyx.Picker",published:{value:0,min:0,max:9},create:function(){this.inherited(arguments),this.rangeChanged()},minChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},maxChanged:function(){this.destroyClientControls(),this.rangeChanged(),this.render()},rangeChanged:function(){for(var t=this.min;this.max>=t;t++)this.createComponent({content:t,active:t===this.value?!0:!1})},valueChanged:function(){var t=this.getClientControls(),e=t.length;this.value=Math.min(this.max,Math.max(this.value,this.min));for(var i=0;e>i;i++)if(this.value===parseInt(t[i].content,10)){this.setSelected(t[i]);break}},selectedChanged:function(t){t&&t.removeClass("selected"),this.selected&&(this.selected.addClass("selected"),this.doChange({selected:this.selected,content:this.selected.content})),this.setValue(parseInt(this.selected.content,10))}});

// lib/onyx/source/ContextualPopup.js
enyo.kind({name:"onyx.ContextualPopup",kind:"enyo.Popup",modal:!0,autoDismiss:!0,floating:!1,classes:"onyx-contextual-popup enyo-unselectable",published:{maxHeight:100,scrolling:!0,title:void 0,actionButtons:[]},statics:{subclass:function(t,e){var i=t.prototype;e.actionButtons&&(i.kindActionButtons=e.actionButtons,delete i.actionButtons)}},vertFlushMargin:60,horizFlushMargin:50,widePopup:200,longPopup:200,horizBuffer:16,events:{onTap:""},handlers:{onActivate:"childControlActivated",onRequestShowMenu:"requestShow",onRequestHideMenu:"requestHide"},components:[{name:"title",classes:"onyx-contextual-popup-title"},{classes:"onyx-contextual-popup-scroller",components:[{name:"client",kind:"enyo.Scroller",vertical:"auto",classes:"enyo-unselectable",thumb:!1,strategyKind:"TouchScrollStrategy"}]},{name:"actionButtons",classes:"onyx-contextual-popup-action-buttons"}],scrollerName:"client",create:function(){this.inherited(arguments),this.maxHeightChanged(),this.titleChanged(),this.actionButtonsChanged()},getScroller:function(){return this.$[this.scrollerName]},titleChanged:function(){this.$.title.setContent(this.title)},actionButtonsChanged:function(){this.actionButtons?enyo.forEach(this.actionButtons,function(t){t.kind="onyx.Button",t.classes=t.classes+" onyx-contextual-popup-action-button",t.popup=this,t.actionButton=!0,this.$.actionButtons.createComponent(t,{owner:this.getInstanceOwner()})},this):this.kindActionButtons&&enyo.forEach(this.kindActionButtons,function(t){t.kind="onyx.Button",t.classes=t.classes+" onyx-contextual-popup-action-button",t.popup=this,t.actionButton=!0,this.$.actionButtons.createComponent(t,{owner:this})},this),this.hasNode()&&this.$.actionButtons.render()},maxHeightChanged:function(){this.scrolling&&this.getScroller().setMaxHeight(this.maxHeight+"px")},showingChanged:function(){this.inherited(arguments),this.scrolling&&this.getScroller().setShowing(this.showing),this.adjustPosition()},childControlActivated:function(){return!0},requestShow:function(t,e){var i=e.activator.hasNode();return i&&(this.activatorOffset=this.getPageOffset(i)),this.show(),!0},applyPosition:function(t){var e="";for(var i in t)e+=i+":"+t[i]+(isNaN(t[i])?"; ":"px; ");this.addStyles(e)},getPageOffset:function(t){var e=this.getBoundingRect(t),i=void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset,n=void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,o=void 0===e.height?e.bottom-e.top:e.height,s=void 0===e.width?e.right-e.left:e.width;return{top:e.top+i,left:e.left+n,height:o,width:s}},adjustPosition:function(){if(this.showing&&this.hasNode()){this.resetPositioning();var t=this.getViewWidth(),e=this.getViewHeight(),i=this.vertFlushMargin,n=e-this.vertFlushMargin,o=this.horizFlushMargin,s=t-this.horizFlushMargin;if(i>this.activatorOffset.top+this.activatorOffset.height||this.activatorOffset.top>n){if(this.applyVerticalFlushPositioning(o,s))return;if(this.applyHorizontalFlushPositioning(o,s))return;if(this.applyVerticalPositioning())return}else if((o>this.activatorOffset.left+this.activatorOffset.width||this.activatorOffset.left>s)&&this.applyHorizontalPositioning())return;var a=this.getBoundingRect(this.node);if(a.width>this.widePopup){if(this.applyVerticalPositioning())return}else if(a.height>this.longPopup&&this.applyHorizontalPositioning())return;if(this.applyVerticalPositioning())return;if(this.applyHorizontalPositioning())return}},initVerticalPositioning:function(){this.resetPositioning(),this.addClass("vertical");var t=this.getBoundingRect(this.node),e=this.getViewHeight();return this.floating?e/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height,bottom:"auto"}),this.addClass("below")):(this.applyPosition({top:this.activatorOffset.top-t.height,bottom:"auto"}),this.addClass("above")):t.top+t.height>e&&e-t.bottom<t.top-t.height?this.addClass("above"):this.addClass("below"),t=this.getBoundingRect(this.node),t.top+t.height>e||0>t.top?!1:!0},applyVerticalPositioning:function(){if(!this.initVerticalPositioning())return!1;var t=this.getBoundingRect(this.node),e=this.getViewWidth();if(this.floating){var i=this.activatorOffset.left+this.activatorOffset.width/2-t.width/2;i+t.width>e?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-t.width}),this.addClass("left")):0>i?(this.applyPosition({left:this.activatorOffset.left}),this.addClass("right")):this.applyPosition({left:i})}else{var n=this.activatorOffset.left+this.activatorOffset.width/2-t.left-t.width/2;t.right+n>e?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width-t.right}),this.addRemoveClass("left",!0)):0>t.left+n?this.addRemoveClass("right",!0):this.applyPosition({left:n})}return!0},applyVerticalFlushPositioning:function(t,e){if(!this.initVerticalPositioning())return!1;var i=this.getBoundingRect(this.node),n=this.getViewWidth();return t>this.activatorOffset.left+this.activatorOffset.width/2?(this.activatorOffset.left+this.activatorOffset.width/2<this.horizBuffer?this.applyPosition({left:this.horizBuffer+(this.floating?0:-i.left)}):this.applyPosition({left:this.activatorOffset.width/2+(this.floating?this.activatorOffset.left:0)}),this.addClass("right"),this.addClass("corner"),!0):this.activatorOffset.left+this.activatorOffset.width/2>e?(this.activatorOffset.left+this.activatorOffset.width/2>n-this.horizBuffer?this.applyPosition({left:n-this.horizBuffer-i.right}):this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width/2-i.right}),this.addClass("left"),this.addClass("corner"),!0):!1},initHorizontalPositioning:function(){this.resetPositioning();var t=this.getBoundingRect(this.node),e=this.getViewWidth();return this.floating?e/2>this.activatorOffset.left+this.activatorOffset.width?(this.applyPosition({left:this.activatorOffset.left+this.activatorOffset.width}),this.addRemoveClass("left",!0)):(this.applyPosition({left:this.activatorOffset.left-t.width}),this.addRemoveClass("right",!0)):this.activatorOffset.left-t.width>0?(this.applyPosition({left:this.activatorOffset.left-t.left-t.width}),this.addRemoveClass("right",!0)):(this.applyPosition({left:this.activatorOffset.width}),this.addRemoveClass("left",!0)),this.addRemoveClass("horizontal",!0),t=this.getBoundingRect(this.node),0>t.left||t.left+t.width>e?!1:!0},applyHorizontalPositioning:function(){if(!this.initHorizontalPositioning())return!1;var t=this.getBoundingRect(this.node),e=this.getViewHeight(),i=this.activatorOffset.top+this.activatorOffset.height/2;return this.floating?i>=e/2-.05*e&&e/2+.05*e>=i?this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-t.height/2,bottom:"auto"}):e/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:this.activatorOffset.top-this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top-t.height+2*this.activatorOffset.height,bottom:"auto"}),this.addRemoveClass("low",!0)):i>=e/2-.05*e&&e/2+.05*e>=i?this.applyPosition({top:(this.activatorOffset.height-t.height)/2}):e/2>this.activatorOffset.top+this.activatorOffset.height?(this.applyPosition({top:-this.activatorOffset.height}),this.addRemoveClass("high",!0)):(this.applyPosition({top:t.top-t.height-this.activatorOffset.top+this.activatorOffset.height}),this.addRemoveClass("low",!0)),!0},applyHorizontalFlushPositioning:function(t,e){if(!this.initHorizontalPositioning())return!1;var i=this.getBoundingRect(this.node),n=this.getViewHeight();return this.floating?n/2>this.activatorOffset.top?(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2}),this.addRemoveClass("high",!0)):(this.applyPosition({top:this.activatorOffset.top+this.activatorOffset.height/2-i.height}),this.addRemoveClass("low",!0)):i.top+i.height>n&&n-i.bottom<i.top-i.height?(this.applyPosition({top:i.top-i.height-this.activatorOffset.top-this.activatorOffset.height/2}),this.addRemoveClass("low",!0)):(this.applyPosition({top:this.activatorOffset.height/2}),this.addRemoveClass("high",!0)),t>this.activatorOffset.left+this.activatorOffset.width?(this.addClass("left"),this.addClass("corner"),!0):this.activatorOffset.left>e?(this.addClass("right"),this.addClass("corner"),!0):!1},getBoundingRect:function(t){var e=t.getBoundingClientRect();return e.width&&e.height?e:{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}},getViewHeight:function(){return void 0===window.innerHeight?document.documentElement.clientHeight:window.innerHeight},getViewWidth:function(){return void 0===window.innerWidth?document.documentElement.clientWidth:window.innerWidth},resetPositioning:function(){this.removeClass("right"),this.removeClass("left"),this.removeClass("high"),this.removeClass("low"),this.removeClass("corner"),this.removeClass("below"),this.removeClass("above"),this.removeClass("vertical"),this.removeClass("horizontal"),this.applyPosition({left:"auto"}),this.applyPosition({top:"auto"})},resizeHandler:function(){this.inherited(arguments),this.adjustPosition()},requestHide:function(){this.setShowing(!1)}});

// lib/engine/mixins/ClassSupport.js
(function(){if(!enyo.getPath("Master.ClassSupport")){var t=function(t,e){var i=window.console;if(void 0!==i){for(var n=enyo.isArray(e)?e:enyo.cloneArray(e),o="zLog->: ",s=0;n.length>s;s++){var a=n[s],r=s>0?[" (",s,"):"].join(""):"";o=enyo.isString(a)?o.concat(r,a):o.concat(r,JSON.stringify(a))}var h=i[t];h&&h.apply?h.apply(i,[o]):i.log.apply?i.log.apply(i,[o]):i.log(o)}},e=function(t){var e=t.callee.caller,i=((e?e.displayName:"")||"(instance method)")+":",n=[i].concat(enyo.cloneArray(t));return n};enyo.setPath("Master.ClassSupport",{name:"Master.ClassSupport",getClass$Name:function(t){var e=t.split(".");e.push(e.pop().toLowerCase());var i=e.join(".");return i},isNative:function(){return enyo.platform.ios||enyo.platform.android},getPlatformType:function(){var t=enyo.dom.getWindowWidth(),e="browser";return e=this.isNative()?800>=t?"phone":"tablet":"browser"},hasNetwork:function(){return navigator.onLine?!0:!1},zLog:function(){var i=e(arguments);if(this.isNative())enyo.logging.shouldLog("log")&&t("log",i);else{var n=this.log||enyo.log;n.apply(this,i)}},zError:function(){var i=e(arguments);if(this.isNative())enyo.logging.shouldLog("error")&&t("error",i);else{var n=this.error||enyo.error;n.apply(this,i)}},zWarn:function(){var i=e(arguments);if(this.isNative())enyo.logging.shouldLog("warn")&&t("warn",i);else{var n=this.warn||enyo.warn;n.apply(this,i)}}})}})();

// lib/engine/mixins/TimerSupport.js
(function(t){t.getPath("Master.TimeoutSupport")||t.setPath("Master.TimeoutSupport",{name:"Master.TimeoutSupport",timeout:0,failed:!1,startTimer:function(){this.startTime=t.perfNow(),this.timeout&&(this.timeoutJob=setTimeout(this.bindSafely("timeoutComplete"),this.timeout))},endTimer:function(){this.timeoutJob&&(this.endTime=t.perfNow(),clearTimeout(this.timeoutJob),this.timeoutJob=null,this.latency=this.endTime-this.startTime,this.zLog("current task exec time: ",this.latency))},timeoutComplete:function(){this.timedout=!0,this.fail("timeout")},fail:function(t){this.failed=!0,this.endTimer(),this.zLog("current task failed...",t)}})})(enyo);

// lib/engine/mixins/CommonDTOSupport.js
(function(t){if(!t.getPath("Master.CommonDTOSupport")){var e=function(t,e,i){t=t||window;var n={retCode:e,retMessage:i};t.restInfo=n};t.setPath("Master.CommonDTOSupport",{name:"Master.CommonDTOSupport",apiDefaultDTO:function(t){var e=Master.locale.get("SUCCESS","message");return this._setRestInfo(this,1,e),t},apiExceptionDTO:function(e,i){var n={code:"",message:""},o=i&&i.xhrResponse.status,s=i.xhrResponse.body;s&&(n=t.json.parse(s).info),this.zError("apiOpts: ",e,"res:",i);var a=ErrorCode[n.code]||ErrorCode[o]||o,r=n.message;r=t.isObject(r)?t.json.stringify(r):r;var h=r||Master.locale.get(a,"message");return this._setRestInfo(this,a,h),null},_setRestInfo:function(t,i,n){e(t,i,n)}})}})(enyo);

// lib/engine/mixins/ModelSupport.js
(function(t){t.getPath("Master.ModelSupport")||t.setPath("Master.ModelSupport",{name:"Master.ModelSupport",apis:{},_defaultApiOpts:{postBody:null,headers:function(){return{Authorization:Master.session.getToken()}},contentType:"application/json",cache:{enabled:!0,cacheTime:3e5},callback:null},parse:function(e,i){var n=this.apiDefaultDTO(e);if(i){var o=i.dto;o&&(n=t.call(this,o,[n,i]))}return this.zLog("parsed data: ",n),n},fetch:t.inherit(function(t){return function(e){if(e.apiKey){var i=this._resetRequestOptions(e);e.data&&(i.params=e.data),i.action="GET",this.zLog("do fetch(GET) request..."),t.call(this,i)}else this.zError("You must provider 'apiKey' in options for each api fetch request.")}}),commit:t.inherit(function(t){return function(e){if(e.apiKey){var i=this._resetRequestOptions(e);switch(e.method.toUpperCase()){case"POST":i.action="POST",this.isNew=!0;break;case"PUT":i.action="UPDATE",this.isNew=!1}e.data&&(i.postBody=e.data),this.zLog("do commit(POST,PUT) request..."),t.call(this,i)}else this.zError("You must provider 'apiKey' in options for each api commit request.")}}),destroy:t.inherit(function(t){return function(e){if(e.apiKey){var i=this._resetRequestOptions(e);i.action="DELETE",this.isNew=!1,this.zLog("do destroy(DELETE) request..."),t.call(this,i)}else this.zError("You must provider 'apiKey' in options for each api destroy request.")}}),_resetRequestOptions:function(e){var i=t.clone(this.apis[e.apiKey]),n=t.clone(this._defaultApiOpts);t.mixin(i,e),t.mixin(n,i);for(var o in n)"callback"!=o&&"function"==typeof n[o]&&(n[o]=n[o].call(this));return n.success=t.bind(this,"didSuccessFn"),n.fail=t.bind(this,"didFailedFn"),Master.config.cache&&(n.cache.enabled=Master.config.cache.enabled&&n.cache&&n.cache.enabled),this.zLog("api call options: ",n),n},didFailedFn:function(t,e,i){this.apiExceptionDTO(e,i);var n=e&&e.callback;n&&n(t)},didSuccessFn:function(t,e){var i=e&&e.callback;if("DELETE"==e.action){var n=Master.locale.get("SUCCESS","message");this._setRestInfo(this,1,n)}i&&i(t)},_setupStoreSource:function(){var t=Master.config.cache;if(t&&t.enabled)switch(this.zLog("current enabled cache!"),t.cacheStrategy){case"websql":this.store.addSources({websql:"Master.WebsqlAjaxSource"}),this._defaultApiOpts.source="websql";break;case"localstorage":this.store.addSources({localstorage:"Master.LocalstorageAjaxSource"}),this._defaultApiOpts.source="localstorage"}else this.zLog("current disabled cache, use enyo stardard ajax or jsonp store source!")}})})(enyo);

// lib/engine/mixins/HistorySupport.js
enyo.setPath("Master.HistorySupport",{name:"Master.HistorySupport",_apiLanguageKey:"apiLanguage",saveUserApiLanguage:function(t){Master.storage.add(this._apiLanguageKey,{val:t})},getUserApiLanguage:function(){var t=Master.storage.get(this._apiLanguageKey);return t&&t.val||Master.config.defaultAPILanguage},prepare:function(t){return"#"===t[0]?t.slice(1):t},location:function(t){window.location.href="#"+this.prepare(t)},locationApiItem:function(t){var e="node/"+t;this.location(e)},locationCategoryItem:function(t){var e="node/"+t;this.location(e)},locationAdminCategoryList:function(){var t="profile/category/list";this.location(t)},locationAdminApilist:function(){var t="profile/api/list";this.location(t)},home:function(){window.location.href="#home/index"}});

// lib/engine/storage/Cookie.js
(function(t){var e=function(e,i,n){if(void 0===i){var o=null;if(document.cookie&&""!=document.cookie)for(var s=document.cookie.split(";"),a=0;s.length>a;a++){var r=t.trim(s[a]);if(r.substring(0,e.length+1)==e+"="){o=decodeURIComponent(r.substring(e.length+1));break}}if(o&&o.match(/^\s*\{/))try{o=JSON.parse(o)}catch(h){t.error("Master.store.cookie.get() exceptin!",h)}return o}n=n||{},null===i&&(i="",n.expires=-1),t.isObject(i)&&(i=JSON.stringify(i));var l="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var d;"number"==typeof n.expires?(d=new Date,d.setTime(d.getTime()+1e3*60*60*24*n.expires)):d=n.expires,l="; expires="+d.toUTCString()}var c=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",g=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(i),l,c,u,g].join("")};t.kind({name:"Master.storage.Cookie",kind:"enyo.Object",mixins:["Master.ClassSupport"],get:function(i){return t.isString(i)?e(i):(this.zError("the storage key must be string!"),null)},add:function(i,n,o){t.isObject(n)?e(i,n,o):this.zError("the storage value must be an object!")},remove:function(i){return t.isString(i)?(e(i,null),!0):!1},removeAll:function(){this.zLog("remove all storage keys data, have not implemented!")}})})(enyo);

// lib/engine/storage/LocalStorage.js
enyo.kind({name:"Master.storage.LocalStorage",kind:"enyo.Object",mixins:["Master.ClassSupport"],get:function(t){if(!enyo.isString(t))return this.zError("the storage key must be string!"),null;var e=localStorage.getItem(t);try{return JSON.parse(e)}catch(i){enyo.error("Master.store.LocalStorage.get() exception!")}},add:function(t,e){enyo.isObject(e)?localStorage.setItem(t,JSON.stringify(e)):this.zError("the storage value must be an object!")},remove:function(t){return enyo.isString(t)?(localStorage.removeItem(t),!0):!1},removeAll:function(){this.zLog("remove all storage keys data, have not implemented!")}});

// lib/engine/storage/Websql.js
enyo.kind({name:"Master.storage.Websql",kind:"enyo.Object",mixins:["Master.ClassSupport"]});

// lib/engine/storage/Storage.js
(function(t){t.kind({name:"Master.Storage",kind:"enyo.Object",mixins:["Master.ClassSupport"],_storageStrategy:"cookie",_storageInstance:null,constructor:t.inherit(function(){return function(){this._storageStrategy=arguments[0]||"cookie",this.initializeStorage()}}),initializeStorage:function(){switch(this._storageStrategy.toLocaleLowerCase()){case"cookie":this._storageInstance=new Master.storage.Cookie;break;case"localstorage":this._storageInstance=new Master.storage.LocalStorage;break;case"websql":this._storageInstance=new Master.storage.Websql;break;default:this._storageInstance=new Master.storage.LocalStorage}this.zLog("current storage instance is :",this._storageInstance&&this._storageInstance.kindName)},setStrategy:function(e){this.zLog("setStrategy...",e),this._storageStrategy=e,this.initializeStorage(),t.Signals.send("onStorageStrategyChange",{strategy:e})},get:function(t){return this._storageInstance.get(t)},add:function(t,e){return this._storageInstance.add(t,e)},remove:function(t){return this._storageInstance.remove(t)}}),Master.storage=new Master.Storage("localstorage")})(enyo);

// lib/engine/mvc/mixins/MvcSupport.js
(function(t){t.getPath("Master.MvcSupport")||t.setPath("Master.MvcSupport",{name:"Master.MvcSupport",getModelInstance:function(e,i){if(i=i||{},this._makesureOptions(i),t.isString(e)){var n=t.store.findLocal(e,i);return t.isArray(n)&&n.length?(this.log("get model instance from enyo.store records[0] cache ok!"),this.makesureModel(n[0],e,i)):t.isObject(n)?(this.log("get model instance from enyo.store records cache ok!"),this.makesureModel(n,e,i)):this.makesureModel(null,e,i)}this.error("Please pass kind name (string type)!")},makesureModel:function(e,i,n){if(e){if(e.destroyed){t.mixin(e.attributes,n),t.store.removeRecord(e);var o=t.clone(n);delete o.euid,e=t.store.createRecord(i,o)}}else e=t.store.createRecord(i,n);return e},getCollectionInstance:function(e,i){i=i||{},this._makesureOptions(i);var n=t.store.records;return i.euid?n.euid[i.euid]:t.createFromKind(e)},bind:function(){var e=Array.prototype.concat.apply([this],arguments);return t.bind.apply(t,e)},_makesureOptions:function(t){for(var e in t)t[e]=t[e]||""}})})(enyo);

// lib/engine/mvc/data/sources/OfflineXHRSource.js
enyo.kind({name:"Master.OfflineXHRSource",kind:enyo.XHRSource,_requestOptions:enyo.keys(enyo.AjaxProperties)});

// lib/engine/mvc/data/sources/LocalstorageAjaxSource.js
(function(t){t.kind({name:"Master.LocalstorageAjaxSource",kind:Master.OfflineXHRSource,requestKind:t.Ajax,fetch:function(t,e){e.method="GET",e.url=this.buildUrl(t,e),this.go(e)},commit:function(t,e){e.method=t.isNew?"POST":"PUT",e.url=this.buildUrl(t,e),e.postBody=e.postBody||t.toJSON(),this.go(e)},destroy:function(t,e){e.method="DELETE",e.url=this.buildUrl(t,e),this.go(e)}})})(enyo);

// lib/engine/mvc/data/sources/WebsqlAjaxSource.js
(function(t){t.kind({name:"Master.WebsqlAjaxSource",kind:Master.OfflineXHRSource,requestKind:t.Ajax,fetch:function(t,e){e.method="GET",e.url=this.buildUrl(t,e),this.go(e)},commit:function(t,e){e.method=t.isNew?"POST":"PUT",e.url=this.buildUrl(t,e),e.postBody=e.postBody||t.toJSON(),this.go(e)},destroy:function(t,e){e.method="DELETE",e.url=this.buildUrl(t,e),this.go(e)}})})(enyo);

// lib/engine/mvc/data/Model.js
enyo.kind({name:"Master.Model",kind:"enyo.Model",mixins:["Master.ClassSupport","Master.CommonDTOSupport","Master.ModelSupport"],constructed:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.urlRoot=Master.config.urlRoot,this._defaultApiOpts.cacheBust=Master.config.cacheBust,this._setupStoreSource()}})});

// lib/engine/mvc/data/Collection.js
enyo.kind({name:"Master.Collection",kind:"enyo.Collection",mixins:["Master.ClassSupport","Master.CommonDTOSupport","Master.ModelSupport"],instanceAllRecords:!1,constructed:enyo.inherit(function(t){return function(){t.apply(this,arguments),this.urlRoot=Master.config.urlRoot,this._defaultApiOpts.cacheBust=Master.config.cacheBust,this._setupStoreSource()}})});

// lib/engine/mvc/View.js
enyo.kind({name:"Master.View",kind:"enyo.Control",mixins:["Master.ClassSupport","Master.HistorySupport","Master.MvcSupport"],published:{viewModel:null,viewData:null},events:{onViewUpdated:""},observers:{},notifyViewAction:function(t,e){var i=t&&t.restInfo;if(i&&1!=i.retCode)return Master.view.frame.showAlertDialog({title:Master.locale.get("DIALOG_ALERT_ERROR","title"),message:i.retMessage}),void 0;this.viewModel=t,this.viewData=e;var n=e&&e.action,o=e&&e.data,s=n&&this[n];s?(s.call(this,t,o),this.bubble("onViewUpdated")):this.zWarn("view action don't exist in View instance!")},viewReady:function(){this.zWarn("this method should be override by each ui view")},handleViewModel:function(){var t=this.get("viewModel");t&&this.notifyViewAction(t,this.get("viewData"))},getController:function(){return this.$$controller},create:enyo.inherit(function(t){return function(){t.apply(this,arguments);var e=this.$$controller;e&&(e.bubbleTarget=this.getOwner(),e.setViewMapping(this.kindName,this)),this.handleViewModel()}}),destroy:enyo.inherit(function(t){return function(){var e=this.$$controller;e&&(e.bubbleTarget=null,e.setViewMapping(this.kindName,null),this.$$controller=null),t.apply(this,arguments)}}),statics:{subclass:function(t){var e=t.prototype;enyo.mixin(e,e.constants),delete e.constants}}});

// lib/engine/mvc/Controller.js
enyo.kind({name:"Master.Controller",kind:"enyo.ViewController",mixins:["Master.ClassSupport","Master.HistorySupport","Master.MvcSupport"],published:{security:!1},_viewMapping:{},_hasPassedSecurityValidation:function(){return this.get("security")&&!Master.session.hasAuthorization()?(this.zLog("controller security redirect! "),!1):!0},bindingView:function(t,e,i){var n="";n=~t.indexOf("Master")?t:"Master.views.".concat(t);var o={name:this.getClass$Name(n),kind:n,$$controller:this,bubbleTarget:this};return enyo.mixin(o,{viewModel:e||null,viewData:i||null}),o},bindingViewToDock:function(t,e,i){var n=this.bindingView(t,e,i),o=n.kind;this.hasInstancedView(o)?(this.zLog("the view `"+o+"` has been instanced in controller `"+this.kindName+"`"),this.notifyView(o,e,i)):Master.view.frame.setDockContent(n)},bindingViewToContent:function(t,e,i){var n=this.bindingView(t,e,i),o=n.kind;this.hasInstancedView(o)?(this.zLog("the view `"+o+"` has been instanced in controller `"+this.kindName+"`"),this.notifyView(o,e,i)):Master.view.frame.setMainContent(n)},getViewCacheKey:function(t){var e="";e=~t.indexOf("Master")?t:"Master.views.".concat(t);var i=this.getClass$Name(e);return"$$_"+i.toLowerCase()},setViewMapping:function(t,e){var i=this.getViewCacheKey(t);null===e?delete this._viewMapping[i]:this._viewMapping[i]=e,this.zLog("viewMapping:",this._viewMapping)},hasInstancedView:function(t){var e=this.getViewCacheKey(t);return!!this._viewMapping[e]},notifyView:function(t,e,i){if(this._hasPassedSecurityValidation()){var n=this.getViewCacheKey(t),o=this._viewMapping[n];o?e?(o.set("viewData",i),o.set("viewModel",e),o.notifyViewAction(e,i)):o.viewReady():this.zError("can't find the view cache instance in controller. pls check if you have binding this view first",t)}else this.zLog("controller security validate failed"),window.location.href="#home"},statics:{subclass:function(t){var e=t.prototype;enyo.mixin(e,e.constants),delete e.constants}}});

// lib/engine/mvc/Router.js
enyo.kind({name:"Master.Router",kind:"enyo.Router",triggerOnStart:!1,mixins:["Master.ClassSupport","Master.TimeoutSupport"],constructor:enyo.inherit(function(t){return function(){this.routes=this.routes||this._getRoutes(),t.apply(this,arguments)}}),create:enyo.inherit(function(t){return function(){t.apply(this,arguments)}}),startRoute:function(){this.timeout=1e4,this.startTimer(),this.waitAppInitialized()},waitAppInitialized:function(){if(Master.session.hasInitialized())this.endTimer(),this.triggerRoute();else if(this.failed)this.zError("wait app initialized failed timeout!"),this.triggerRoute();else{var t=this;setTimeout(function(){t.waitAppInitialized()},200)}},triggerRoute:function(){this.defaultPathOnStart?this.trigger({change:!0,location:this.get("defaultPath")}):this.trigger()},addRoute:function(t){var e,i=this._staticRoutes,n=this._dynamicRoutes,o=/\:[a-zA-Z0-9]*/g;return!0===t["default"]?this.defaultRoute=t:o.test(t.path)?(e=RegExp(t.path.replace(o,"([a-zA-Z0-9-_%]*)")),t.regex=e,n.push(t)):i[t.path]=t,this},_getRoutes:function(){var t=Master.config.routeConfig,e=[];if(t&&enyo.isArray(t))for(var i=0;t.length>i;i++){var n=t[i],o={path:n.path,handler:this.findHandler(n),context:this.findController(n)};o["default"]=n["default"],e.push(o)}return e},defaultRouteHandler:function(){this.zLog("default route haschanged handler",arguments),this.location(Master.config.defaultHash)},findHandler:function(t){if(t&&enyo.isObject(t)){var e=enyo.uncap(t.action)||"index";return e}this.zLog(enyo.format("Can't find matched handler for controller '%'",t.controller))},findController:function(t){if(t&&enyo.isObject(t)){var e=t.controller,i=~e.indexOf("Controller")?e:e+"Controller",n=this.getClass$Name(["Master.controllers",i.toLowerCase()].join(".")),o=this.findControllerFromApplication(n);return o}this.zError("Can't find the matched controller! route: ",t)},findControllerFromApplication:function(t){var e=null,i=enyo.applications[Master.config.appName||"z"];return i?e=i.controllers&&i.controllers[t]:this.zError("Application instance find failed!"),e}});

// lib/markitup/jquery-1.11.0.min.js
!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=se.type(t);return"function"===n||se.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(se.isFunction(e))return se.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return se.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(fe.test(e))return se.filter(e,t,n);e=se.filter(e,t)}return se.grep(t,function(t){return se.inArray(t,e)>=0!==n})}function o(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function s(t){var e=xe[t]={};return se.each(t.match(be)||[],function(t,n){e[n]=!0}),e}function r(){ge.addEventListener?(ge.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(ge.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(ge.addEventListener||"load"===event.type||"complete"===ge.readyState)&&(r(),se.ready())}function h(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(ke,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Te.test(n)?se.parseJSON(n):n}catch(o){}se.data(t,e,n)}else n=void 0}return n}function l(t){var e;for(e in t)if(("data"!==e||!se.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(se.acceptData(t)){var o,s,r=se.expando,a=t.nodeType,h=a?se.cache:t,l=a?t[r]:t[r]&&r;if(l&&h[l]&&(i||h[l].data)||void 0!==n||"string"!=typeof e)return l||(l=a?t[r]=Y.pop()||se.guid++:r),h[l]||(h[l]=a?{}:{toJSON:se.noop}),("object"==typeof e||"function"==typeof e)&&(i?h[l]=se.extend(h[l],e):h[l].data=se.extend(h[l].data,e)),s=h[l],i||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[se.camelCase(e)]=n),"string"==typeof e?(o=s[e],null==o&&(o=s[se.camelCase(e)])):o=s,o}}function d(t,e,n){if(se.acceptData(t)){var i,o,s=t.nodeType,r=s?se.cache:t,a=s?t[se.expando]:se.expando;if(r[a]){if(e&&(i=n?r[a]:r[a].data)){se.isArray(e)?e=e.concat(se.map(e,se.camelCase)):e in i?e=[e]:(e=se.camelCase(e),e=e in i?[e]:e.split(" ")),o=e.length;for(;o--;)delete i[e[o]];if(n?!l(i):!se.isEmptyObject(i))return}(n||(delete r[a].data,l(r[a])))&&(s?se.cleanData([t],!0):ie.deleteExpando||r!=r.window?delete r[a]:r[a]=null)}}}function u(){return!0}function f(){return!1}function p(){try{return ge.activeElement}catch(t){}}function g(t){var e=Be.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function m(t,e){var n,i,o=0,s=typeof t.getElementsByTagName!==Pe?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Pe?t.querySelectorAll(e||"*"):void 0;if(!s)for(s=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||se.nodeName(i,e)?s.push(i):se.merge(s,m(i,e));return void 0===e||e&&se.nodeName(t,e)?se.merge([t],s):s}function y(t){Ae.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e){return se.nodeName(t,"table")&&se.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function w(t){return t.type=(null!==se.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=Ye.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){for(var n,i=0;null!=(n=t[i]);i++)se._data(n,"globalEval",!e||se._data(e[i],"globalEval"))}function C(t,e){if(1===e.nodeType&&se.hasData(t)){var n,i,o,s=se._data(t),r=se._data(e,s),a=s.events;if(a){delete r.handle,r.events={};for(n in a)for(i=0,o=a[n].length;o>i;i++)se.event.add(e,n,a[n][i])}r.data&&(r.data=se.extend({},r.data))}}function S(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ie.noCloneEvent&&e[se.expando]){o=se._data(e);for(i in o.events)se.removeEvent(e,i,o.handle);e.removeAttribute(se.expando)}"script"===n&&e.text!==t.text?(w(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ie.html5Clone&&t.innerHTML&&!se.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ae.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function P(e,n){var i=se(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle?t.getDefaultComputedStyle(i[0]).display:se.css(i[0],"display");return i.detach(),o}function T(t){var e=ge,n=tn[t];return n||(n=P(t,e),"none"!==n&&n||(Qe=(Qe||se("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Qe[0].contentWindow||Qe[0].contentDocument).document,e.write(),e.close(),n=P(t,e),Qe.detach()),tn[t]=n),n}function k(t,e){return{get:function(){var n=t();return null!=n?n?void delete this.get:(this.get=e).apply(this,arguments):void 0}}}function R(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,o=pn.length;o--;)if(e=pn[o]+n,e in t)return e;return i}function N(t,e){for(var n,i,o,s=[],r=0,a=t.length;a>r;r++)i=t[r],i.style&&(s[r]=se._data(i,"olddisplay"),n=i.style.display,e?(s[r]||"none"!==n||(i.style.display=""),""===i.style.display&&Me(i)&&(s[r]=se._data(i,"olddisplay",T(i.nodeName)))):s[r]||(o=Me(i),(n&&"none"!==n||!o)&&se._data(i,"olddisplay",o?n:se.css(i,"display"))));for(r=0;a>r;r++)i=t[r],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?s[r]||"":"none"));return t}function M(t,e,n){var i=cn.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function I(t,e,n,i,o){for(var s=n===(i?"border":"content")?4:"width"===e?1:0,r=0;4>s;s+=2)"margin"===n&&(r+=se.css(t,n+Ne[s],!0,o)),i?("content"===n&&(r-=se.css(t,"padding"+Ne[s],!0,o)),"margin"!==n&&(r-=se.css(t,"border"+Ne[s]+"Width",!0,o))):(r+=se.css(t,"padding"+Ne[s],!0,o),"padding"!==n&&(r+=se.css(t,"border"+Ne[s]+"Width",!0,o)));return r}function A(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,s=en(t),r=ie.boxSizing()&&"border-box"===se.css(t,"boxSizing",!1,s);if(0>=o||null==o){if(o=nn(t,e,s),(0>o||null==o)&&(o=t.style[e]),sn.test(o))return o;i=r&&(ie.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+I(t,e,n||(r?"border":"content"),i,s)+"px"}function D(t,e,n,i,o){return new D.prototype.init(t,e,n,i,o)}function $(){return setTimeout(function(){gn=void 0}),gn=se.now()}function E(t,e){var n,i={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)n=Ne[o],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function H(t,e,n){for(var i,o=(xn[e]||[]).concat(xn["*"]),s=0,r=o.length;r>s;s++)if(i=o[s].call(n,e,t))return i}function O(t,e,n){var i,o,s,r,a,h,l,c,d=this,u={},f=t.style,p=t.nodeType&&Me(t),g=se._data(t,"fxshow");n.queue||(a=se._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,h=a.empty.fire,a.empty.fire=function(){a.unqueued||h()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,se.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=se.css(t,"display"),c=T(t.nodeName),"none"===l&&(l=c),"inline"===l&&"none"===se.css(t,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==c?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",ie.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],yn.exec(o)){if(delete e[i],s=s||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;p=!0}u[i]=g&&g[i]||se.style(t,i)}if(!se.isEmptyObject(u)){g?"hidden"in g&&(p=g.hidden):g=se._data(t,"fxshow",{}),s&&(g.hidden=!p),p?se(t).show():d.done(function(){se(t).hide()}),d.done(function(){var e;se._removeData(t,"fxshow");for(e in u)se.style(t,e,u[e])});for(i in u)r=H(p?g[i]:0,i,d),i in g||(g[i]=r.start,p&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function B(t,e){var n,i,o,s,r;for(n in t)if(i=se.camelCase(n),o=e[i],s=t[n],se.isArray(s)&&(o=s[1],s=t[n]=s[0]),n!==i&&(t[i]=s,delete t[n]),r=se.cssHooks[i],r&&"expand"in r){s=r.expand(s),delete t[i];for(n in s)n in t||(t[n]=s[n],e[n]=o)}else e[i]=o}function L(t,e,n){var i,o,s=0,r=bn.length,a=se.Deferred().always(function(){delete h.elem}),h=function(){if(o)return!1;for(var e=gn||$(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,s=1-i,r=0,h=l.tweens.length;h>r;r++)l.tweens[r].run(s);return a.notifyWith(t,[l,s,n]),1>s&&h?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:se.extend({},e),opts:se.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:gn||$(),duration:n.duration,tweens:[],createTween:function(e,n){var i=se.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)l.tweens[n].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),c=l.props;for(B(c,l.opts.specialEasing);r>s;s++)if(i=bn[s].call(l,t,c,l.opts))return i;return se.map(c,H,l),se.isFunction(l.opts.start)&&l.opts.start.call(t,l),se.fx.timer(se.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function z(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,s=e.toLowerCase().match(be)||[];if(se.isFunction(n))for(;i=s[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function F(t,e,n,i){function o(a){var h;return s[a]=!0,se.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||r||s[l]?r?!(h=l):void 0:(e.dataTypes.unshift(l),o(l),!1)}),h}var s={},r=t===Wn;return o(e.dataTypes[0])||!s["*"]&&o("*")}function _(t,e){var n,i,o=se.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&se.extend(!0,t,n),t}function j(t,e,n){for(var i,o,s,r,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(r in a)if(a[r]&&a[r].test(o)){h.unshift(r);break}if(h[0]in n)s=h[0];else{for(r in n){if(!h[0]||t.converters[r+" "+h[0]]){s=r;break}i||(i=r)}s=s||i}return s?(s!==h[0]&&h.unshift(s),n[s]):void 0}function V(t,e,n,i){var o,s,r,a,h,l={},c=t.dataTypes.slice();if(c[1])for(r in t.converters)l[r.toLowerCase()]=t.converters[r];for(s=c.shift();s;)if(t.responseFields[s]&&(n[t.responseFields[s]]=e),!h&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=s,s=c.shift())if("*"===s)s=h;else if("*"!==h&&h!==s){if(r=l[h+" "+s]||l["* "+s],!r)for(o in l)if(a=o.split(" "),a[1]===s&&(r=l[h+" "+a[0]]||l["* "+a[0]])){r===!0?r=l[o]:l[o]!==!0&&(s=a[0],c.unshift(a[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+h+" to "+s}}}return{state:"success",data:e}}function q(t,e,n,i){var o;if(se.isArray(e))se.each(e,function(e,o){n||Xn.test(t)?i(t,o):q(t+"["+("object"==typeof o?e:"")+"]",o,n,i)});else if(n||"object"!==se.type(e))i(t,e);else for(o in e)q(t+"["+o+"]",e[o],n,i)}function W(){try{return new t.XMLHttpRequest}catch(e){}}function K(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function U(t){return se.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var Y=[],X=Y.slice,Z=Y.concat,J=Y.push,G=Y.indexOf,Q={},te=Q.toString,ee=Q.hasOwnProperty,ne="".trim,ie={},oe="1.11.0",se=function(t,e){return new se.fn.init(t,e)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,he=/-([\da-z])/gi,le=function(t,e){return e.toUpperCase()};se.fn=se.prototype={jquery:oe,constructor:se,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=se.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return se.each(this,t,e)},map:function(t){return this.pushStack(se.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:J,sort:Y.sort,splice:Y.splice},se.extend=se.fn.extend=function(){var t,e,n,i,o,s,r=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[a]||{},a++),"object"==typeof r||se.isFunction(r)||(r={}),a===h&&(r=this,a--);h>a;a++)if(null!=(o=arguments[a]))for(i in o)t=r[i],n=o[i],r!==n&&(l&&n&&(se.isPlainObject(n)||(e=se.isArray(n)))?(e?(e=!1,s=t&&se.isArray(t)?t:[]):s=t&&se.isPlainObject(t)?t:{},r[i]=se.extend(l,s,n)):void 0!==n&&(r[i]=n));return r},se.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw Error(t)},noop:function(){},isFunction:function(t){return"function"===se.type(t)},isArray:Array.isArray||function(t){return"array"===se.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==se.type(t)||t.nodeType||se.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ie.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[te.call(t)]||"object":typeof t},globalEval:function(e){e&&se.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ae,"ms-").replace(he,le)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var o,s=0,r=t.length,a=n(t);if(i){if(a)for(;r>s&&(o=e.apply(t[s],i),o!==!1);s++);else for(s in t)if(o=e.apply(t[s],i),o===!1)break}else if(a)for(;r>s&&(o=e.call(t[s],s,t[s]),o!==!1);s++);else for(s in t)if(o=e.call(t[s],s,t[s]),o===!1)break;return t},trim:ne&&!ne.call("\ufeff\u00a0")?function(t){return null==t?"":ne.call(t)}:function(t){return null==t?"":(t+"").replace(re,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?se.merge(i,"string"==typeof t?[t]:t):J.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(G)return G.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;n>i;)t[o++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],s=0,r=t.length,a=!n;r>s;s++)i=!e(t[s],s),i!==a&&o.push(t[s]);return o},map:function(t,e,i){var o,s=0,r=t.length,a=n(t),h=[];if(a)for(;r>s;s++)o=e(t[s],s,i),null!=o&&h.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&h.push(o);return Z.apply([],h)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),se.isFunction(t)?(n=X.call(arguments,2),i=function(){return t.apply(e||this,n.concat(X.call(arguments)))},i.guid=t.guid=t.guid||se.guid++,i):void 0},now:function(){return+new Date},support:ie}),se.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()});var ce=function(t){function e(t,e,n,i){var o,s,r,a,h,l,d,p,g,m;if((e?e.ownerDocument||e:F)!==D&&A(e),e=e||D,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(E&&!i){if(o=ve.exec(t))if(r=o[1]){if(9===a){if(s=e.getElementById(r),!s||!s.parentNode)return n;if(s.id===r)return n.push(s),n}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(r))&&L(e,s)&&s.id===r)return n.push(s),n}else{if(o[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=o[3])&&S.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(S.qsa&&(!H||!H.test(t))){if(p=d=z,g=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=u(t),(d=e.getAttribute("id"))?p=d.replace(be,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",h=l.length;h--;)l[h]=p+f(l[h]);g=we.test(t)&&c(e.parentNode)||e,m=l.join(",")}if(m)try{return Q.apply(n,g.querySelectorAll(m)),n}catch(y){}finally{d||e.removeAttribute("id")}}}return x(t.replace(he,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>P.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[z]=!0,t}function o(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),i=t.length;i--;)P.attrHandle[n[i]]=e}function r(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function h(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var o,s=t([],n.length,e),r=s.length;r--;)n[o=s[r]]&&(n[o]=!(i[o]=n[o]))})})}function c(t){return t&&typeof t.getElementsByTagName!==U&&t}function d(){}function u(t,n){var i,o,s,r,a,h,l,c=q[t+" "];if(c)return n?0:c.slice(0);for(a=t,h=[],l=P.preFilter;a;){(!i||(o=le.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),h.push(s=[])),i=!1,(o=ce.exec(a))&&(i=o.shift(),s.push({value:i,type:o[0].replace(he," ")}),a=a.slice(i.length));for(r in P.filter)!(o=pe[r].exec(a))||l[r]&&!(o=l[r](o))||(i=o.shift(),s.push({value:i,type:r,matches:o}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):q(t,h).slice(0)}function f(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,o=n&&"parentNode"===i,s=j++;return e.first?function(e,n,s){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,s)}:function(e,n,r){var a,h,l=[_,s];if(r){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,r))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(h=e[z]||(e[z]={}),(a=h[i])&&a[0]===_&&a[1]===s)return l[2]=a[2];if(h[i]=l,l[2]=t(e,n,r))return!0}}}function g(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,e,n,i,o){for(var s,r=[],a=0,h=t.length,l=null!=e;h>a;a++)(s=t[a])&&(!n||n(s,i,o))&&(r.push(s),l&&e.push(a));return r}function y(t,e,n,o,s,r){return o&&!o[z]&&(o=y(o)),s&&!s[z]&&(s=y(s,r)),i(function(i,r,a,h){var l,c,d,u=[],f=[],p=r.length,g=i||b(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?g:m(g,u,t,a,h),v=n?s||(i?t:p||o)?[]:r:y;if(n&&n(y,v,a,h),o)for(l=m(v,f),o(l,[],a,h),c=l.length;c--;)(d=l[c])&&(v[f[c]]=!(y[f[c]]=d));if(i){if(s||t){if(s){for(l=[],c=v.length;c--;)(d=v[c])&&l.push(y[c]=d);s(null,v=[],l,h)}for(c=v.length;c--;)(d=v[c])&&(l=s?ee.call(i,d):u[c])>-1&&(i[l]=!(r[l]=d))}}else v=m(v===r?v.splice(p,v.length):v),s?s(null,r,v,h):Q.apply(r,v)})}function v(t){for(var e,n,i,o=t.length,s=P.relative[t[0].type],r=s||P.relative[" "],a=s?1:0,h=p(function(t){return t===e},r,!0),l=p(function(t){return ee.call(e,t)>-1},r,!0),c=[function(t,n,i){return!s&&(i||n!==N)||((e=n).nodeType?h(t,n,i):l(t,n,i))}];o>a;a++)if(n=P.relative[t[a].type])c=[p(g(c),n)];else{if(n=P.filter[t[a].type].apply(null,t[a].matches),n[z]){for(i=++a;o>i&&!P.relative[t[i].type];i++);return y(a>1&&g(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(he,"$1"),n,i>a&&v(t.slice(a,i)),o>i&&v(t=t.slice(i)),o>i&&f(t))}c.push(n)}return g(c)}function w(t,n){var o=n.length>0,s=t.length>0,r=function(i,r,a,h,l){var c,d,u,f=0,p="0",g=i&&[],y=[],v=N,w=i||s&&P.find.TAG("*",l),b=_+=null==v?1:Math.random()||.1,x=w.length;for(l&&(N=r!==D&&r);p!==x&&null!=(c=w[p]);p++){if(s&&c){for(d=0;u=t[d++];)if(u(c,r,a)){h.push(c);break}l&&(_=b)}o&&((c=!u&&c)&&f--,i&&g.push(c))}if(f+=p,o&&p!==f){for(d=0;u=n[d++];)u(g,y,r,a);if(i){if(f>0)for(;p--;)g[p]||y[p]||(y[p]=J.call(h));y=m(y)}Q.apply(h,y),l&&!i&&y.length>0&&f+n.length>1&&e.uniqueSort(h)}return l&&(_=b,N=v),g};return o?i(r):r}function b(t,n,i){for(var o=0,s=n.length;s>o;o++)e(t,n[o],i);return i}function x(t,e,n,i){var o,s,r,a,h,l=u(t);if(!i&&1===l.length){if(s=l[0]=l[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&S.getById&&9===e.nodeType&&E&&P.relative[s[1].type]){if(e=(P.find.ID(r.matches[0].replace(xe,Ce),e)||[])[0],!e)return n;t=t.slice(s.shift().value.length)}for(o=pe.needsContext.test(t)?0:s.length;o--&&(r=s[o],!P.relative[a=r.type]);)if((h=P.find[a])&&(i=h(r.matches[0].replace(xe,Ce),we.test(s[0].type)&&c(e.parentNode)||e))){if(s.splice(o,1),t=i.length&&f(s),!t)return Q.apply(n,i),n;break}}return R(t,l)(i,e,!E,n,we.test(t)&&c(e.parentNode)||e),n}var C,S,P,T,k,R,N,M,I,A,D,$,E,H,O,B,L,z="sizzle"+-new Date,F=t.document,_=0,j=0,V=n(),q=n(),W=n(),K=function(t,e){return t===e&&(I=!0),0},U="undefined",Y=1<<31,X={}.hasOwnProperty,Z=[],J=Z.pop,G=Z.push,Q=Z.push,te=Z.slice,ee=Z.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=oe.replace("w","w#"),re="\\["+ie+"*("+oe+")"+ie+"*(?:([*^$|!~]?=)"+ie+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+se+")|)|)"+ie+"*\\]",ae=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+re.replace(3,8)+")*)|.*)\\)|)",he=RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=RegExp("^"+ie+"*,"+ie+"*"),ce=RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),de=RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),ue=RegExp(ae),fe=RegExp("^"+se+"$"),pe={ID:RegExp("^#("+oe+")"),CLASS:RegExp("^\\.("+oe+")"),TAG:RegExp("^("+oe.replace("w","w*")+")"),ATTR:RegExp("^"+re),PSEUDO:RegExp("^"+ae),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:RegExp("^(?:"+ne+")$","i"),needsContext:RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,be=/'|\\/g,xe=RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Ce=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{Q.apply(Z=te.call(F.childNodes),F.childNodes),Z[F.childNodes.length].nodeType}catch(Se){Q={apply:Z.length?function(t,e){G.apply(t,te.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}S=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:F,i=n.defaultView;return n!==D&&9===n.nodeType&&n.documentElement?(D=n,$=n.documentElement,E=!k(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){A()},!1):i.attachEvent&&i.attachEvent("onunload",function(){A()})),S.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),S.getElementsByTagName=o(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=ye.test(n.getElementsByClassName)&&o(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),S.getById=o(function(t){return $.appendChild(t).id=z,!n.getElementsByName||!n.getElementsByName(z).length}),S.getById?(P.find.ID=function(t,e){if(typeof e.getElementById!==U&&E){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},P.filter.ID=function(t){var e=t.replace(xe,Ce);return function(t){return t.getAttribute("id")===e}}):(delete P.find.ID,P.filter.ID=function(t){var e=t.replace(xe,Ce);return function(t){var n=typeof t.getAttributeNode!==U&&t.getAttributeNode("id");return n&&n.value===e}}),P.find.TAG=S.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==U?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;n=s[o++];)1===n.nodeType&&i.push(n);return i}return s},P.find.CLASS=S.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==U&&E?e.getElementsByClassName(t):void 0},O=[],H=[],(S.qsa=ye.test(n.querySelectorAll))&&(o(function(t){t.innerHTML="<select t=''><option selected=''></option></select>",t.querySelectorAll("[t^='']").length&&H.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||H.push("\\["+ie+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||H.push(":checked")}),o(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&H.push("name"+ie+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),H.push(",.*:")})),(S.matchesSelector=ye.test(B=$.webkitMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector||$.msMatchesSelector))&&o(function(t){S.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),O.push("!=",ae)}),H=H.length&&RegExp(H.join("|")),O=O.length&&RegExp(O.join("|")),e=ye.test($.compareDocumentPosition),L=e||ye.test($.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},K=e?function(t,e){if(t===e)return I=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!S.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===F&&L(F,t)?-1:e===n||e.ownerDocument===F&&L(F,e)?1:M?ee.call(M,t)-ee.call(M,e):0:4&i?-1:1)}:function(t,e){if(t===e)return I=!0,0;var i,o=0,s=t.parentNode,a=e.parentNode,h=[t],l=[e];if(!s||!a)return t===n?-1:e===n?1:s?-1:a?1:M?ee.call(M,t)-ee.call(M,e):0;if(s===a)return r(t,e);for(i=t;i=i.parentNode;)h.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;h[o]===l[o];)o++;return o?r(h[o],l[o]):h[o]===F?-1:l[o]===F?1:0},n):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&A(t),n=n.replace(de,"='$1']"),!(!S.matchesSelector||!E||O&&O.test(n)||H&&H.test(n)))try{var i=B.call(t,n);if(i||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&A(t),L(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&A(t);var n=P.attrHandle[e.toLowerCase()],i=n&&X.call(P.attrHandle,e.toLowerCase())?n(t,e,!E):void 0;return void 0!==i?i:S.attributes||!E?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(I=!S.detectDuplicates,M=!S.sortStable&&t.slice(0),t.sort(K),I){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return M=null,t},T=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=T(e);return n},P=e.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,Ce),t[3]=(t[4]||t[5]||"").replace(xe,Ce),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:n&&ue.test(n)&&(e=u(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,Ce).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==U&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var s=e.attr(o,t);return null==s?"!="===n:n?(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s+" ").indexOf(i)>-1:"|="===n?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,o){var s="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,h){var l,c,d,u,f,p,g=s!==r?"nextSibling":"previousSibling",m=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!h&&!a;if(m){if(s){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[r?m.firstChild:m.lastChild],r&&v){for(c=m[z]||(m[z]={}),l=c[t]||[],f=l[0]===_&&l[1],u=l[0]===_&&l[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(u=f=0)||p.pop();)if(1===d.nodeType&&++u&&d===e){c[t]=[_,f,u];break}}else if(v&&(l=(e[z]||(e[z]={}))[t])&&l[0]===_)u=l[1];else for(;(d=++f&&d&&d[g]||(u=f=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++u||(v&&((d[z]||(d[z]={}))[t]=[_,u]),d!==e)););return u-=o,u===i||0===u%i&&u/i>=0}}},PSEUDO:function(t,n){var o,s=P.pseudos[t]||P.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[z]?s(n):s.length>1?(o=[t,t,"",n],P.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=s(t,n),r=o.length;r--;)i=ee.call(t,o[r]),t[i]=!(e[i]=o[r])}):function(t){return s(t,0,o)}):s}},pseudos:{not:i(function(t){var e=[],n=[],o=R(t.replace(he,"$1"));return o[z]?i(function(t,e,n,i){for(var s,r=o(t,null,i,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))}):function(t,i,s){return e[0]=t,o(e,null,s,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:i(function(t){return fe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,Ce).toLowerCase(),function(e){var n;do if(n=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===$},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(6>t.nodeType)return!1;return!0},parent:function(t){return!P.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);
return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;e>++i;)t.push(i);return t})}},P.pseudos.nth=P.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})P.pseudos[C]=a(C);for(C in{submit:!0,reset:!0})P.pseudos[C]=h(C);return d.prototype=P.filters=P.pseudos,P.setFilters=new d,R=e.compile=function(t,e){var n,i=[],o=[],s=W[t+" "];if(!s){for(e||(e=u(t)),n=e.length;n--;)s=v(e[n]),s[z]?i.push(s):o.push(s);s=W(t,w(o,i))}return s},S.sortStable=z.split("").sort(K).join("")===z,S.detectDuplicates=!!I,A(),S.sortDetached=o(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),S.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(ne,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);se.find=ce,se.expr=ce.selectors,se.expr[":"]=se.expr.pseudos,se.unique=ce.uniqueSort,se.text=ce.getText,se.isXMLDoc=ce.isXML,se.contains=ce.contains;var de=se.expr.match.needsContext,ue=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;se.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?se.find.matchesSelector(i,t)?[i]:[]:se.find.matches(t,se.grep(e,function(t){return 1===t.nodeType}))},se.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(se(t).filter(function(){for(e=0;o>e;e++)if(se.contains(i[e],this))return!0}));for(e=0;o>e;e++)se.find(t,i[e],n);return n=this.pushStack(o>1?se.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&de.test(t)?se(t):t||[],!1).length}});var pe,ge=t.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ye=se.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:me.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||pe).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof se?e[0]:e,se.merge(this,se.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:ge,!0)),ue.test(n[1])&&se.isPlainObject(e))for(n in e)se.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(i=ge.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return pe.find(t);this.length=1,this[0]=i}return this.context=ge,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):se.isFunction(t)?pe.ready!==void 0?pe.ready(t):t(se):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),se.makeArray(t,this))};ye.prototype=se.fn,pe=se(ge);var ve=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};se.extend({dir:function(t,e,n){for(var i=[],o=t[e];o&&9!==o.nodeType&&(void 0===n||1!==o.nodeType||!se(o).is(n));)1===o.nodeType&&i.push(o),o=o[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),se.fn.extend({has:function(t){var e,n=se(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(se.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,s=[],r=de.test(t)||"string"!=typeof t?se(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(11>n.nodeType&&(r?r.index(n)>-1:1===n.nodeType&&se.find.matchesSelector(n,t))){s.push(n);break}return this.pushStack(s.length>1?se.unique(s):s)},index:function(t){return t?"string"==typeof t?se.inArray(this[0],se(t)):se.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(se.unique(se.merge(this.get(),se(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),se.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return se.dir(t,"parentNode")},parentsUntil:function(t,e,n){return se.dir(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return se.dir(t,"nextSibling")},prevAll:function(t){return se.dir(t,"previousSibling")},nextUntil:function(t,e,n){return se.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return se.dir(t,"previousSibling",n)},siblings:function(t){return se.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return se.sibling(t.firstChild)},contents:function(t){return se.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:se.merge([],t.childNodes)}},function(t,e){se.fn[t]=function(n,i){var o=se.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=se.filter(i,o)),this.length>1&&(we[t]||(o=se.unique(o)),ve.test(t)&&(o=o.reverse())),this.pushStack(o)}});var be=/\S+/g,xe={};se.Callbacks=function(t){t="string"==typeof t?xe[t]||s(t):se.extend({},t);var e,n,i,o,r,a,h=[],l=!t.once&&[],c=function(s){for(n=t.memory&&s,i=!0,r=a||0,a=0,o=h.length,e=!0;h&&o>r;r++)if(h[r].apply(s[0],s[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,h&&(l?l.length&&c(l.shift()):n?h=[]:d.disable())},d={add:function(){if(h){var i=h.length;!function s(e){se.each(e,function(e,n){var i=se.type(n);"function"===i?t.unique&&d.has(n)||h.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),e?o=h.length:n&&(a=i,c(n))}return this},remove:function(){return h&&se.each(arguments,function(t,n){for(var i;(i=se.inArray(n,h,i))>-1;)h.splice(i,1),e&&(o>=i&&o--,r>=i&&r--)}),this},has:function(t){return t?se.inArray(t,h)>-1:!(!h||!h.length)},empty:function(){return h=[],o=0,this},disable:function(){return h=l=n=void 0,this},disabled:function(){return!h},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(t,n){return!h||i&&!l||(n=n||[],n=[t,n.slice?n.slice():n],e?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},se.extend({Deferred:function(t){var e=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return se.Deferred(function(n){se.each(e,function(e,s){var r=se.isFunction(t[e])&&t[e];o[s[1]](function(){var t=r&&r.apply(this,arguments);t&&se.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===i?n.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?se.extend(t,i):i}},o={};return i.pipe=i.then,se.each(e,function(t,s){var r=s[2],a=s[3];i[s[1]]=r.add,a&&r.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?i:this,arguments),this},o[s[0]+"With"]=r.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,s=X.call(arguments),r=s.length,a=1!==r||t&&se.isFunction(t.promise)?r:0,h=1===a?t:se.Deferred(),l=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?X.call(arguments):o,i===e?h.notifyWith(n,i):--a||h.resolveWith(n,i)}};if(r>1)for(e=Array(r),n=Array(r),i=Array(r);r>o;o++)s[o]&&se.isFunction(s[o].promise)?s[o].promise().done(l(o,i,s)).fail(h.reject).progress(l(o,n,e)):--a;return a||h.resolveWith(i,s),h.promise()}});var Ce;se.fn.ready=function(t){return se.ready.promise().done(t),this},se.extend({isReady:!1,readyWait:1,holdReady:function(t){t?se.readyWait++:se.ready(!0)},ready:function(t){if(t===!0?!--se.readyWait:!se.isReady){if(!ge.body)return setTimeout(se.ready);se.isReady=!0,t!==!0&&--se.readyWait>0||(Ce.resolveWith(ge,[se]),se.fn.trigger&&se(ge).trigger("ready").off("ready"))}}}),se.ready.promise=function(e){if(!Ce)if(Ce=se.Deferred(),"complete"===ge.readyState)setTimeout(se.ready);else if(ge.addEventListener)ge.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{ge.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&ge.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!se.isReady){try{n.doScroll("left")}catch(t){return setTimeout(o,50)}r(),se.ready()}}()}return Ce.promise(e)};var Se,Pe="undefined";for(Se in se(ie))break;ie.ownLast="0"!==Se,ie.inlineBlockNeedsLayout=!1,se(function(){var t,e,n=ge.getElementsByTagName("body")[0];n&&(t=ge.createElement("div"),t.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e=ge.createElement("div"),n.appendChild(t).appendChild(e),typeof e.style.zoom!==Pe&&(e.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(ie.inlineBlockNeedsLayout=3===e.offsetWidth)&&(n.style.zoom=1)),n.removeChild(t),t=e=null)}),function(){var t=ge.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}t=null}(),se.acceptData=function(t){var e=se.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e};var Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ke=/([A-Z])/g;se.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?se.cache[t[se.expando]]:t[se.expando],!!t&&!l(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return d(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return d(t,e,!0)}}),se.fn.extend({data:function(t,e){var n,i,o,s=this[0],r=s&&s.attributes;if(void 0===t){if(this.length&&(o=se.data(s),1===s.nodeType&&!se._data(s,"parsedAttrs"))){for(n=r.length;n--;)i=r[n].name,0===i.indexOf("data-")&&(i=se.camelCase(i.slice(5)),h(s,i,o[i]));se._data(s,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){se.data(this,t)}):arguments.length>1?this.each(function(){se.data(this,t,e)}):s?h(s,t,se.data(s,t)):void 0},removeData:function(t){return this.each(function(){se.removeData(this,t)})}}),se.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=se._data(t,e),n&&(!i||se.isArray(n)?i=se._data(t,e,se.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=se.queue(t,e),i=n.length,o=n.shift(),s=se._queueHooks(t,e),r=function(){se.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete s.stop,o.call(t,r,s)),!i&&s&&s.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return se._data(t,n)||se._data(t,n,{empty:se.Callbacks("once memory").add(function(){se._removeData(t,e+"queue"),se._removeData(t,n)})})}}),se.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),n>arguments.length?se.queue(this[0],t):void 0===e?this:this.each(function(){var n=se.queue(this,t,e);se._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&se.dequeue(this,t)})},dequeue:function(t){return this.each(function(){se.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=se.Deferred(),s=this,r=this.length,a=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)n=se._data(s[r],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),o.promise(e)}});var Re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ne=["Top","Right","Bottom","Left"],Me=function(t,e){return t=e||t,"none"===se.css(t,"display")||!se.contains(t.ownerDocument,t)},Ie=se.access=function(t,e,n,i,o,s,r){var a=0,h=t.length,l=null==n;if("object"===se.type(n)){o=!0;for(a in n)se.access(t,e,a,n[a],!0,s,r)}else if(void 0!==i&&(o=!0,se.isFunction(i)||(r=!0),l&&(r?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(se(t),n)})),e))for(;h>a;a++)e(t[a],n,r?i:i.call(t[a],a,e(t[a],n)));return o?t:l?e.call(t):h?e(t[0],n):s},Ae=/^(?:checkbox|radio)$/i;!function(){var t=ge.createDocumentFragment(),e=ge.createElement("div"),n=ge.createElement("input");if(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a>",ie.leadingWhitespace=3===e.firstChild.nodeType,ie.tbody=!e.getElementsByTagName("tbody").length,ie.htmlSerialize=!!e.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==ge.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),ie.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ie.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(i){ie.deleteExpando=!1}}t=e=n=null}(),function(){var e,n,i=ge.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ie[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),ie[e+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var De=/^(?:input|select|textarea)$/i,$e=/^key/,Ee=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,Oe=/^([^.]*)(?:\.(.+)|)$/;se.event={global:{},add:function(t,e,n,i,o){var s,r,a,h,l,c,d,u,f,p,g,m=se._data(t);if(m){for(n.handler&&(h=n,n=h.handler,o=h.selector),n.guid||(n.guid=se.guid++),(r=m.events)||(r=m.events={}),(c=m.handle)||(c=m.handle=function(t){return typeof se===Pe||t&&se.event.triggered===t.type?void 0:se.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(be)||[""],a=e.length;a--;)s=Oe.exec(e[a])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(l=se.event.special[f]||{},f=(o?l.delegateType:l.bindType)||f,l=se.event.special[f]||{},d=se.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&se.expr.match.needsContext.test(o),namespace:p.join(".")},h),(u=r[f])||(u=r[f]=[],u.delegateCount=0,l.setup&&l.setup.call(t,i,p,c)!==!1||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),l.add&&(l.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?u.splice(u.delegateCount++,0,d):u.push(d),se.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var s,r,a,h,l,c,d,u,f,p,g,m=se.hasData(t)&&se._data(t);if(m&&(c=m.events)){for(e=(e||"").match(be)||[""],l=e.length;l--;)if(a=Oe.exec(e[l])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(d=se.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,u=c[f]||[],a=a[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),h=s=u.length;s--;)r=u[s],!o&&g!==r.origType||n&&n.guid!==r.guid||a&&!a.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(u.splice(s,1),r.selector&&u.delegateCount--,d.remove&&d.remove.call(t,r));h&&!u.length&&(d.teardown&&d.teardown.call(t,p,m.handle)!==!1||se.removeEvent(t,f,m.handle),delete c[f])}else for(f in c)se.event.remove(t,f+e[l],n,i,!0);se.isEmptyObject(c)&&(delete m.handle,se._removeData(t,"events"))}},trigger:function(e,n,i,o){var s,r,a,h,l,c,d,u=[i||ge],f=ee.call(e,"type")?e.type:e,p=ee.call(e,"namespace")?e.namespace.split("."):[];if(a=c=i=i||ge,3!==i.nodeType&&8!==i.nodeType&&!He.test(f+se.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),r=0>f.indexOf(":")&&"on"+f,e=e[se.expando]?e:new se.Event(f,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:se.makeArray(n,[e]),l=se.event.special[f]||{},o||!l.trigger||l.trigger.apply(i,n)!==!1)){if(!o&&!l.noBubble&&!se.isWindow(i)){for(h=l.delegateType||f,He.test(h+f)||(a=a.parentNode);a;a=a.parentNode)u.push(a),c=a;c===(i.ownerDocument||ge)&&u.push(c.defaultView||c.parentWindow||t)}for(d=0;(a=u[d++])&&!e.isPropagationStopped();)e.type=d>1?h:l.bindType||f,s=(se._data(a,"events")||{})[e.type]&&se._data(a,"handle"),s&&s.apply(a,n),s=r&&a[r],s&&s.apply&&se.acceptData(a)&&(e.result=s.apply(a,n),e.result===!1&&e.preventDefault());if(e.type=f,!o&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(u.pop(),n)===!1)&&se.acceptData(i)&&r&&i[f]&&!se.isWindow(i)){c=i[r],c&&(i[r]=null),se.event.triggered=f;try{i[f]()}catch(g){}se.event.triggered=void 0,c&&(i[r]=c)}return e.result}},dispatch:function(t){t=se.event.fix(t);var e,n,i,o,s,r=[],a=X.call(arguments),h=(se._data(this,"events")||{})[t.type]||[],l=se.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(r=se.event.handlers.call(this,t,h),e=0;(o=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,s=0;(i=o.handlers[s++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,n=((se.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,s,r=[],a=e.delegateCount,h=t.target;if(a&&h.nodeType&&(!t.button||"click"!==t.type))for(;h!=this;h=h.parentNode||this)if(1===h.nodeType&&(h.disabled!==!0||"click"!==t.type)){for(o=[],s=0;a>s;s++)i=e[s],n=i.selector+" ",void 0===o[n]&&(o[n]=i.needsContext?se(n,this).index(h)>=0:se.find(n,this,null,[h]).length),o[n]&&o.push(i);o.length&&r.push({elem:h,handlers:o})}return e.length>a&&r.push({elem:this,handlers:e.slice(a)}),r},fix:function(t){if(t[se.expando])return t;var e,n,i,o=t.type,s=t,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Ee.test(o)?this.mouseHooks:$e.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,t=new se.Event(s),e=i.length;e--;)n=i[e],t[n]=s[n];return t.target||(t.target=s.srcElement||ge),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,s):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,s=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||ge,o=i.documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return se.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return se.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var o=se.extend(new se.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?se.event.trigger(o,null,e):se.event.dispatch.call(e,o),o.isDefaultPrevented()&&n.preventDefault()}},se.removeEvent=ge.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Pe&&(t[i]=null),t.detachEvent(i,n))},se.Event=function(t,e){return this instanceof se.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&(t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault())?u:f):this.type=t,e&&se.extend(this,e),this.timeStamp=t&&t.timeStamp||se.now(),void(this[se.expando]=!0)):new se.Event(t,e)},se.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u,this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){se.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,s=t.handleObj;return(!o||o!==i&&!se.contains(i,o))&&(t.type=s.origType,n=s.handler.apply(this,arguments),t.type=e),n}}}),ie.submitBubbles||(se.event.special.submit={setup:function(){return se.nodeName(this,"form")?!1:void se.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=se.nodeName(e,"input")||se.nodeName(e,"button")?e.form:void 0;n&&!se._data(n,"submitBubbles")&&(se.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),se._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&se.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return se.nodeName(this,"form")?!1:void se.event.remove(this,"._submit")}}),ie.changeBubbles||(se.event.special.change={setup:function(){return De.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(se.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),se.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),se.event.simulate("change",this,t,!0)})),!1):void se.event.add(this,"beforeactivate._change",function(t){var e=t.target;De.test(e.nodeName)&&!se._data(e,"changeBubbles")&&(se.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||se.event.simulate("change",this.parentNode,t,!0)}),se._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return se.event.remove(this,"._change"),!De.test(this.nodeName)}}),ie.focusinBubbles||se.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){se.event.simulate(e,t.target,se.event.fix(t),!0)};se.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=se._data(i,e);o||i.addEventListener(t,n,!0),se._data(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=se._data(i,e)-1;o?se._data(i,e,o):(i.removeEventListener(t,n,!0),se._removeData(i,e))}}}),se.fn.extend({on:function(t,e,n,i,o){var s,r;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],o);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=f;else if(!i)return this;return 1===o&&(r=i,i=function(t){return se().off(t),r.apply(this,arguments)},i.guid=r.guid||(r.guid=se.guid++)),this.each(function(){se.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,se(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=f),this.each(function(){se.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){se.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?se.event.trigger(t,e,n,!0):void 0}});var Be="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Le=/ jQuery\d+="(?:null|\d+)"/g,ze=RegExp("<(?:"+Be+")[\\s/>]","i"),Fe=/^\s+/,_e=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,je=/<([\w:]+)/,Ve=/<tbody/i,qe=/<|&#?\w+;/,We=/<(?:script|style|link)/i,Ke=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ye=/^true\/(.*)/,Xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ze={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Je=g(ge),Ge=Je.appendChild(ge.createElement("div"));Ze.optgroup=Ze.option,Ze.tbody=Ze.tfoot=Ze.colgroup=Ze.caption=Ze.thead,Ze.th=Ze.td,se.extend({clone:function(t,e,n){var i,o,s,r,a,h=se.contains(t.ownerDocument,t);if(ie.html5Clone||se.isXMLDoc(t)||!ze.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(Ge.innerHTML=t.outerHTML,Ge.removeChild(s=Ge.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||se.isXMLDoc(t)))for(i=m(s),a=m(t),r=0;null!=(o=a[r]);++r)i[r]&&S(o,i[r]);if(e)if(n)for(a=a||m(t),i=i||m(s),r=0;null!=(o=a[r]);r++)C(o,i[r]);else C(t,s);return i=m(s,"script"),i.length>0&&x(i,!h&&m(t,"script")),i=a=o=null,s},buildFragment:function(t,e,n,i){for(var o,s,r,a,h,l,c,d=t.length,u=g(e),f=[],p=0;d>p;p++)if(s=t[p],s||0===s)if("object"===se.type(s))se.merge(f,s.nodeType?[s]:s);else if(qe.test(s)){for(a=a||u.appendChild(e.createElement("div")),h=(je.exec(s)||["",""])[1].toLowerCase(),c=Ze[h]||Ze._default,a.innerHTML=c[1]+s.replace(_e,"<$1></$2>")+c[2],o=c[0];o--;)a=a.lastChild;if(!ie.leadingWhitespace&&Fe.test(s)&&f.push(e.createTextNode(Fe.exec(s)[0])),!ie.tbody)for(s="table"!==h||Ve.test(s)?"<table>"!==c[1]||Ve.test(s)?0:a:a.firstChild,o=s&&s.childNodes.length;o--;)se.nodeName(l=s.childNodes[o],"tbody")&&!l.childNodes.length&&s.removeChild(l);for(se.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=u.lastChild}else f.push(e.createTextNode(s));for(a&&u.removeChild(a),ie.appendChecked||se.grep(m(f,"input"),y),p=0;s=f[p++];)if((!i||-1===se.inArray(s,i))&&(r=se.contains(s.ownerDocument,s),a=m(u.appendChild(s),"script"),r&&x(a),n))for(o=0;s=a[o++];)Ue.test(s.type||"")&&n.push(s);return a=null,u},cleanData:function(t,e){for(var n,i,o,s,r=0,a=se.expando,h=se.cache,l=ie.deleteExpando,c=se.event.special;null!=(n=t[r]);r++)if((e||se.acceptData(n))&&(o=n[a],s=o&&h[o])){if(s.events)for(i in s.events)c[i]?se.event.remove(n,i):se.removeEvent(n,i,s.handle);h[o]&&(delete h[o],l?delete n[a]:typeof n.removeAttribute!==Pe?n.removeAttribute(a):n[a]=null,Y.push(o))}}}),se.fn.extend({text:function(t){return Ie(this,function(t){return void 0===t?se.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ge).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?se.filter(t,this):this,o=0;null!=(n=i[o]);o++)e||1!==n.nodeType||se.cleanData(m(n)),n.parentNode&&(e&&se.contains(n.ownerDocument,n)&&x(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&se.cleanData(m(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&se.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return se.clone(this,t,e)})},html:function(t){return Ie(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Le,""):void 0;if(!("string"!=typeof t||We.test(t)||!ie.htmlSerialize&&ze.test(t)||!ie.leadingWhitespace&&Fe.test(t)||Ze[(je.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(_e,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(se.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,se.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Z.apply([],t);var n,i,o,s,r,a,h=0,l=this.length,c=this,d=l-1,u=t[0],f=se.isFunction(u);if(f||l>1&&"string"==typeof u&&!ie.checkClone&&Ke.test(u))return this.each(function(n){var i=c.eq(n);f&&(t[0]=u.call(this,n,i.html())),i.domManip(t,e)});if(l&&(a=se.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(s=se.map(m(a,"script"),w),o=s.length;l>h;h++)i=a,h!==d&&(i=se.clone(i,!0,!0),o&&se.merge(s,m(i,"script"))),e.call(this[h],i,h);if(o)for(r=s[s.length-1].ownerDocument,se.map(s,b),h=0;o>h;h++)i=s[h],Ue.test(i.type||"")&&!se._data(i,"globalEval")&&se.contains(r,i)&&(i.src?se._evalUrl&&se._evalUrl(i.src):se.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Xe,"")));a=n=null}return this}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){se.fn[t]=function(t){for(var n,i=0,o=[],s=se(t),r=s.length-1;r>=i;i++)n=i===r?this:this.clone(!0),se(s[i])[e](n),J.apply(o,n.get());return this.pushStack(o)}});var Qe,tn={};!function(){var t,e,n=ge.createElement("div"),i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],t.style.cssText="float:left;opacity:.5",ie.opacity=/^0.5/.test(t.style.opacity),ie.cssFloat=!!t.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===n.style.backgroundClip,t=n=null,ie.shrinkWrapBlocks=function(){var t,n,o,s;if(null==e){if(t=ge.getElementsByTagName("body")[0],!t)return;s="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=ge.createElement("div"),o=ge.createElement("div"),t.appendChild(n).appendChild(o),e=!1,typeof o.style.zoom!==Pe&&(o.style.cssText=i+";width:1px;padding:1px;zoom:1",o.innerHTML="<div></div>",o.firstChild.style.width="5px",e=3!==o.offsetWidth),t.removeChild(n),t=n=o=null}return e}}();var en,nn,on=/^margin/,sn=RegExp("^("+Re+")(?!px)[a-z%]+$","i"),rn=/^(top|right|bottom|left)$/;t.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},nn=function(t,e,n){var i,o,s,r,a=t.style;return n=n||en(t),r=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==r||se.contains(t.ownerDocument,t)||(r=se.style(t,e)),sn.test(r)&&on.test(e)&&(i=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=o,a.maxWidth=s)),void 0===r?r:r+""}):ge.documentElement.currentStyle&&(en=function(t){return t.currentStyle
},nn=function(t,e,n){var i,o,s,r,a=t.style;return n=n||en(t),r=n?n[e]:void 0,null==r&&a&&a[e]&&(r=a[e]),sn.test(r)&&!rn.test(e)&&(i=a.left,o=t.runtimeStyle,s=o&&o.left,s&&(o.left=t.currentStyle.left),a.left="fontSize"===e?"1em":r,r=a.pixelLeft+"px",a.left=i,s&&(o.left=s)),void 0===r?r:r+""||"auto"}),!function(){function e(){var e,n,i=ge.getElementsByTagName("body")[0];i&&(e=ge.createElement("div"),n=ge.createElement("div"),e.style.cssText=l,i.appendChild(e).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",se.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){o=4===n.offsetWidth}),s=!0,r=!1,a=!0,t.getComputedStyle&&(r="1%"!==(t.getComputedStyle(n,null)||{}).top,s="4px"===(t.getComputedStyle(n,null)||{width:"4px"}).width),i.removeChild(e),n=i=null)}var n,i,o,s,r,a,h=ge.createElement("div"),l="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=h.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",ie.opacity=/^0.5/.test(n.style.opacity),ie.cssFloat=!!n.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===h.style.backgroundClip,n=h=null,se.extend(ie,{reliableHiddenOffsets:function(){if(null!=i)return i;var t,e,n,o=ge.createElement("div"),s=ge.getElementsByTagName("body")[0];return s?(o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=ge.createElement("div"),t.style.cssText=l,s.appendChild(t).appendChild(o),o.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=o.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",i=n&&0===e[0].offsetHeight,s.removeChild(t),o=s=null,i):void 0},boxSizing:function(){return null==o&&e(),o},boxSizingReliable:function(){return null==s&&e(),s},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n,i,o;if(null==a&&t.getComputedStyle){if(e=ge.getElementsByTagName("body")[0],!e)return;n=ge.createElement("div"),i=ge.createElement("div"),n.style.cssText=l,e.appendChild(n).appendChild(i),o=i.appendChild(ge.createElement("div")),o.style.cssText=i.style.cssText=c,o.style.marginRight=o.style.width="0",i.style.width="1px",a=!parseFloat((t.getComputedStyle(o,null)||{}).marginRight),e.removeChild(n)}return a}})}(),se.swap=function(t,e,n,i){var o,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];o=n.apply(t,i||[]);for(s in e)t.style[s]=r[s];return o};var an=/alpha\([^)]*\)/i,hn=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,cn=RegExp("^("+Re+")(.*)$","i"),dn=RegExp("^([+-])=("+Re+")","i"),un={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:0,fontWeight:400},pn=["Webkit","O","Moz","ms"];se.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=nn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,r,a=se.camelCase(e),h=t.style;if(e=se.cssProps[a]||(se.cssProps[a]=R(h,a)),r=se.cssHooks[e]||se.cssHooks[a],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(t,!1,i))?o:h[e];if(s=typeof n,"string"===s&&(o=dn.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(se.css(t,e)),s="number"),null!=n&&n===n&&("number"!==s||se.cssNumber[a]||(n+="px"),ie.clearCloneStyle||""!==n||0!==e.indexOf("background")||(h[e]="inherit"),!(r&&"set"in r&&void 0===(n=r.set(t,n,i)))))try{h[e]="",h[e]=n}catch(l){}}},css:function(t,e,n,i){var o,s,r,a=se.camelCase(e);return e=se.cssProps[a]||(se.cssProps[a]=R(t.style,a)),r=se.cssHooks[e]||se.cssHooks[a],r&&"get"in r&&(s=r.get(t,!0,n)),void 0===s&&(s=nn(t,e,i)),"normal"===s&&e in fn&&(s=fn[e]),""===n||n?(o=parseFloat(s),n===!0||se.isNumeric(o)?o||0:s):s}}),se.each(["height","width"],function(t,e){se.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&ln.test(se.css(t,"display"))?se.swap(t,un,function(){return A(t,e,i)}):A(t,e,i):void 0},set:function(t,n,i){var o=i&&en(t);return M(t,n,i?I(t,e,i,ie.boxSizing()&&"border-box"===se.css(t,"boxSizing",!1,o),o):0)}}}),ie.opacity||(se.cssHooks.opacity={get:function(t,e){return hn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=se.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===se.trim(s.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=an.test(s)?s.replace(an,o):s+" "+o)}}),se.cssHooks.marginRight=k(ie.reliableMarginRight,function(t,e){return e?se.swap(t,{display:"inline-block"},nn,[t,"marginRight"]):void 0}),se.each({margin:"",padding:"",border:"Width"},function(t,e){se.cssHooks[t+e]={expand:function(n){for(var i=0,o={},s="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+Ne[i]+e]=s[i]||s[i-2]||s[0];return o}},on.test(t)||(se.cssHooks[t+e].set=M)}),se.fn.extend({css:function(t,e){return Ie(this,function(t,e,n){var i,o,s={},r=0;if(se.isArray(e)){for(i=en(t),o=e.length;o>r;r++)s[e[r]]=se.css(t,e[r],!1,i);return s}return void 0!==n?se.style(t,e,n):se.css(t,e)},t,e,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Me(this)?se(this).show():se(this).hide()})}}),se.Tween=D,D.prototype={constructor:D,init:function(t,e,n,i,o,s){this.elem=t,this.prop=n,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=s||(se.cssNumber[n]?"":"px")},cur:function(){var t=D.propHooks[this.prop];return t&&t.get?t.get(this):D.propHooks._default.get(this)},run:function(t){var e,n=D.propHooks[this.prop];return this.pos=e=this.options.duration?se.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=se.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){se.fx.step[t.prop]?se.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[se.cssProps[t.prop]]||se.cssHooks[t.prop])?se.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},se.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},se.fx=D.prototype.init,se.fx.step={};var gn,mn,yn=/^(?:toggle|show|hide)$/,vn=RegExp("^(?:([+-])=|)("+Re+")([a-z%]*)$","i"),wn=/queueHooks$/,bn=[O],xn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),o=vn.exec(e),s=o&&o[3]||(se.cssNumber[t]?"":"px"),r=(se.cssNumber[t]||"px"!==s&&+i)&&vn.exec(se.css(n.elem,t)),a=1,h=20;if(r&&r[3]!==s){s=s||r[3],o=o||[],r=+i||1;do a=a||".5",r/=a,se.style(n.elem,t,r+s);while(a!==(a=n.cur()/i)&&1!==a&&--h)}return o&&(r=n.start=+r||+i||0,n.unit=s,n.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),n}]};se.Animation=se.extend(L,{tweener:function(t,e){se.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,o=t.length;o>i;i++)n=t[i],xn[n]=xn[n]||[],xn[n].unshift(e)},prefilter:function(t,e){e?bn.unshift(t):bn.push(t)}}),se.speed=function(t,e,n){var i=t&&"object"==typeof t?se.extend({},t):{complete:n||!n&&e||se.isFunction(t)&&t,duration:t,easing:n&&e||e&&!se.isFunction(e)&&e};return i.duration=se.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in se.fx.speeds?se.fx.speeds[i.duration]:se.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){se.isFunction(i.old)&&i.old.call(this),i.queue&&se.dequeue(this,i.queue)},i},se.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Me).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=se.isEmptyObject(t),s=se.speed(e,n,i),r=function(){var e=L(this,se.extend({},t),s);(o||se._data(this,"finish"))&&e.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",s=se.timers,r=se._data(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&wn.test(o)&&i(r[o]);for(o=s.length;o--;)s[o].elem!==this||null!=t&&s[o].queue!==t||(s[o].anim.stop(n),e=!1,s.splice(o,1));(e||!n)&&se.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=se._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],s=se.timers,r=i?i.length:0;for(n.finish=!0,se.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;r>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),se.each(["toggle","show","hide"],function(t,e){var n=se.fn[e];se.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(E(e,!0),t,i,o)}}),se.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){se.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),se.timers=[],se.fx.tick=function(){var t,e=se.timers,n=0;for(gn=se.now();e.length>n;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||se.fx.stop(),gn=void 0},se.fx.timer=function(t){se.timers.push(t),t()?se.fx.start():se.timers.pop()},se.fx.interval=13,se.fx.start=function(){mn||(mn=setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){clearInterval(mn),mn=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fn.delay=function(t,e){return t=se.fx?se.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,o=ge.createElement("div");o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=o.getElementsByTagName("a")[0],n=ge.createElement("select"),i=n.appendChild(ge.createElement("option")),e=o.getElementsByTagName("input")[0],t.style.cssText="top:1px",ie.getSetAttribute="t"!==o.className,ie.style=/top/.test(t.getAttribute("style")),ie.hrefNormalized="/a"===t.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=i.selected,ie.enctype=!!ge.createElement("form").enctype,n.disabled=!0,ie.optDisabled=!i.disabled,e=ge.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value,t=e=n=i=o=null}();var Cn=/\r/g;se.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=se.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,se(this).val()):t,null==o?o="":"number"==typeof o?o+="":se.isArray(o)&&(o=se.map(o,function(t){return null==t?"":t+""})),e=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=se.valHooks[o.type]||se.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Cn,""):null==n?"":n)):void 0}}),se.extend({valHooks:{option:{get:function(t){var e=se.find.attr(t,"value");return null!=e?e:se.text(t)}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,s="select-one"===t.type||0>o,r=s?null:[],a=s?o+1:i.length,h=0>o?a:s?o:0;a>h;h++)if(n=i[h],!(!n.selected&&h!==o||(ie.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&se.nodeName(n.parentNode,"optgroup"))){if(e=se(n).val(),s)return e;r.push(e)}return r},set:function(t,e){for(var n,i,o=t.options,s=se.makeArray(e),r=o.length;r--;)if(i=o[r],se.inArray(se.valHooks.option.get(i),s)>=0)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(t,e){return se.isArray(e)?t.checked=se.inArray(se(t).val(),e)>=0:void 0}},ie.checkOn||(se.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Sn,Pn,Tn=se.expr.attrHandle,kn=/^(?:checked|selected)$/i,Rn=ie.getSetAttribute,Nn=ie.input;se.fn.extend({attr:function(t,e){return Ie(this,se.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){se.removeAttr(this,t)})}}),se.extend({attr:function(t,e,n){var i,o,s=t.nodeType;return t&&3!==s&&8!==s&&2!==s?typeof t.getAttribute===Pe?se.prop(t,e,n):(1===s&&se.isXMLDoc(t)||(e=e.toLowerCase(),i=se.attrHooks[e]||(se.expr.match.bool.test(e)?Pn:Sn)),void 0===n?i&&"get"in i&&null!==(o=i.get(t,e))?o:(o=se.find.attr(t,e),null==o?void 0:o):null!==n?i&&"set"in i&&void 0!==(o=i.set(t,n,e))?o:(t.setAttribute(e,n+""),n):void se.removeAttr(t,e)):void 0},removeAttr:function(t,e){var n,i,o=0,s=e&&e.match(be);if(s&&1===t.nodeType)for(;n=s[o++];)i=se.propFix[n]||n,se.expr.match.bool.test(n)?Nn&&Rn||!kn.test(n)?t[i]=!1:t[se.camelCase("default-"+n)]=t[i]=!1:se.attr(t,n,""),t.removeAttribute(Rn?n:i)},attrHooks:{type:{set:function(t,e){if(!ie.radioValue&&"radio"===e&&se.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),Pn={set:function(t,e,n){return e===!1?se.removeAttr(t,n):Nn&&Rn||!kn.test(n)?t.setAttribute(!Rn&&se.propFix[n]||n,n):t[se.camelCase("default-"+n)]=t[n]=!0,n}},se.each(se.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Tn[e]||se.find.attr;Tn[e]=Nn&&Rn||!kn.test(e)?function(t,e,i){var o,s;return i||(s=Tn[e],Tn[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,Tn[e]=s),o}:function(t,e,n){return n?void 0:t[se.camelCase("default-"+e)]?e.toLowerCase():null}}),Nn&&Rn||(se.attrHooks.value={set:function(t,e,n){return se.nodeName(t,"input")?void(t.defaultValue=e):Sn&&Sn.set(t,e,n)}}),Rn||(Sn={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},Tn.id=Tn.name=Tn.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},se.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:Sn.set},se.attrHooks.contenteditable={set:function(t,e,n){Sn.set(t,""===e?!1:e,n)}},se.each(["width","height"],function(t,e){se.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ie.style||(se.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Mn=/^(?:input|select|textarea|button|object)$/i,In=/^(?:a|area)$/i;se.fn.extend({prop:function(t,e){return Ie(this,se.prop,t,e,arguments.length>1)},removeProp:function(t){return t=se.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),se.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,o,s,r=t.nodeType;return t&&3!==r&&8!==r&&2!==r?(s=1!==r||!se.isXMLDoc(t),s&&(e=se.propFix[e]||e,o=se.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=se.find.attr(t,"tabindex");return e?parseInt(e,10):Mn.test(t.nodeName)||In.test(t.nodeName)&&t.href?0:-1}}}}),ie.hrefNormalized||se.each(["href","src"],function(t,e){se.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ie.optSelected||(se.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this}),ie.enctype||(se.propFix.enctype="encoding");var An=/[\t\r\n\f]/g;se.fn.extend({addClass:function(t){var e,n,i,o,s,r,a=0,h=this.length,l="string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(be)||[];h>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):" ")){for(s=0;o=e[s++];)0>i.indexOf(" "+o+" ")&&(i+=o+" ");r=se.trim(i),n.className!==r&&(n.className=r)}return this},removeClass:function(t){var e,n,i,o,s,r,a=0,h=this.length,l=0===arguments.length||"string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(be)||[];h>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):"")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");r=t?se.trim(i):"",n.className!==r&&(n.className=r)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(se.isFunction(t)?function(n){se(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,i=0,o=se(this),s=t.match(be)||[];e=s[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(n===Pe||"boolean"===n)&&(this.className&&se._data(this,"__className__",this.className),this.className=this.className||t===!1?"":se._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(An," ").indexOf(e)>=0)return!0;return!1}}),se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){se.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),se.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Dn=se.now(),$n=/\?/,En=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;se.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,o=se.trim(e+"");return o&&!se.trim(o.replace(En,function(t,e,o,s){return n&&e&&(i=0),0===i?t:(n=o||e,i+=!s-!o,"")}))?Function("return "+o)():se.error("Invalid JSON: "+e)},se.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||se.error("Invalid XML: "+e),n};var Hn,On,Bn=/#.*$/,Ln=/([?&])_=[^&]*/,zn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_n=/^(?:GET|HEAD)$/,jn=/^\/\//,Vn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qn={},Wn={},Kn="*/".concat("*");try{On=location.href}catch(Un){On=ge.createElement("a"),On.href="",On=On.href}Hn=Vn.exec(On.toLowerCase())||[],se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:On,type:"GET",isLocal:Fn.test(Hn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?_(_(t,se.ajaxSettings),e):_(se.ajaxSettings,t)},ajaxPrefilter:z(qn),ajaxTransport:z(Wn),ajax:function(t,e){function n(t,e,n,i){var o,c,y,v,b,C=e;2!==w&&(w=2,a&&clearTimeout(a),l=void 0,r=i||"",x.readyState=t>0?4:0,o=t>=200&&300>t||304===t,n&&(v=j(d,x,n)),v=V(d,v,x,o),o?(d.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(se.lastModified[s]=b),b=x.getResponseHeader("etag"),b&&(se.etag[s]=b)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=v.state,c=v.data,y=v.error,o=!y)):(y=C,(t||!C)&&(C="error",0>t&&(t=0))),x.status=t,x.statusText=(e||C)+"",o?p.resolveWith(u,[c,C,x]):p.rejectWith(u,[x,C,y]),x.statusCode(m),m=void 0,h&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,d,o?c:y]),g.fireWith(u,[x,C]),h&&(f.trigger("ajaxComplete",[x,d]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,o,s,r,a,h,l,c,d=se.ajaxSetup({},e),u=d.context||d,f=d.context&&(u.nodeType||u.jquery)?se(u):se.event,p=se.Deferred(),g=se.Callbacks("once memory"),m=d.statusCode||{},y={},v={},w=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!c)for(c={};e=zn.exec(r);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?r:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=v[n]=v[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return l&&l.abort(e),n(0,e),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,d.url=((t||d.url||On)+"").replace(Bn,"").replace(jn,Hn[1]+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=se.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(i=Vn.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Hn[1]&&i[2]===Hn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Hn[3]||("http:"===Hn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=se.param(d.data,d.traditional)),F(qn,d,e,x),2===w)return x;h=d.global,h&&0===se.active++&&se.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!_n.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=($n.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ln.test(s)?s.replace(Ln,"$1_="+Dn++):s+($n.test(s)?"&":"?")+"_="+Dn++)),d.ifModified&&(se.lastModified[s]&&x.setRequestHeader("If-Modified-Since",se.lastModified[s]),se.etag[s]&&x.setRequestHeader("If-None-Match",se.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Kn+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)x.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(d.beforeSend.call(u,x,d)===!1||2===w))return x.abort();b="abort";for(o in{success:1,error:1,complete:1})x[o](d[o]);if(l=F(Wn,d,e,x)){x.readyState=1,h&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},d.timeout));try{w=1,l.send(y,n)}catch(C){if(!(2>w))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return se.get(t,e,n,"json")},getScript:function(t,e){return se.get(t,void 0,e,"script")}}),se.each(["get","post"],function(t,e){se[e]=function(t,n,i,o){return se.isFunction(n)&&(o=o||i,i=n,n=void 0),se.ajax({url:t,type:e,dataType:o,data:n,success:i})}}),se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){se.fn[e]=function(t){return this.on(e,t)}}),se._evalUrl=function(t){return se.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},se.fn.extend({wrapAll:function(t){if(se.isFunction(t))return this.each(function(e){se(this).wrapAll(t.call(this,e))});if(this[0]){var e=se(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(se.isFunction(t)?function(e){se(this).wrapInner(t.call(this,e))}:function(){var e=se(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=se.isFunction(t);return this.each(function(n){se(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}}),se.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight||!ie.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||se.css(t,"display"))},se.expr.filters.visible=function(t){return!se.expr.filters.hidden(t)};var Yn=/%20/g,Xn=/\[\]$/,Zn=/\r?\n/g,Jn=/^(?:submit|button|image|reset|file)$/i,Gn=/^(?:input|select|textarea|keygen)/i;se.param=function(t,e){var n,i=[],o=function(t,e){e=se.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(t)||t.jquery&&!se.isPlainObject(t))se.each(t,function(){o(this.name,this.value)});else for(n in t)q(n,t[n],e,o);return i.join("&").replace(Yn,"+")},se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=se.prop(this,"elements");return t?se.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!se(this).is(":disabled")&&Gn.test(this.nodeName)&&!Jn.test(t)&&(this.checked||!Ae.test(t))}).map(function(t,e){var n=se(this).val();return null==n?null:se.isArray(n)?se.map(n,function(t){return{name:e.name,value:t.replace(Zn,"\r\n")}}):{name:e.name,value:n.replace(Zn,"\r\n")}}).get()}}),se.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||K()}:W;var Qn=0,ti={},ei=se.ajaxSettings.xhr();t.ActiveXObject&&se(t).on("unload",function(){for(var t in ti)ti[t](void 0,!0)}),ie.cors=!!ei&&"withCredentials"in ei,ei=ie.ajax=!!ei,ei&&se.ajaxTransport(function(t){if(!t.crossDomain||ie.cors){var e;return{send:function(n,i){var o,s=t.xhr(),r=++Qn;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&s.setRequestHeader(o,n[o]+"");s.send(t.hasContent&&t.data||null),e=function(n,o){var a,h,l;if(e&&(o||4===s.readyState))if(delete ti[r],e=void 0,s.onreadystatechange=se.noop,o)4!==s.readyState&&s.abort();else{l={},a=s.status,"string"==typeof s.responseText&&(l.text=s.responseText);try{h=s.statusText}catch(c){h=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=l.text?200:404}l&&i(a,h,l,s.getAllResponseHeaders())},t.async?4===s.readyState?setTimeout(e):s.onreadystatechange=ti[r]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return se.globalEval(t),t}}}),se.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),se.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=ge.head||se("head")[0]||ge.documentElement;return{send:function(i,o){e=ge.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ni=[],ii=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ni.pop()||se.expando+"_"+Dn++;return this[t]=!0,t}}),se.ajaxPrefilter("json jsonp",function(e,n,i){var o,s,r,a=e.jsonp!==!1&&(ii.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=se.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ii,"$1"+o):e.jsonp!==!1&&(e.url+=($n.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||se.error(o+" was not called"),r[0]},e.dataTypes[0]="json",s=t[o],t[o]=function(){r=arguments},i.always(function(){t[o]=s,e[o]&&(e.jsonpCallback=n.jsonpCallback,ni.push(o)),r&&se.isFunction(s)&&s(r[0]),r=s=void 0}),"script"):void 0}),se.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||ge;var i=ue.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=se.buildFragment([t],e,o),o&&o.length&&se(o).remove(),se.merge([],i.childNodes))};var oi=se.fn.load;se.fn.load=function(t,e,n){if("string"!=typeof t&&oi)return oi.apply(this,arguments);var i,o,s,r=this,a=t.indexOf(" ");return a>=0&&(i=t.slice(a,t.length),t=t.slice(0,a)),se.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(s="POST"),r.length>0&&se.ajax({url:t,type:s,dataType:"html",data:e}).done(function(t){o=arguments,r.html(i?se("<div>").append(se.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){r.each(n,o||[t.responseText,e,t])}),this},se.expr.filters.animated=function(t){return se.grep(se.timers,function(e){return t===e.elem}).length};var si=t.document.documentElement;se.offset={setOffset:function(t,e,n){var i,o,s,r,a,h,l,c=se.css(t,"position"),d=se(t),u={};"static"===c&&(t.style.position="relative"),a=d.offset(),s=se.css(t,"top"),h=se.css(t,"left"),l=("absolute"===c||"fixed"===c)&&se.inArray("auto",[s,h])>-1,l?(i=d.position(),r=i.top,o=i.left):(r=parseFloat(s)||0,o=parseFloat(h)||0),se.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(u.top=e.top-a.top+r),null!=e.left&&(u.left=e.left-a.left+o),"using"in e?e.using.call(t,u):d.css(u)}},se.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){se.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},o=this[0],s=o&&o.ownerDocument;return s?(e=s.documentElement,se.contains(e,o)?(typeof o.getBoundingClientRect!==Pe&&(i=o.getBoundingClientRect()),n=U(s),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===se.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),se.nodeName(t[0],"html")||(n=t.offset()),n.top+=se.css(t[0],"borderTopWidth",!0),n.left+=se.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-se.css(i,"marginTop",!0),left:e.left-n.left-se.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||si;t&&!se.nodeName(t,"html")&&"static"===se.css(t,"position");)t=t.offsetParent;return t||si})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);se.fn[t]=function(i){return Ie(this,function(t,i,o){var s=U(t);return void 0===o?s?e in s?s[e]:s.document.documentElement[i]:t[i]:void(s?s.scrollTo(n?se(s).scrollLeft():o,n?o:se(s).scrollTop()):t[i]=o)},t,i,arguments.length,null)}}),se.each(["top","left"],function(t,e){se.cssHooks[e]=k(ie.pixelPosition,function(t,n){return n?(n=nn(t,e),sn.test(n)?se(t).position()[e]+"px":n):void 0
})}),se.each({Height:"height",Width:"width"},function(t,e){se.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){se.fn[i]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||o===!0?"margin":"border");return Ie(this,function(e,n,i){var o;return se.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?se.css(e,n,r):se.style(e,n,i,r)},e,s?i:void 0,s,null)}})}),se.fn.size=function(){return this.length},se.fn.andSelf=se.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return se});var ri=t.jQuery,ai=t.$;return se.noConflict=function(e){return t.$===se&&(t.$=ai),e&&t.jQuery===se&&(t.jQuery=ri),se},typeof e===Pe&&(t.jQuery=t.$=se),se});

// lib/markitup/sets/html/set.js
var myHtmlSettings={nameSpace:"html",onShiftEnter:{keepDefault:!1,replaceWith:"<br />\n"},onCtrlEnter:{keepDefault:!1,openWith:"\n<p>",closeWith:"</p>\n"},onTab:{keepDefault:!1,openWith:"     "},markupSet:[{name:"Heading 1",key:"1",openWith:'<h1(!( class="[![Class]!]")!)>',closeWith:"</h1>",placeHolder:"Your title here..."},{name:"Heading 2",key:"2",openWith:'<h2(!( class="[![Class]!]")!)>',closeWith:"</h2>",placeHolder:"Your title here..."},{name:"Heading 3",key:"3",openWith:'<h3(!( class="[![Class]!]")!)>',closeWith:"</h3>",placeHolder:"Your title here..."},{name:"Heading 4",key:"4",openWith:'<h4(!( class="[![Class]!]")!)>',closeWith:"</h4>",placeHolder:"Your title here..."},{name:"Heading 5",key:"5",openWith:'<h5(!( class="[![Class]!]")!)>',closeWith:"</h5>",placeHolder:"Your title here..."},{name:"Heading 6",key:"6",openWith:'<h6(!( class="[![Class]!]")!)>',closeWith:"</h6>",placeHolder:"Your title here..."},{name:"Paragraph",openWith:'<p(!( class="[![Class]!]")!)>',closeWith:"</p>"},{separator:"---------------"},{name:"Javascript",key:"7",openWith:'<pre><code class="lang-javascript"(!( class="[![Class]!]")!)>',closeWith:"</code></pre>",placeHolder:"Your Javascript code here..."},{name:"C#",key:"8",openWith:'<pre><code class="lang-cs"(!( class="[![Class]!]")!)>',closeWith:"</code></pre>",placeHolder:"Your c# code here..."},{name:"Java",key:"9",openWith:'<pre><code class="lang-java"(!( class="[![Class]!]")!)>',closeWith:"</code></pre>",placeHolder:"Your java code here..."},{name:"Php",key:"0",openWith:'<pre><code class="lang-php"(!( class="[![Class]!]")!)>',closeWith:"</code></pre>",placeHolder:"Your php code here..."},{separator:"---------------"},{name:"Bold",key:"B",openWith:"<strong>",closeWith:"</strong>"},{name:"Italic",key:"I",openWith:"<em>",closeWith:"</em>"},{name:"Stroke through",key:"S",openWith:"<del>",closeWith:"</del>"},{separator:"---------------"},{name:"Ul",openWith:"<ul>\n",closeWith:"</ul>\n"},{name:"Ol",openWith:"<ol>\n",closeWith:"</ol>\n"},{name:"Li",openWith:"<li>",closeWith:"</li>"},{separator:"---------------"},{name:"Picture",key:"P",replaceWith:'<img src="[![Source:!:http://]!]" alt="[![Alternative text]!]" />'},{name:"Link",key:"L",openWith:'<a href="[![Link:!:http://]!]"(!( title="[![Title]!]")!)>',closeWith:"</a>",placeHolder:"Your text to link..."},{separator:"---------------"},{name:"Clean",replaceWith:function(t){return t.selection.replace(/<(.*?)>/g,"")}},{separator:"---------------"},{name:"Table",openWith:"<table>",closeWith:"</table>",placeHolder:"<tr><(!(td|!|th)!)></(!(td|!|th)!)></tr>",className:"table"},{name:"Tr",openWith:"<tr>",closeWith:"</tr>",placeHolder:"<(!(td|!|th)!)></(!(td|!|th)!)>",className:"table-col"},{name:"Td/Th",openWith:"<(!(td|!|th)!)>",closeWith:"</(!(td|!|th)!)>",className:"table-row"}]};

// lib/markitup/jquery.markitup.js
(function($){$.fn.markItUp=function(settings,extraSettings){var method,params,options,ctrlKey,shiftKey,altKey;ctrlKey=shiftKey=altKey=!1,"string"==typeof settings&&(method=settings,params=extraSettings),options={id:"",nameSpace:"",root:"",previewHandler:!1,previewInWindow:"",previewInElement:"",previewAutoRefresh:!0,previewPosition:"after",previewTemplatePath:"~/templates/preview.html",previewParser:!1,previewParserPath:"",previewParserVar:"data",previewParserAjaxType:"POST",resizeHandle:!0,beforeInsert:"",afterInsert:"",onEnter:{},onShiftEnter:{},onCtrlEnter:{},onTab:{},markupSet:[{}]},$.extend(options,settings,extraSettings),options.root||$("script").each(function(t,e){miuScript=$(e).get(0).src.match(/(.*)jquery\.markitup(\.pack)?\.js$/),null!==miuScript&&(options.root=miuScript[1])});var uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||0>t.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},matched=uaMatch(navigator.userAgent),browser={};return matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),this.each(function(){function localize(t,e){return e?t.replace(/("|')~\//g,"$1"+options.root):t.replace(/^~\//,options.root)}function init(){id="",nameSpace="",options.id?id='id="'+options.id+'"':$$.attr("id")&&(id='id="markItUp'+$$.attr("id").substr(0,1).toUpperCase()+$$.attr("id").substr(1)+'"'),options.nameSpace&&(nameSpace='class="'+options.nameSpace+'"'),$$.wrap("<div "+nameSpace+"></div>"),$$.wrap("<div "+id+' class="markItUp"></div>'),$$.wrap('<div class="markItUpContainer"></div>'),$$.addClass("markItUpEditor"),header=$('<div class="markItUpHeader"></div>').insertBefore($$),$(dropMenus(options.markupSet)).appendTo(header),footer=$('<div class="markItUpFooter"></div>').insertAfter($$),options.resizeHandle===!0&&browser.safari!==!0&&(resizeHandle=$('<div class="markItUpResizeHandle"></div>').insertAfter($$).bind("mousedown.markItUp",function(t){var e,n,i=$$.height(),o=t.clientY;e=function(t){return $$.css("height",Math.max(20,t.clientY+i-o)+"px"),!1},n=function(){return $("html").unbind("mousemove.markItUp",e).unbind("mouseup.markItUp",n),!1},$("html").bind("mousemove.markItUp",e).bind("mouseup.markItUp",n)}),footer.append(resizeHandle)),$$.bind("keydown.markItUp",keyPressed).bind("keyup",keyPressed),$$.bind("insertion.markItUp",function(t,e){e.target!==!1&&get(),textarea===$.markItUp.focused&&markup(e)}),$$.bind("focus.markItUp",function(){$.markItUp.focused=this}),options.previewInElement&&refreshPreview()}function dropMenus(markupSet){var ul=$("<ul></ul>"),i=0;return $("li:hover > ul",ul).css("display","block"),$.each(markupSet,function(){var button=this,t="",title,li,j;if(title=button.title?button.key?(button.title||"")+" [Ctrl+"+button.key+"]":button.title||"":button.key?(button.name||"")+" [Ctrl+"+button.key+"]":button.name||"",key=button.key?'accesskey="'+button.key+'"':"",button.separator)li=$('<li class="markItUpSeparator">'+(button.separator||"")+"</li>").appendTo(ul);else{for(i++,j=levels.length-1;j>=0;j--)t+=levels[j]+"-";li=$('<li class="markItUpButton markItUpButton'+t+i+" "+(button.className||"")+'"><a href="" '+key+' title="'+title+'">'+(button.name||"")+"</a></li>").bind("contextmenu.markItUp",function(){return!1}).bind("click.markItUp",function(t){t.preventDefault()}).bind("focusin.markItUp",function(){$$.focus()}).bind("mouseup",function(){return button.call&&eval(button.call)(),setTimeout(function(){markup(button)},1),!1}).bind("mouseenter.markItUp",function(){$("> ul",this).show(),$(document).one("click",function(){$("ul ul",header).hide()})}).bind("mouseleave.markItUp",function(){$("> ul",this).hide()}).appendTo(ul),button.dropMenu&&(levels.push(i),$(li).addClass("markItUpDropMenu").append(dropMenus(button.dropMenu)))}}),levels.pop(),ul}function magicMarkups(t){return t?(t=""+t,t=t.replace(/\(\!\(([\s\S]*?)\)\!\)/g,function(t,e){var n=e.split("|!|");return altKey===!0?void 0!==n[1]?n[1]:n[0]:void 0===n[1]?"":n[0]}),t=t.replace(/\[\!\[([\s\S]*?)\]\!\]/g,function(t,e){var n=e.split(":!:");return abort===!0?!1:(value=prompt(n[0],n[1]?n[1]:""),null===value&&(abort=!0),value)})):""}function prepare(t){return $.isFunction(t)&&(t=t(hash)),magicMarkups(t)}function build(t){var e=prepare(clicked.openWith),n=prepare(clicked.placeHolder),i=prepare(clicked.replaceWith),o=prepare(clicked.closeWith),s=prepare(clicked.openBlockWith),r=prepare(clicked.closeBlockWith),a=clicked.multiline;if(""!==i)block=e+i+o;else if(""===selection&&""!==n)block=e+n+o;else{t=t||selection;var l=[t],h=[];a===!0&&(l=t.split(/\r?\n/));for(var c=0;l.length>c;c++){line=l[c];var d;(d=line.match(/ *$/))?h.push(e+line.replace(/ *$/g,"")+o+d):h.push(e+line+o)}block=h.join("\n")}return block=s+block+r,{block:block,openBlockWith:s,openWith:e,replaceWith:i,placeHolder:n,closeWith:o,closeBlockWith:r}}function markup(t){var e,n,i,o;if(hash=clicked=t,get(),$.extend(hash,{line:"",root:options.root,textarea:textarea,selection:selection||"",caretPosition:caretPosition,ctrlKey:ctrlKey,shiftKey:shiftKey,altKey:altKey}),prepare(options.beforeInsert),prepare(clicked.beforeInsert),(ctrlKey===!0&&shiftKey===!0||t.multiline===!0)&&prepare(clicked.beforeMultiInsert),$.extend(hash,{line:1}),ctrlKey===!0&&shiftKey===!0){for(lines=selection.split(/\r?\n/),n=0,i=lines.length,o=0;i>o;o++)""!==$.trim(lines[o])?($.extend(hash,{line:++n,selection:lines[o]}),lines[o]=build(lines[o]).block):lines[o]="";string={block:lines.join("\n")},start=caretPosition,e=string.block.length+(browser.opera?i-1:0)}else ctrlKey===!0?(string=build(selection),start=caretPosition+string.openWith.length,e=string.block.length-string.openWith.length-string.closeWith.length,e-=string.block.match(/ $/)?1:0,e-=fixIeBug(string.block)):shiftKey===!0?(string=build(selection),start=caretPosition,e=string.block.length,e-=fixIeBug(string.block)):(string=build(selection),start=caretPosition+string.block.length,e=0,start-=fixIeBug(string.block));""===selection&&""===string.replaceWith&&(caretOffset+=fixOperaBug(string.block),start=caretPosition+string.openBlockWith.length+string.openWith.length,e=string.block.length-string.openBlockWith.length-string.openWith.length-string.closeWith.length-string.closeBlockWith.length,caretOffset=$$.val().substring(caretPosition,$$.val().length).length,caretOffset-=fixOperaBug($$.val().substring(0,caretPosition))),$.extend(hash,{caretPosition:caretPosition,scrollPosition:scrollPosition}),string.block!==selection&&abort===!1?(insert(string.block),set(start,e)):caretOffset=-1,get(),$.extend(hash,{line:"",selection:selection}),(ctrlKey===!0&&shiftKey===!0||t.multiline===!0)&&prepare(clicked.afterMultiInsert),prepare(clicked.afterInsert),prepare(options.afterInsert),previewWindow&&options.previewAutoRefresh&&refreshPreview(),shiftKey=altKey=ctrlKey=abort=!1}function fixOperaBug(t){return browser.opera?t.length-t.replace(/\n*/g,"").length:0}function fixIeBug(t){return browser.msie?t.length-t.replace(/\r*/g,"").length:0}function insert(t){if(document.selection){var e=document.selection.createRange();e.text=t}else textarea.value=textarea.value.substring(0,caretPosition)+t+textarea.value.substring(caretPosition+selection.length,textarea.value.length)}function set(t,e){if(textarea.createTextRange){if(browser.opera&&browser.version>=9.5&&0==e)return!1;range=textarea.createTextRange(),range.collapse(!0),range.moveStart("character",t),range.moveEnd("character",e),range.select()}else textarea.setSelectionRange&&textarea.setSelectionRange(t,t+e);textarea.scrollTop=scrollPosition,textarea.focus()}function get(){if(textarea.focus(),scrollPosition=textarea.scrollTop,document.selection)if(selection=document.selection.createRange().text,browser.msie){var t=document.selection.createRange(),e=t.duplicate();for(e.moveToElementText(textarea),caretPosition=-1;e.inRange(t);)e.moveStart("character"),caretPosition++}else caretPosition=textarea.selectionStart;else caretPosition=textarea.selectionStart,selection=textarea.value.substring(caretPosition,textarea.selectionEnd);return selection}function preview(){"function"==typeof options.previewHandler?previewWindow=!0:options.previewInElement?previewWindow=$(options.previewInElement):!previewWindow||previewWindow.closed?options.previewInWindow?(previewWindow=window.open("","preview",options.previewInWindow),$(window).unload(function(){previewWindow.close()})):(iFrame=$('<iframe class="markItUpPreviewFrame"></iframe>'),"after"==options.previewPosition?iFrame.insertAfter(footer):iFrame.insertBefore(header),previewWindow=iFrame[iFrame.length-1].contentWindow||frame[iFrame.length-1]):altKey===!0&&(iFrame?iFrame.remove():previewWindow.close(),previewWindow=iFrame=!1),options.previewAutoRefresh||refreshPreview(),options.previewInWindow&&previewWindow.focus()}function refreshPreview(){renderPreview()}function renderPreview(){if(options.previewHandler&&"function"==typeof options.previewHandler)options.previewHandler($$.val());else if(options.previewParser&&"function"==typeof options.previewParser){var t=options.previewParser($$.val());writeInPreview(localize(t,1))}else""!==options.previewParserPath?$.ajax({type:options.previewParserAjaxType,dataType:"text",global:!1,url:options.previewParserPath,data:options.previewParserVar+"="+encodeURIComponent($$.val()),success:function(t){writeInPreview(localize(t,1))}}):template||$.ajax({url:options.previewTemplatePath,dataType:"text",global:!1,success:function(t){writeInPreview(localize(t,1).replace(/<!-- content -->/g,$$.val()))}});return!1}function writeInPreview(t){if(options.previewInElement)$(options.previewInElement).html(t);else if(previewWindow&&previewWindow.document){try{sp=previewWindow.document.documentElement.scrollTop}catch(e){sp=0}previewWindow.document.open(),previewWindow.document.write(t),previewWindow.document.close(),previewWindow.document.documentElement.scrollTop=sp}}function keyPressed(t){if(shiftKey=t.shiftKey,altKey=t.altKey,ctrlKey=t.altKey&&t.ctrlKey?!1:t.ctrlKey||t.metaKey,"keydown"===t.type){if(ctrlKey===!0&&(li=$('a[accesskey="'+(13==t.keyCode?"\\n":String.fromCharCode(t.keyCode))+'"]',header).parent("li"),0!==li.length))return ctrlKey=!1,setTimeout(function(){li.triggerHandler("mouseup")},1),!1;if(13===t.keyCode||10===t.keyCode)return ctrlKey===!0?(ctrlKey=!1,markup(options.onCtrlEnter),options.onCtrlEnter.keepDefault):shiftKey===!0?(shiftKey=!1,markup(options.onShiftEnter),options.onShiftEnter.keepDefault):(markup(options.onEnter),options.onEnter.keepDefault);if(9===t.keyCode)return 1==shiftKey||1==ctrlKey||1==altKey?!1:-1!==caretOffset?(get(),caretOffset=$$.val().length-caretOffset,set(caretOffset,0),caretOffset=-1,!1):(markup(options.onTab),options.onTab.keepDefault)}}function remove(){$$.unbind(".markItUp").removeClass("markItUpEditor"),$$.parent("div").parent("div.markItUp").parent("div").replaceWith($$);var t=$$.parent("div").parent("div.markItUp").parent("div");t.length&&t.replaceWith($$),$$.data("markItUp",null)}var $$,textarea,levels,scrollPosition,caretPosition,caretOffset,clicked,hash,header,footer,previewWindow,template,iFrame,abort;if($$=$(this),textarea=this,levels=[],abort=!1,scrollPosition=caretPosition=0,caretOffset=-1,options.previewParserPath=localize(options.previewParserPath),options.previewTemplatePath=localize(options.previewTemplatePath),method)switch(method){case"remove":remove();break;case"insert":markup(params);break;default:$.error("Method "+method+" does not exist on jQuery.markItUp")}else init()})},$.fn.markItUpRemove=function(){return this.each(function(){$(this).markItUp("remove")})},$.markItUp=function(t){var e={target:!1};return $.extend(e,t),e.target?$(e.target).each(function(){$(this).focus(),$(this).trigger("insertion",[e])}):($("textarea").trigger("insertion",[e]),void 0)}})(jQuery);

// lib/markitup/Master.TextEditor.js
(function(t){var e=1;t.kind({name:"Master.TextEditor",mixins:["Master.ClassSupport"],classes:"lib-text-editor",published:{height:200},components:[{name:"markItUp",classes:"libMarkItUp",attributes:{cols:"80",rows:"20"},tag:"textarea"}],create:t.inherit(function(t){return function(){t.apply(this,arguments),this.$.markItUp.setId("libMarkItUp"+ ++e)}}),rendered:t.inherit(function(t){return function(){t.apply(this,arguments)}}),markItUp:function(){$("#"+this.$.markItUp.id).markItUp(myHtmlSettings),$("#"+this.$.markItUp.id).css("height",this.get("height")),$("#"+this.$.markItUp.id).val(this._initialHtmlContent)},getEditorContent:function(t){var e=$("#"+this.$.markItUp.id).val();return t===!0&&(e=utility.stripRiskHtmlCode(e)),e},setEditorContent:function(t){this._initialHtmlContent=t,$("#"+this.$.markItUp.id).val(this._initialHtmlContent)}})})(enyo);

// lib/highlight/highlight.pack.js
(function(e){var t=enyo.platform;t&&"ie"==t.platformName.toLowerCase()&&8>=t.ie?enyo.log("the highlight js don't support ie8 "):(e.hljs=new function(){function e(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")}function t(e){return e.nodeName.toLowerCase()}function n(e,t){var n=e&&e.exec(t);return n&&0==n.index}function i(e){return Array.prototype.map.call(e.childNodes,function(e){return 3==e.nodeType?v.useBR?e.nodeValue.replace(/\n/g,""):e.nodeValue:"br"==t(e)?"\n":i(e)}).join("")}function o(e){var t=(e.className+" "+(e.parentNode?e.parentNode.className:"")).split(/\s+/);return t=t.map(function(e){return e.replace(/^language-/,"")}),t.filter(function(e){return y(e)||"no-highlight"==e})[0]}function s(e,t){var n={};for(var i in e)n[i]=e[i];if(t)for(var i in t)n[i]=t[i];return n}function r(e){var n=[];return function i(e,o){for(var s=e.firstChild;s;s=s.nextSibling)3==s.nodeType?o+=s.nodeValue.length:"br"==t(s)?o+=1:1==s.nodeType&&(n.push({event:"start",offset:o,node:s}),o=i(s,o),n.push({event:"stop",offset:o,node:s}));return o}(e,0),n}function a(n,i,o){function s(){return n.length&&i.length?n[0].offset!=i[0].offset?n[0].offset<i[0].offset?n:i:"start"==i[0].event?n:i:n.length?n:i}function r(n){function i(t){return" "+t.nodeName+'="'+e(t.value)+'"'}c+="<"+t(n)+Array.prototype.map.call(n.attributes,i).join("")+">"}function a(e){c+="</"+t(e)+">"}function l(e){("start"==e.event?r:a)(e.node)}for(var h=0,c="",u=[];n.length||i.length;){var d=s();if(c+=e(o.substr(h,d[0].offset-h)),h=d[0].offset,d==n){u.reverse().forEach(a);do l(d.splice(0,1)[0]),d=s();while(d==n&&d.length&&d[0].offset==h);u.reverse().forEach(r)}else"start"==d[0].event?u.push(d[0].node):u.pop(),l(d.splice(0,1)[0])}return c+e(o.substr(h))}function l(e){function t(e){return e&&e.source||e}function n(n,i){return RegExp(t(n),"m"+(e.cI?"i":"")+(i?"g":""))}function i(o,r){function a(t,n){e.cI&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");l[n[0]]=[t,n[1]?Number(n[1]):1]})}if(!o.compiled){if(o.compiled=!0,o.k=o.k||o.bK,o.k){var l={};"string"==typeof o.k?a("keyword",o.k):Object.keys(o.k).forEach(function(e){a(e,o.k[e])}),o.k=l}o.lR=n(o.l||/\b[A-Za-z0-9_]+\b/,!0),r&&(o.bK&&(o.b=o.bK.split(" ").join("|")),o.b||(o.b=/\B|\b/),o.bR=n(o.b),o.e||o.eW||(o.e=/\B|\b/),o.e&&(o.eR=n(o.e)),o.tE=t(o.e)||"",o.eW&&r.tE&&(o.tE+=(o.e?"|":"")+r.tE)),o.i&&(o.iR=n(o.i)),void 0===o.r&&(o.r=1),o.c||(o.c=[]);var h=[];o.c.forEach(function(e){e.v?e.v.forEach(function(t){h.push(s(e,t))}):h.push("self"==e?o:e)}),o.c=h,o.c.forEach(function(e){i(e,o)}),o.starts&&i(o.starts,r);var c=o.c.map(function(e){return e.bK?"\\.?\\b("+e.b+")\\b\\.?":e.b}).concat([o.tE]).concat([o.i]).map(t).filter(Boolean);o.t=c.length?n(c.join("|"),!0):{exec:function(){return null}},o.continuation={}}}i(e)}function h(t,i,o,s){function r(e,t){for(var i=0;t.c.length>i;i++)if(n(t.c[i].bR,e))return t.c[i]}function a(e,t){return n(e.eR,t)?e:e.eW?a(e.parent,t):void 0}function u(e,t){return!o&&n(t.iR,e)}function d(e,t){var n=C.cI?t[0].toLowerCase():t[0];return e.k.hasOwnProperty(n)&&e.k[n]}function p(e,t,n,i){var o=i?"":v.classPrefix,s='<span class="'+o,r=n?"":"</span>";return s+=e+'">',s+t+r}function f(){var t=e(N);if(!S.k)return t;var n="",i=0;S.lR.lastIndex=0;for(var o=S.lR.exec(t);o;){n+=t.substr(i,o.index-i);var s=d(S,o);s?(T+=s[1],n+=p(s[0],o[0])):n+=o[0],i=S.lR.lastIndex,o=S.lR.exec(t)}return n+t.substr(i)}function g(){if(S.sL&&!b[S.sL])return e(N);var t=S.sL?h(S.sL,N,!0,S.continuation.top):c(N);return S.r>0&&(T+=t.r),"continuous"==S.subLanguageMode&&(S.continuation.top=t.top),p(t.language,t.value,!1,!0)}function m(){return void 0!==S.sL?g():f()}function w(t,n){var i=t.cN?p(t.cN,"",!0):"";t.rB?(k+=i,N=""):t.eB?(k+=e(n)+i,N=""):(k+=i,N=n),S=Object.create(t,{parent:{value:S}})}function x(t,n){if(N+=t,void 0===n)return k+=m(),0;var i=r(n,S);if(i)return k+=m(),w(i,n),i.rB?0:n.length;var o=a(S,n);if(o){var s=S;s.rE||s.eE||(N+=n),k+=m();do S.cN&&(k+="</span>"),T+=S.r,S=S.parent;while(S!=o.parent);return s.eE&&(k+=e(n)),N="",o.starts&&w(o.starts,""),s.rE?0:n.length}if(u(n,S))throw Error('Illegal lexeme "'+n+'" for mode "'+(S.cN||"<unnamed>")+'"');return N+=n,n.length||1}var C=y(t);if(!C)throw Error('Unknown language: "'+t+'"');l(C);for(var S=s||C,k="",P=S;P!=C;P=P.parent)P.cN&&(k=p(P.cN,k,!0));var N="",T=0;try{for(var M,$,I=0;;){if(S.t.lastIndex=I,M=S.t.exec(i),!M)break;$=x(i.substr(I,M.index-I),M[0]),I=M.index+$}x(i.substr(I));for(var P=S;P.parent;P=P.parent)P.cN&&(k+="</span>");return{r:T,value:k,language:t,top:S}}catch(R){if(-1!=R.message.indexOf("Illegal"))return{r:0,value:e(i)};throw R}}function c(t,n){n=n||v.languages||Object.keys(b);var i={r:0,value:e(t)},o=i;return n.forEach(function(e){if(y(e)){var n=h(e,t,!1);n.language=e,n.r>o.r&&(o=n),n.r>i.r&&(o=i,i=n)}}),o.language&&(i.second_best=o),i}function u(e){return v.tabReplace&&(e=e.replace(/^((<[^>]+>|\t)+)/gm,function(e,t){return t.replace(/\t/g,v.tabReplace)})),v.useBR&&(e=e.replace(/\n/g,"<br>")),e}function d(e){var t=i(e),n=o(e);if("no-highlight"!=n){var s=n?h(n,t,!0):c(t),l=r(e);if(l.length){var d=document.createElementNS("http://www.w3.org/1999/xhtml","pre");d.innerHTML=s.value,s.value=a(l,r(d),t)}s.value=u(s.value),e.innerHTML=s.value,e.className+=" hljs "+(!n&&s.language||""),e.result={language:s.language,re:s.r},s.second_best&&(e.second_best={language:s.second_best.language,re:s.second_best.r})}}function p(e){v=s(v,e)}function f(){if(!f.called){f.called=!0;var e=document.querySelectorAll("pre code");Array.prototype.forEach.call(e,d)}}function g(){addEventListener("DOMContentLoaded",f,!1),addEventListener("load",f,!1)}function m(e,t){var n=b[e]=t(this);n.aliases&&n.aliases.forEach(function(t){w[t]=e})}function y(e){return b[e]||b[w[e]]}var v={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0},b={},w={};this.highlight=h,this.highlightAuto=c,this.fixMarkup=u,this.highlightBlock=d,this.configure=p,this.initHighlighting=f,this.initHighlightingOnLoad=g,this.registerLanguage=m,this.getLanguage=y,this.inherit=s,this.IR="[a-zA-Z][a-zA-Z0-9_]*",this.UIR="[a-zA-Z_][a-zA-Z0-9_]*",this.NR="\\b\\d+(\\.\\d+)?",this.CNR="(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",this.BNR="\\b(0b[01]+)",this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",this.BE={b:"\\\\[\\s\\S]",r:0},this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE]},this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE]},this.CLCM={cN:"comment",b:"//",e:"$"},this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"},this.HCM={cN:"comment",b:"#",e:"$"},this.NM={cN:"number",b:this.NR,r:0},this.CNM={cN:"number",b:this.CNR,r:0},this.BNM={cN:"number",b:this.BNR,r:0},this.REGEXP_MODE={cN:"regexp",b:/\//,e:/\/[gim]*/,i:/\n/,c:[this.BE,{b:/\[/,e:/\]/,r:0,c:[this.BE]}]},this.TM={cN:"title",b:this.IR,r:0},this.UTM={cN:"title",b:this.UIR,r:0}},hljs.registerLanguage("bash",function(e){var t={cN:"variable",v:[{b:/\$[\w\d#@][\w\d_]*/},{b:/\$\{(.*?)\}/}]},n={cN:"string",b:/"/,e:/"/,c:[e.BE,t,{cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]}]},i={cN:"string",b:/'/,e:/'/};return{l:/-?[a-z\.]+/,k:{keyword:"if then else elif fi for break continue while in do done exit return set declare case esac export exec",literal:"true false",built_in:"printf echo read cd pwd pushd popd dirs let eval unset typeset readonly getopts source shopt caller type hash bind help sudo",operator:"-ne -eq -lt -gt -f -d -e -s -l -a"},c:[{cN:"shebang",b:/^#![^\n]+sh\s*$/,r:10},{cN:"function",b:/\w[\w\d_]*\s*\(\s*\)\s*\{/,rB:!0,c:[e.inherit(e.TM,{b:/\w[\w\d_]*/})],r:0},e.HCM,e.NM,n,i,t]}}),hljs.registerLanguage("cs",function(e){var t="abstract as base bool break byte case catch char checked const continue decimal default delegate do double else enum event explicit extern false finally fixed float for foreach goto if implicit in int interface internal is lock long new null object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw true try typeof uint ulong unchecked unsafe ushort using virtual volatile void while async await ascending descending from get group into join let orderby partial select set value var where yield";return{k:t,c:[{cN:"comment",b:"///",e:"$",rB:!0,c:[{cN:"xmlDocTag",b:"///|<!--|-->"},{cN:"xmlDocTag",b:"</?",e:">"}]},e.CLCM,e.CBLCLM,{cN:"preprocessor",b:"#",e:"$",k:"if else elif endif define undef warning error line region endregion pragma checksum"},{cN:"string",b:'@"',e:'"',c:[{b:'""'}]},e.ASM,e.QSM,e.CNM,{bK:"protected public private internal",e:/[{;=]/,k:t,c:[{bK:"class namespace interface",starts:{c:[e.TM]}},{b:e.IR+"\\s*\\(",rB:!0,c:[e.TM]}]}]}}),hljs.registerLanguage("ruby",function(e){var t="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",n="and false then defined module in return redo if BEGIN retry end for true self when next until do begin unless END rescue nil else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",i={cN:"yardoctag",b:"@[A-Za-z]+"},o={cN:"comment",v:[{b:"#",e:"$",c:[i]},{b:"^\\=begin",e:"^\\=end",c:[i],r:10},{b:"^__END__",e:"\\n$"}]},s={cN:"subst",b:"#\\{",e:"}",k:n},r={cN:"string",c:[e.BE,s],v:[{b:/'/,e:/'/},{b:/"/,e:/"/},{b:"%[qw]?\\(",e:"\\)"},{b:"%[qw]?\\[",e:"\\]"},{b:"%[qw]?{",e:"}"},{b:"%[qw]?<",e:">",r:10},{b:"%[qw]?/",e:"/",r:10},{b:"%[qw]?%",e:"%",r:10},{b:"%[qw]?-",e:"-",r:10},{b:"%[qw]?\\|",e:"\\|",r:10},{b:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/}]},a={cN:"params",b:"\\(",e:"\\)",k:n},l=[r,o,{cN:"class",bK:"class module",e:"$|;",i:/=/,c:[e.inherit(e.TM,{b:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{cN:"inheritance",b:"<\\s*",c:[{cN:"parent",b:"("+e.IR+"::)?"+e.IR}]},o]},{cN:"function",bK:"def",e:" |$|;",r:0,c:[e.inherit(e.TM,{b:t}),a,o]},{cN:"constant",b:"(::)?(\\b[A-Z]\\w*(::)?)+",r:0},{cN:"symbol",b:":",c:[r,{b:t}],r:0},{cN:"symbol",b:e.UIR+"(\\!|\\?)?:",r:0},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{cN:"variable",b:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{b:"("+e.RSR+")\\s*",c:[o,{cN:"regexp",c:[e.BE,s],i:/\n/,v:[{b:"/",e:"/[a-z]*"},{b:"%r{",e:"}[a-z]*"},{b:"%r\\(",e:"\\)[a-z]*"},{b:"%r!",e:"![a-z]*"},{b:"%r\\[",e:"\\][a-z]*"}]}],r:0}];return s.c=l,a.c=l,{k:n,c:l}}),hljs.registerLanguage("diff",function(){return{c:[{cN:"chunk",r:10,v:[{b:/^\@\@ +\-\d+,\d+ +\+\d+,\d+ +\@\@$/},{b:/^\*\*\* +\d+,\d+ +\*\*\*\*$/},{b:/^\-\-\- +\d+,\d+ +\-\-\-\-$/}]},{cN:"header",v:[{b:/Index: /,e:/$/},{b:/=====/,e:/=====$/},{b:/^\-\-\-/,e:/$/},{b:/^\*{3} /,e:/$/},{b:/^\+\+\+/,e:/$/},{b:/\*{5}/,e:/\*{5}$/}]},{cN:"addition",b:"^\\+",e:"$"},{cN:"deletion",b:"^\\-",e:"$"},{cN:"change",b:"^\\!",e:"$"}]}}),hljs.registerLanguage("javascript",function(e){return{aliases:["js"],k:{keyword:"in if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const class",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require"},c:[{cN:"pi",b:/^\s*('|")use strict('|")/,r:10},e.ASM,e.QSM,e.CLCM,e.CBLCLM,e.CNM,{b:"("+e.RSR+"|\\b(case|return|throw)\\b)\\s*",k:"return throw case",c:[e.CLCM,e.CBLCLM,e.REGEXP_MODE,{b:/</,e:/>;/,r:0,sL:"xml"}],r:0},{cN:"function",bK:"function",e:/\{/,c:[e.inherit(e.TM,{b:/[A-Za-z$_][0-9A-Za-z$_]*/}),{cN:"params",b:/\(/,e:/\)/,c:[e.CLCM,e.CBLCLM],i:/["'\(]/}],i:/\[|%/},{b:/\$[(.]/},{b:"\\."+e.IR,r:0}]}}),hljs.registerLanguage("xml",function(){var e="[A-Za-z0-9\\._:-]+",t={b:/<\?(php)?(?!\w)/,e:/\?>/,sL:"php",subLanguageMode:"continuous"},n={eW:!0,i:/</,r:0,c:[t,{cN:"attribute",b:e,r:0},{b:"=",r:0,c:[{cN:"value",v:[{b:/"/,e:/"/},{b:/'/,e:/'/},{b:/[^\s\/>]+/}]}]}]};return{aliases:["html"],cI:!0,c:[{cN:"doctype",b:"<!DOCTYPE",e:">",r:10,c:[{b:"\\[",e:"\\]"}]},{cN:"comment",b:"<!--",e:"-->",r:10},{cN:"cdata",b:"<\\!\\[CDATA\\[",e:"\\]\\]>",r:10},{cN:"tag",b:"<style(?=\\s|>|$)",e:">",k:{title:"style"},c:[n],starts:{e:"</style>",rE:!0,sL:"css"}},{cN:"tag",b:"<script(?=\\s|>|$)",e:">",k:{title:"script"},c:[n],starts:{e:"</script>",rE:!0,sL:"javascript"}},{b:"<%",e:"%>",sL:"vbscript"},t,{cN:"pi",b:/<\?\w+/,e:/\?>/,r:10},{cN:"tag",b:"</?",e:"/?>",c:[{cN:"title",b:"[^ /><]+",r:0},n]}]}}),hljs.registerLanguage("markdown",function(){return{c:[{cN:"header",v:[{b:"^#{1,6}",e:"$"},{b:"^.+?\\n[=-]{2,}$"}]},{b:"<",e:">",sL:"xml",r:0},{cN:"bullet",b:"^([*+-]|(\\d+\\.))\\s+"},{cN:"strong",b:"[*_]{2}.+?[*_]{2}"},{cN:"emphasis",v:[{b:"\\*.+?\\*"},{b:"_.+?_",r:0}]},{cN:"blockquote",b:"^>\\s+",e:"$"},{cN:"code",v:[{b:"`.+?`"},{b:"^( {4}|	)",e:"$",r:0}]},{cN:"horizontal_rule",b:"^[-\\*]{3,}",e:"$"},{b:"\\[.+?\\][\\(\\[].+?[\\)\\]]",rB:!0,c:[{cN:"link_label",b:"\\[",e:"\\]",eB:!0,rE:!0,r:0},{cN:"link_url",b:"\\]\\(",e:"\\)",eB:!0,eE:!0},{cN:"link_reference",b:"\\]\\[",e:"\\]",eB:!0,eE:!0}],r:10},{b:"^\\[.+\\]:",e:"$",rB:!0,c:[{cN:"link_reference",b:"\\[",e:"\\]",eB:!0,eE:!0},{cN:"link_url",b:"\\s",e:"$"}]}]}}),hljs.registerLanguage("css",function(e){var t="[a-zA-Z-][a-zA-Z0-9_-]*",n={cN:"function",b:t+"\\(",e:"\\)",c:["self",e.NM,e.ASM,e.QSM]};return{cI:!0,i:"[=/|']",c:[e.CBLCLM,{cN:"id",b:"\\#[A-Za-z0-9_-]+"},{cN:"class",b:"\\.[A-Za-z0-9_-]+",r:0},{cN:"attr_selector",b:"\\[",e:"\\]",i:"$"},{cN:"pseudo",b:":(:)?[a-zA-Z0-9\\_\\-\\+\\(\\)\\\"\\']+"},{cN:"at_rule",b:"@(font-face|page)",l:"[a-z-]+",k:"font-face page"},{cN:"at_rule",b:"@",e:"[{;]",c:[{cN:"keyword",b:/\S+/},{b:/\s/,eW:!0,eE:!0,r:0,c:[n,e.ASM,e.QSM,e.NM]}]},{cN:"tag",b:t,r:0},{cN:"rules",b:"{",e:"}",i:"[^\\s]",r:0,c:[e.CBLCLM,{cN:"rule",b:"[^\\s]",rB:!0,e:";",eW:!0,c:[{cN:"attribute",b:"[A-Z\\_\\.\\-]+",e:":",eE:!0,i:"[^\\s]",starts:{cN:"value",eW:!0,eE:!0,c:[n,e.NM,e.QSM,e.ASM,e.CBLCLM,{cN:"hexcolor",b:"#[0-9A-Fa-f]+"},{cN:"important",b:"!important"}]}}]}]}]}}),hljs.registerLanguage("http",function(){return{i:"\\S",c:[{cN:"status",b:"^HTTP/[0-9\\.]+",e:"$",c:[{cN:"number",b:"\\b\\d{3}\\b"}]},{cN:"request",b:"^[A-Z]+ (.*?) HTTP/[0-9\\.]+$",rB:!0,e:"$",c:[{cN:"string",b:" ",e:" ",eB:!0,eE:!0}]},{cN:"attribute",b:"^\\w",e:": ",eE:!0,i:"\\n|\\s|=",starts:{cN:"string",e:"$"}},{b:"\\n\\n",starts:{sL:"",eW:!0}}]}}),hljs.registerLanguage("java",function(e){var t="false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws";return{k:t,i:/<\//,c:[{cN:"javadoc",b:"/\\*\\*",e:"\\*/",c:[{cN:"javadoctag",b:"(^|\\s)@[A-Za-z]+"}],r:10},e.CLCM,e.CBLCLM,e.ASM,e.QSM,{bK:"protected public private",e:/[{;=]/,k:t,c:[{cN:"class",bK:"class interface",eW:!0,i:/[:"<>]/,c:[{bK:"extends implements",r:10},e.UTM]},{b:e.UIR+"\\s*\\(",rB:!0,c:[e.UTM]}]},e.CNM,{cN:"annotation",b:"@[A-Za-z]+"}]}}),hljs.registerLanguage("php",function(e){var t={cN:"variable",b:"\\$+[a-zA-Z_-\u00ff][a-zA-Z0-9_-\u00ff]*"},n={cN:"preprocessor",b:/<\?(php)?|\?>/},i={cN:"string",c:[e.BE,n],v:[{b:'b"',e:'"'},{b:"b'",e:"'"},e.inherit(e.ASM,{i:null}),e.inherit(e.QSM,{i:null})]},o={v:[e.BNM,e.CNM]};return{cI:!0,k:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",c:[e.CLCM,e.HCM,{cN:"comment",b:"/\\*",e:"\\*/",c:[{cN:"phpdoc",b:"\\s@[A-Za-z]+"},n]},{cN:"comment",b:"__halt_compiler.+?;",eW:!0,k:"__halt_compiler",l:e.UIR},{cN:"string",b:"<<<['\"]?\\w+['\"]?$",e:"^\\w+;",c:[e.BE]},n,t,{cN:"function",bK:"function",e:/[;{]/,i:"\\$|\\[|%",c:[e.UTM,{cN:"params",b:"\\(",e:"\\)",c:["self",t,e.CBLCLM,i,o]}]},{cN:"class",bK:"class interface",e:"{",i:/[:\(\$"]/,c:[{bK:"extends implements",r:10},e.UTM]},{bK:"namespace",e:";",i:/[\.']/,c:[e.UTM]},{bK:"use",e:";",c:[e.UTM]},{b:"=>"},i,o]}}),hljs.registerLanguage("python",function(e){var t={cN:"prompt",b:/^(>>>|\.\.\.) /},n={cN:"string",c:[e.BE],v:[{b:/(u|b)?r?'''/,e:/'''/,c:[t],r:10},{b:/(u|b)?r?"""/,e:/"""/,c:[t],r:10},{b:/(u|r|ur)'/,e:/'/,r:10},{b:/(u|r|ur)"/,e:/"/,r:10},{b:/(b|br)'/,e:/'/},{b:/(b|br)"/,e:/"/},e.ASM,e.QSM]},i={cN:"number",r:0,v:[{b:e.BNR+"[lLjJ]?"},{b:"\\b(0o[0-7]+)[lLjJ]?"},{b:e.CNR+"[lLjJ]?"}]},o={cN:"params",b:/\(/,e:/\)/,c:["self",t,i,n]},s={e:/:/,i:/[${=;\n]/,c:[e.UTM,o]};return{k:{keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},i:/(<\/|->|\?)/,c:[t,i,n,e.HCM,e.inherit(s,{cN:"function",bK:"def",r:10}),e.inherit(s,{cN:"class",bK:"class"}),{cN:"decorator",b:/@/,e:/$/},{b:/\b(print|exec)\(/}]}}),hljs.registerLanguage("sql",function(e){return{cI:!0,i:/[<>]/,c:[{cN:"operator",b:"\\b(begin|end|start|commit|rollback|savepoint|lock|alter|create|drop|rename|call|delete|do|handler|insert|load|replace|select|truncate|update|set|show|pragma|grant|merge)\\b(?!:)",e:";",eW:!0,k:{keyword:"all partial global month current_timestamp using go revoke smallint indicator end-exec disconnect zone with character assertion to add current_user usage input local alter match collate real then rollback get read timestamp session_user not integer bit unique day minute desc insert execute like ilike|2 level decimal drop continue isolation found where constraints domain right national some module transaction relative second connect escape close system_user for deferred section cast current sqlstate allocate intersect deallocate numeric public preserve full goto initially asc no key output collation group by union session both last language constraint column of space foreign deferrable prior connection unknown action commit view or first into float year primary cascaded except restrict set references names table outer open select size are rows from prepare distinct leading create only next inner authorization schema corresponding option declare precision immediate else timezone_minute external varying translation true case exception join hour default double scroll value cursor descriptor values dec fetch procedure delete and false int is describe char as at in varchar null trailing any absolute current_time end grant privileges when cross check write current_date pad begin temporary exec time update catalog user sql date on identity timezone_hour natural whenever interval work order cascade diagnostics nchar having left call do handler load replace truncate start lock show pragma exists number trigger if before after each row merge matched database",aggregate:"count sum min max avg"},c:[{cN:"string",b:"'",e:"'",c:[e.BE,{b:"''"}]},{cN:"string",b:'"',e:'"',c:[e.BE,{b:'""'}]},{cN:"string",b:"`",e:"`",c:[e.BE]},e.CNM]},e.CBLCLM,{cN:"comment",b:"--",e:"$"}]}}),hljs.registerLanguage("ini",function(e){return{cI:!0,i:/\S/,c:[{cN:"comment",b:";",e:"$"},{cN:"title",b:"^\\[",e:"\\]"},{cN:"setting",b:"^[a-z0-9\\[\\]_-]+[ \\t]*=[ \\t]*",e:"$",c:[{cN:"value",eW:!0,k:"on off true false yes no",c:[e.QSM,e.NM],r:0}]}]}}),hljs.registerLanguage("perl",function(e){var t="getpwent getservent quotemeta msgrcv scalar kill dbmclose undef lc ma syswrite tr send umask sysopen shmwrite vec qx utime local oct semctl localtime readpipe do return format read sprintf dbmopen pop getpgrp not getpwnam rewinddir qqfileno qw endprotoent wait sethostent bless s|0 opendir continue each sleep endgrent shutdown dump chomp connect getsockname die socketpair close flock exists index shmgetsub for endpwent redo lstat msgctl setpgrp abs exit select print ref gethostbyaddr unshift fcntl syscall goto getnetbyaddr join gmtime symlink semget splice x|0 getpeername recv log setsockopt cos last reverse gethostbyname getgrnam study formline endhostent times chop length gethostent getnetent pack getprotoent getservbyname rand mkdir pos chmod y|0 substr endnetent printf next open msgsnd readdir use unlink getsockopt getpriority rindex wantarray hex system getservbyport endservent int chr untie rmdir prototype tell listen fork shmread ucfirst setprotoent else sysseek link getgrgid shmctl waitpid unpack getnetbyname reset chdir grep split require caller lcfirst until warn while values shift telldir getpwuid my getprotobynumber delete and sort uc defined srand accept package seekdir getprotobyname semop our rename seek if q|0 chroot sysread setpwent no crypt getc chown sqrt write setnetent setpriority foreach tie sin msgget map stat getlogin unless elsif truncate exec keys glob tied closedirioctl socket readlink eval xor readline binmode setservent eof ord bind alarm pipe atan2 getgrent exp time push setgrent gt lt or ne m|0 break given say state when",n={cN:"subst",b:"[$@]\\{",e:"\\}",k:t},i={b:"->{",e:"}"},o={cN:"variable",v:[{b:/\$\d/},{b:/[\$\%\@\*](\^\w\b|#\w+(\:\:\w+)*|{\w+}|\w+(\:\:\w*)*)/},{b:/[\$\%\@\*][^\s\w{]/,r:0}]},s={cN:"comment",b:"^(__END__|__DATA__)",e:"\\n$",r:5},r=[e.BE,n,o],a=[o,e.HCM,s,{cN:"comment",b:"^\\=\\w",e:"\\=cut",eW:!0},i,{cN:"string",c:r,v:[{b:"q[qwxr]?\\s*\\(",e:"\\)",r:5},{b:"q[qwxr]?\\s*\\[",e:"\\]",r:5},{b:"q[qwxr]?\\s*\\{",e:"\\}",r:5},{b:"q[qwxr]?\\s*\\|",e:"\\|",r:5},{b:"q[qwxr]?\\s*\\<",e:"\\>",r:5},{b:"qw\\s+q",e:"q",r:5},{b:"'",e:"'",c:[e.BE]},{b:'"',e:'"'},{b:"`",e:"`",c:[e.BE]},{b:"{\\w+}",c:[],r:0},{b:"-?\\w+\\s*\\=\\>",c:[],r:0}]},{cN:"number",b:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",r:0},{b:"(\\/\\/|"+e.RSR+"|\\b(split|return|print|reverse|grep)\\b)\\s*",k:"split return print reverse grep",r:0,c:[e.HCM,s,{cN:"regexp",b:"(s|tr|y)/(\\\\.|[^/])*/(\\\\.|[^/])*/[a-z]*",r:10},{cN:"regexp",b:"(m|qr)?/",e:"/[a-z]*",c:[e.BE],r:0}]},{cN:"sub",bK:"sub",e:"(\\s*\\(.*?\\))?[;{]",r:5},{cN:"operator",b:"-\\w\\b",r:0}];return n.c=a,i.c=a,{k:t,c:a}}),hljs.registerLanguage("objectivec",function(e){var t={keyword:"int float while char export sizeof typedef const struct for union unsigned long volatile static bool mutable if do return goto void enum else break extern asm case short default double register explicit signed typename this switch continue wchar_t inline readonly assign self synchronized id nonatomic super unichar IBOutlet IBAction strong weak @private @protected @public @try @property @end @throw @catch @finally @synthesize @dynamic @selector @optional @required",literal:"false true FALSE TRUE nil YES NO NULL",built_in:"NSString NSDictionary CGRect CGPoint UIButton UILabel UITextView UIWebView MKMapView UISegmentedControl NSObject UITableViewDelegate UITableViewDataSource NSThread UIActivityIndicator UITabbar UIToolBar UIBarButtonItem UIImageView NSAutoreleasePool UITableView BOOL NSInteger CGFloat NSException NSLog NSMutableString NSMutableArray NSMutableDictionary NSURL NSIndexPath CGSize UITableViewCell UIView UIViewController UINavigationBar UINavigationController UITabBarController UIPopoverController UIPopoverControllerDelegate UIImage NSNumber UISearchBar NSFetchedResultsController NSFetchedResultsChangeType UIScrollView UIScrollViewDelegate UIEdgeInsets UIColor UIFont UIApplication NSNotFound NSNotificationCenter NSNotification UILocalNotification NSBundle NSFileManager NSTimeInterval NSDate NSCalendar NSUserDefaults UIWindow NSRange NSArray NSError NSURLRequest NSURLConnection UIInterfaceOrientation MPMoviePlayerController dispatch_once_t dispatch_queue_t dispatch_sync dispatch_async dispatch_once"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,i="@interface @class @protocol @implementation";return{k:t,l:n,i:"</",c:[e.CLCM,e.CBLCLM,e.CNM,e.QSM,{cN:"string",b:"'",e:"[^\\\\]'",i:"[^\\\\][^']"},{cN:"preprocessor",b:"#import",e:"$",c:[{cN:"title",b:'"',e:'"'},{cN:"title",b:"<",e:">"}]},{cN:"preprocessor",b:"#",e:"$"},{cN:"class",b:"("+i.split(" ").join("|")+")\\b",e:"({|$)",k:i,l:n,c:[e.UTM]},{cN:"variable",b:"\\."+e.UIR,r:0}]}}),hljs.registerLanguage("coffeescript",function(e){var t={keyword:"in if for while finally new do return else break catch instanceof throw try this switch continue typeof delete debugger super then unless until loop of by when and or is isnt not",literal:"true false null undefined yes no on off",reserved:"case default function var void with const let enum export import native __hasProp __extends __slice __bind __indexOf",built_in:"npm require console print module exports global window document"},n="[A-Za-z$_][0-9A-Za-z$_]*",i=e.inherit(e.TM,{b:n}),o={cN:"subst",b:/#\{/,e:/}/,k:t},s=[e.BNM,e.inherit(e.CNM,{starts:{e:"(\\s*/)?",r:0}}),{cN:"string",v:[{b:/'''/,e:/'''/,c:[e.BE]},{b:/'/,e:/'/,c:[e.BE]},{b:/"""/,e:/"""/,c:[e.BE,o]},{b:/"/,e:/"/,c:[e.BE,o]}]},{cN:"regexp",v:[{b:"///",e:"///",c:[o,e.HCM]},{b:"//[gim]*",r:0},{b:"/\\S(\\\\.|[^\\n])*?/[gim]*(?=\\s|\\W|$)"}]},{cN:"property",b:"@"+n},{b:"`",e:"`",eB:!0,eE:!0,sL:"javascript"}];return o.c=s,{k:t,c:s.concat([{cN:"comment",b:"###",e:"###"},e.HCM,{cN:"function",b:"("+n+"\\s*=\\s*)?(\\(.*\\))?\\s*\\B[-=]>",e:"[-=]>",rB:!0,c:[i,{cN:"params",b:"\\(",rB:!0,c:[{b:/\(/,e:/\)/,k:t,c:["self"].concat(s)}]}]},{cN:"class",bK:"class",e:"$",i:/[:="\[\]]/,c:[{bK:"extends",eW:!0,i:/[:="\[\]]/,c:[i]},i]},{cN:"attribute",b:n+":",e:":",rB:!0,eE:!0,r:0}])}}),hljs.registerLanguage("nginx",function(e){var t={cN:"variable",v:[{b:/\$\d+/},{b:/\$\{/,e:/}/},{b:"[\\$\\@]"+e.UIR}]},n={eW:!0,l:"[a-z/_]+",k:{built_in:"on off yes no true false none blocked debug info notice warn error crit select break last permanent redirect kqueue rtsig epoll poll /dev/poll"},r:0,i:"=>",c:[e.HCM,{cN:"string",c:[e.BE,t],v:[{b:/"/,e:/"/},{b:/'/,e:/'/}]},{cN:"url",b:"([a-z]+):/",e:"\\s",eW:!0,eE:!0},{cN:"regexp",c:[e.BE,t],v:[{b:"\\s\\^",e:"\\s|{|;",rE:!0},{b:"~\\*?\\s+",e:"\\s|{|;",rE:!0},{b:"\\*(\\.[a-z\\-]+)+"},{b:"([a-z\\-]+\\.)+\\*"}]},{cN:"number",b:"\\b\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}(:\\d{1,5})?\\b"},{cN:"number",b:"\\b\\d+[kKmMgGdshdwy]*\\b",r:0},t]};return{c:[e.HCM,{b:e.UIR+"\\s",e:";|{",rB:!0,c:[e.inherit(e.UTM,{starts:n})],r:0}],i:"[^\\s\\}]"}}),hljs.registerLanguage("json",function(e){var t={literal:"true false null"},n=[e.QSM,e.CNM],i={cN:"value",e:",",eW:!0,eE:!0,c:n,k:t},o={b:"{",e:"}",c:[{cN:"attribute",b:'\\s*"',e:'"\\s*:\\s*',eB:!0,eE:!0,c:[e.BE],i:"\\n",starts:i}],i:"\\S"},s={b:"\\[",e:"\\]",c:[e.inherit(i,{cN:null})],i:"\\S"};return n.splice(n.length,0,o,s),{c:n,k:t,i:"\\S"}}),hljs.registerLanguage("apache",function(e){var t={cN:"number",b:"[\\$%]\\d+"};return{cI:!0,c:[e.HCM,{cN:"tag",b:"</?",e:">"},{cN:"keyword",b:/\w+/,r:0,k:{common:"order deny allow setenv rewriterule rewriteengine rewritecond documentroot sethandler errordocument loadmodule options header listen serverroot servername"},starts:{e:/$/,r:0,k:{literal:"on off all"},c:[{cN:"sqbracket",b:"\\s\\[",e:"\\]$"},{cN:"cbracket",b:"[\\$%]\\{",e:"\\}",c:["self",t]},t,e.QSM]}}],i:/\S/}}),hljs.registerLanguage("cpp",function(e){var t={keyword:"false int float while private char catch export virtual operator sizeof dynamic_cast|10 typedef const_cast|10 const struct for static_cast|10 union namespace unsigned long throw volatile static protected bool template mutable if public friend do return goto auto void enum else break new extern using true class asm case typeid short reinterpret_cast|10 default double register explicit signed typename try this switch continue wchar_t inline delete alignof char16_t char32_t constexpr decltype noexcept nullptr static_assert thread_local restrict _Bool complex _Complex _Imaginary",built_in:"std string cin cout cerr clog stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap array shared_ptr abort abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf"};return{aliases:["c"],k:t,i:"</",c:[e.CLCM,e.CBLCLM,e.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},e.CNM,{cN:"preprocessor",b:"#",e:"$",c:[{b:"include\\s*<",e:">",i:"\\n"},e.CLCM]},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:t,r:10,c:["self"]}]}}),hljs.registerLanguage("makefile",function(e){var t={cN:"variable",b:/\$\(/,e:/\)/,c:[e.BE]};return{c:[e.HCM,{b:/^\w+\s*\W*=/,rB:!0,r:0,starts:{cN:"constant",e:/\s*\W*=/,eE:!0,starts:{e:/$/,r:0,c:[t]}}},{cN:"title",b:/^[\w]+:\s*$/},{cN:"phony",b:/^\.PHONY:/,e:/$/,k:".PHONY",l:/[\.\w]+/},{b:/^\t+/,e:/$/,c:[e.QSM,t]}]}}))})(window);

// source/locale/en-US/english.js
enyo.singleton({name:"Master.lang.en",kind:null,menu:{SIGN_IN:"Log in",REGISTER:"Register",API_LIST:"API List",API_NEW:"Add New Api",CATEGORY_LIST:"API Categories",PERSONAL_INFO:"Personal Center"},title:{APP_NAME:"ENYO APP DEMO",LOGO_TEXT:"Developer Platform Api Browser",API_CATALOG:"API Catalog",API_DESCRIPTION:"Summary",API_REQUEST:"Request",API_RESPONSE:"Response",API_EXAMPLES:"Example",API_QUESTIONS:"Questions & Answers",API_REQUEST_EXAMPLE:"Request Example",API_RESPONSE_EXAMPLE:"Response Example",API_REQUEST_HEADERS:"Request Headers",API_REQUEST_PAYLOAD:"Payload",API_RESPONSE_HEADERS:"Reponse Headers",API_RESPONSE_BODY:"Response Result",API_REQUEST_PARAMS:"API Arguments",API_RESPONSE_PARAMS:"Response Comments",DIALOG_ALERT_ERROR:"Alert Error"},nav:{HOME:"Home",OFFICIAL_SITE:"PingAn China"},content:{TABLE_API_PARAMS_NAME:"Field",TABLE_API_PARAMS_NAMEDESC:"Field Desc",TABLE_API_PARAMS_VALUE:"Value",TABLE_API_PARAMS_REQUIRED:"Is Required",TABLE_API_PARAMS_DESC:"Description"},legend:{},label:{REFINE_SEARCH:"Refine your search",TABLE_API_QUESTION:"Q: ",TABLE_API_ANSWER:"A: ",ACTION_ADD:"Add New",ACTION_EDIT:"Edit",ACTION_REMOVE:"Remove",ACTION_SUBMIT:"Submit",ACTION_RESET:"Reset"},button:{SEARCH:"Search"},tooltip:{},placeholder:{SEARCH_HINT:"Type keywords to search!"},validationMsg:{ALLOWEMPTY:"",REQUIRED:"it's required field!",EMAIL:"email format is not correct!",HASH:"format incorrect the character only can be [a-z,A-Z,0-9,-_%]",DROPDOWNLIST:"please choose one item!",NUMBER:"only number can be allowed"},message:{SUCCESS:"successfull!",HTTP_404:"404 not found!",HTTP_500:"500 internal error!",HTTP_405:"405 Method Not Allowed!",HTTP_400:"400 Bad request!",HTTP_401:"Access Denied!",LOAD_CATEGORIES:"Loading categroies....",LOAD_CATEGORY_DETAIL:"Loading api details...",LOAD_PORFILE_MENUS:"Loading profile menus...",LOAD_API_LIST:"Loading api list..."}});

// source/locale/zh-CN/chinese.js
enyo.singleton({name:"Master.lang.zh",kind:null,menu:{SIGN_IN:"\u767b\u9646",REGISTER:"\u6ce8\u518c",API_LIST:"\u6587\u6863\u5217\u8868\u7ba1\u7406",API_NEW:"\u6dfb\u52a0\u65b0API",CATEGORY_LIST:"\u6587\u6863\u5206\u7c7b\u7ba1\u7406",PERSONAL_INFO:"\u4e2a\u4eba\u4fe1\u606f\u7ba1\u7406"},title:{APP_NAME:"ENYO \u5e94\u7528\u7a0b\u5e8f\uff01",LOGO_TEXT:"\u5e73\u5b89\u4ed8\u5f00\u53d1\u8005API\u6d4f\u89c8\u5668",API_CATALOG:"API\u5206\u7c7b",API_DESCRIPTION:"\u6982\u8ff0",API_REQUEST:"\u8bf7\u6c42",API_RESPONSE:"\u54cd\u5e94",API_EXAMPLES:"\u793a\u4f8b",API_QUESTIONS:"\u95ee\u9898\u89e3\u7b54",API_REQUEST_EXAMPLE:"\u8bf7\u6c42\u793a\u4f8b",API_RESPONSE_EXAMPLE:"\u54cd\u5e94\u793a\u4f8b",API_REQUEST_HEADERS:"\u8bf7\u6c42\u5934",API_REQUEST_PAYLOAD:"\u8bf7\u6c42\u8d1f\u8f7d",API_RESPONSE_HEADERS:"\u54cd\u5e94\u5934",API_RESPONSE_BODY:"\u54cd\u5e94\u7ed3\u679c",API_REQUEST_PARAMS:"\u63a5\u53e3\u53c2\u6570",API_RESPONSE_PARAMS:"\u54cd\u5e94\u53c2\u6570",DIALOG_ALERT_ERROR:"\u51fa\u9519\u4e86"},nav:{HOME:"\u9996\u9875",OFFICIAL_SITE:"\u5e73\u5b89\u5b98\u7f51"},content:{TABLE_API_PARAMS_NAME:"\u5b57\u6bb5",TABLE_API_PARAMS_NAMEDESC:"\u5b57\u6bb5\u540d",TABLE_API_PARAMS_VALUE:"\u53d6\u503c",TABLE_API_PARAMS_REQUIRED:"\u5fc5\u586b",TABLE_API_PARAMS_DESC:"\u63cf\u8ff0"},legend:{},label:{REFINE_SEARCH:"\u641c\u7d22\u9009\u9879",TABLE_API_QUESTION:"\u95ee\u9898: ",TABLE_API_ANSWER:"\u56de\u7b54: ",ACTION_ADD:"\u6dfb\u52a0",ACTION_EDIT:"\u7f16\u8f91",ACTION_REMOVE:"\u5220\u9664",ACTION_SUBMIT:"\u63d0\u4ea4",ACTION_RESET:"\u91cd\u7f6e"},button:{SEARCH:"\u641c\u7d22"},tooltip:{},placeholder:{SEARCH_HINT:"\u8bf7\u8f93\u5165API\u540d\u5b57\uff01"},validationMsg:{ALLOWEMPTY:"",REQUIRED:"\u5fc5\u586b\u5b57\u6bb5!",EMAIL:"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e!",HASH:"\u683c\u5f0f\u4e0d\u6b63\u786e\u53ea\u80fd\u4e3a[a-z,A-Z,0-9,-_%]\u4e2d\u7684\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u5b57\u7b26",DROPDOWNLIST:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u7279\u5b9a\u7684\u5143\u7d20!",NUMBER:"\u8f93\u5165\u53ea\u80fd\u4e3a\u7eaf\u6570\u5b57\uff01"},message:{SUCCESS:"\u6210\u529f\u4e86!",HTTP_404:"404 \u670d\u52a1\u4e0d\u5b58\u5728!",HTTP_500:"500 \u5185\u90e8\u9519\u8bef!",HTTP_405:"\u65b9\u6cd5\u4e0d\u88ab\u5141\u8bb8!",HTTP_400:"400 \u5931\u8d25\u7684\u8bf7\u6c42\uff01",HTTP_401:"\u8bbf\u95ee\u6743\u9650\u8ba4\u8bc1\u5931\u8d25\uff01",LOAD_CATEGORIES:"\u52a0\u8f7dAPI\u5206\u7c7b\u5217\u8868...",LOAD_CATEGORY_DETAIL:"\u52a0\u8f7dAPI\u8be6\u60c5...",LOAD_PORFILE_MENUS:"\u52a0\u8f7dProfile\u83dc\u5355\u5217\u8868...",LOAD_API_LIST:"\u52a0\u8f7dAPI \u5217\u8868\u4fe1\u606f..."}});

// source/locale/Locale.js
(function(e){e.kind({name:"Master.Locale",kind:"enyo.Object",mixins:["Master.ClassSupport"],_destLocaleLang:null,published:{supportedLang:[{"zh-CN":"zh"},{"en-US":"en"}]},constructor:function(){this._defaultLocale=arguments[0]&&"zh-CN",this.setLocaleLanguage()},setLanguage:function(e){Master.storage.add("language",{val:e}),this.setLocaleLanguage()},getLanguage:function(){var e=Master.storage.get("language");return e&&e.val||this._defaultLocale},setLocaleLanguage:function(){var e=this.getLanguage(),t=e||navigator.language||navigator.browserLanguage||navigator.systemLanguage;this.zLog("current dest locale lang: "+t),this.getLocaleInstance(t)||(this.zWarn("get locale instance failed! current lang: "+t),this.getLocaleInstance(this._defaultLocale))},getLocaleInstance:function(e){for(var t=!1,n=0;this.supportedLang.length>n;n++){var i=this.supportedLang[n][e];if(i){this._destLocaleLang=Master.lang[i],this.lang=e,t=!0;break}}return t},get:function(e,t){var n="";return n=t?this._destLocaleLang[t][e]:this._destLocaleLang[e],n===void 0&&this.zError("get locale failed:  key: "+e+" context: "+t+" lang:"+this.lang),n}}),Master.locale=new Master.Locale("zh-CN")})(enyo);

// lib/widgets/ui/base/Spinner.js
enyo.kind({name:"widgets.base.Spinner",classes:"spinner",mixins:["Master.ClassSupport"],published:{message:"Loading...",size:30},components:[{tag:"i",name:"spinner",classes:"icon-spinner icon-spin icon-2x pull-left"},{name:"message",classes:"message"}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.messageChanged(),this.sizeChanged()}}),sizeChanged:function(){var e=this.getSizeClass(this.size);this.$.spinner.addClass(e)},messageChanged:function(){var e=this.getSizeClass(this.size);this.$.message.addClass(e),this.$.message.setContent(this.message)},getSizeClass:function(e){return"size-"+e}});

// lib/widgets/ui/base/SpinnerBlock.js
enyo.kind({name:"widgets.base.SpinnerBlock",classes:"spinner-block layer",mixins:["Master.ClassSupport"],published:{message:"Loading...",size:"normal"},components:[{name:"wrapper",classes:"wrapper",components:[{name:"loadingWrapper",classes:"loading-wrapper",components:[{name:"loading",classes:"loading",components:[{name:"spinnerAnimate",classes:"spinner-animation"},{name:"spinnerLogo",classes:"spinner-logo"}]},{name:"message",classes:"message",content:this.message}]}]}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.messageChanged(),this.$.wrapper.addClass(this.size)}}),messageChanged:function(){this.$.message.setContent(this.message)},reflow:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.adjustPosition()}}),showingChanged:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.adjustPosition()}}),adjustPosition:function(){var e=this.getBounds(),t=e.width,n=e.height;this.applyStyle("margin-left",-(t/2)+"px"),this.applyStyle("margin-top",-(n/2)+"px")}});

// lib/widgets/ui/layout/TwoColumnDivision.js
enyo.kind({name:"widgets.layout.TwoColumnDivision",classes:"widgets-layout-twocolumn",events:{onContainerRendered:""},published:{leftDock:[],rightContent:[],config:{leftDock:"",rightContent:""},dockMinWidth:220,dockMaxWidth:600,draggable:!0,minHeight:400},mixins:["Master.ClassSupport"],handlers:{ondragstart:"dragstart",ondrag:"drag",ondragfinish:"dragfinish"},components:[{kind:"Animator",onStep:"step",onEnd:"completed"},{classes:"container-three",components:[{name:"containerDock",classes:"container-two",components:[{name:"containerOne",classes:"container-one",components:[{name:"colDock",classes:"coldock-wrapper"},{name:"dragbar",classes:"coldrag-handler"},{name:"colContent",classes:"colmain-wrapper",components:[{name:"colmain",classes:"col-main"}]}]}]}]}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.dragComponentName="dragbar",this.leftDockChanged(),this.rightContentChanged()}}),setDockContent:function(e){var t=this.config&&this.config.leftDock||"colDock",n=this.$[t];n?(n.destroyClientControls(),n.createClientComponents(e),n.render()):this.zError("can't find the specified left dock component!")},setMainContent:function(e){var t=this.config&&this.config.rightContent||"colmain",n=this.$[t];n?(n.destroyClientControls(),n.createClientComponents(e),n.render()):this.zError("can't find the specified right content component!"),enyo.job("reflowPageLayout",this.bindSafely("reflowPageLayout"),100)},getDockControls:function(){var e=this.config&&this.config.leftDock||"colDock",t=this.$[e];return t?t.getControls():(this.zError("can't find the specified left dock component!"),void 0)},getMainContentControls:function(){var e=this.config&&this.config.rightContent||"colmain",t=this.$[e];return t?t.getControls():(this.zError("can't find the specified right content component!"),void 0)},findControlByName:function(e){var t=this.$[e];return t},updateStyles:function(e){for(var t in e)this.$.dragbar.applyStyle(t,e[t]),this.$.colContent.applyStyle(t,e[t])},leftDockChanged:function(){this.$.colDock.destroyClientControls(),this.$.colDock.createClientComponents(this.leftDock),this.$.colDock.render()},rightContentChanged:function(){this.$.colmain.destroyClientControls(),this.$.colmain.createClientComponents(this.rightContent),this.$.colmain.render()},rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.reflowPageLayout()}}),reflow:enyo.inherit(function(e){return function(){e.apply(this,arguments),enyo.job("reflowPageLayout",this.bindSafely("reflowPageLayout"),500)}}),reflowPageLayout:function(){this.zLog("test relfow pagelayout execute counts.."),this.adjustColumnPosition()},dragstart:function(e,t){return this.draggable&&this.canAllowDrag(t)?(t.preventDefault(),this.calcDragPosition(),this.dragging=!0,!0):void 0},calcDragPosition:function(){this.dockNowWidth=this.$.colDock.getBounds().width},adjustColumnPosition:function(){var e=this.$.colDock.getBounds(),t=this.$.colmain.getBounds(),n=this.$.dragbar.getBounds(),i=this.getBounds(),o=e.height,s=t.height;e.width,t.width;var r=Math.max(o,s,this.minHeight);this.$.dragbar.applyStyle("height",r+"px"),this.$.colContent.applyStyle("width",i.width-e.width-n.width+"px"),this.$.colContent.applyStyle("min-height",r+"px"),this.doContainerRendered({height:r})},canAllowDrag:function(e){var t=e.originator;return t&&t.name==this.dragComponentName?!0:!1},drag:function(e,t){return this.dragging?(this.dragTransition(t),!0):void 0},dragTransition:function(e){var t=this.calcKnobPosition(e);this.updatePosition(t)},calcKnobPosition:function(e){var t={direction:e.dx>0?"right":"left",distance:Math.abs(e.dx)};return t},updatePosition:function(e){if("left"==e.direction){var t=this.dockNowWidth-e.distance;t>this.dockMinWidth&&(this.$.dragbar.applyStyle("left",-t+"px"),this.$.colDock.applyStyle("width",t+"px"),this.$.colDock.applyStyle("left",-t+"px"),this.$.containerDock.applyStyle("left",t+"px"))}else{var n=this.dockNowWidth+e.distance;this.dockMaxWidth>n&&(this.$.dragbar.applyStyle("left",-n+"px"),this.$.colDock.applyStyle("width",n+"px"),this.$.colDock.applyStyle("left",-n+"px"),this.$.containerDock.applyStyle("left",n+"px"))}this.adjustColumnPosition()},dragfinish:function(e,t){this.dragging&&(this.dragging=!1,t.preventTap(),this.calcDragPosition())}});

// lib/widgets/ui/dialog/Dialog.js
enyo.kind({name:"widgets.dialog.Dialog",kind:"onyx.Popup",classes:"widget-dialog",scrim:!0,centered:!0,floating:!0,autoDismiss:!1,allowHtml:!0,modal:!0,published:{title:"",message:"",headerComponents:[],contentComponents:[],footerComponents:[]},components:[{name:"header",classes:"widget-dialog-header",components:this.headerComponents},{name:"client",classes:"widget-dialog-body",components:this.contentComponents},{name:"footer",classes:"widget-dialog-footer",components:this.footerComponents}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.headerComponentsChanged(),this.contentComponentsChanged(),this.footerComponentsChanged(),this.titleChanged(),this.messageChanged()}}),titleChanged:function(){this.$.header.setContent(this.title)},messageChanged:function(){this.$.client.setContent(this.message)},headerComponentsChanged:function(){this.$.header.destroyClientControls(),this.$.header.createClientComponents(this.headerComponents)},contentComponentsChanged:function(){this.$.client.destroyClientControls(),this.$.client.createClientComponents(this.contentComponents)},footerComponentsChanged:function(){this.$.footer.destroyClientControls(),this.$.footer.createClientComponents(this.footerComponents)},getDialogBodyControls:function(){return this.$.client},getDialogFooterControls:function(){return this.$.footer},hide:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.destroy()}})});

// lib/widgets/ui/dialog/AlertDialog.js
enyo.kind({name:"widgets.dialog.AlertDialog",kind:"widgets.dialog.Dialog",classes:"dialog-alert",published:{success:enyo.nop,okButtonText:"Ok"},events:{onConfirm:""},footerComponents:[{name:"okButtn",kind:"onyx.Button",ontap:"wasConfirmed",content:this.okButtonText}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.okButtonTextChanged()}}),showingChanged:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.applyStyle("margin-left",-(this.getBounds().width/2)+"px")}}),okButtonTextChanged:function(){this.$.okButtn.setContent(this.okButtonText)},wasConfirmed:function(){this.log("widget.dialog.alert.wasConfirmed"),this.doConfirm(),this.success&&this.success(),this.hide()}});

// lib/widgets/ui/dialog/ConfirmDialog.js
enyo.kind({name:"widgets.dialog.ConfirmDialog",kind:"widgets.dialog.Dialog",classes:"dialog-confirm",published:{confirmText:"Yes",cancelText:"Cancel",success:enyo.nop,failure:enyo.nop},events:{onConfirm:"",onCancel:""},footerComponents:[{name:"cancel",kind:"onyx.Button",classes:"cancel",ontap:"wasCancelled",content:this.cancelText},{name:"confirm",kind:"onyx.Button",classes:"confirm",ontap:"wasConfirmed",content:this.confirmText}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.confirmTextChanged(),this.cancelTextChanged()}}),showingChanged:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.applyStyle("margin-left",-(this.getBounds().width/2)+"px")}}),cancelTextChanged:function(){this.$.cancel.setContent(this.cancelText)},confirmTextChanged:function(){this.$.confirm.setContent(this.confirmText)},wasConfirmed:function(){this.log("widget.dialog.confirm"),this.doConfirm(),this.success&&this.success(),this.hide()},wasCancelled:function(){this.log("widget.dialog.cancel"),this.doCancel(),this.failure&&this.failure(),this.hide()}});

// lib/widgets/ui/dialog/SpinnerDialog.js
enyo.kind({name:"widgets.dialog.SpinnerDialog",kind:"onyx.Popup",classes:"dialog-spinner",scrim:!0,centered:!0,autoDismiss:!1,allowHtml:!0,floating:!0,modal:!0,published:{message:"Loading...",size:30},components:[{name:"spinner",kind:"onyx.Spinner"},{name:"message",classes:"message"}],create:enyo.inherit(function(e){return function(){this._count=0,this._messages=[],e.apply(this,arguments),this.messageChanged()}}),showingChanged:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.reflowDialogUI()}}),reflowDialogUI:function(){this.applyStyle("margin-left",-(this.getBounds().width/2)+"px")},sizeChanged:function(){var e=this.getSizeClass(this.size);this.$.spinner.addClass(e)},messageChanged:function(){this.$.message.setContent(this.message),this.reflowDialogUI()},getSizeClass:function(e){return"size-"+e},show:enyo.inherit(function(e){return function(t){e.apply(this,arguments),this._count++;var n=this._getUid();return this._messages.push({uid:n,message:t||this.message}),n}}),_removeMessage:function(e){for(var t=!1,n=0,i=0;this._messages.length>i;i++){var o=this._messages[i];if(o.uid==e){t=!0,n=i;break}}return t&&this._messages.splice(n,1),t},_getUid:function(){return enyo.uid("alert_spinner_")},hide:enyo.inherit(function(e){return function(t){var n=this._removeMessage(t);return n?(this._count--,this.message=this._messages.length&&this._messages[0].message,this.messageChanged(),this.log("_messages: ",this._messages)):this.warn("can't find spinner message!: "+t),0>=this._count?(e.apply(this,arguments),this.destroy(),!0):!1}})});

// lib/widgets/ui/dialog/NormalDialog.js
enyo.kind({name:"widgets.dialog.NormalDialog",kind:"widgets.dialog.Dialog",classes:"dialog-normal",headerComponents:[{name:"headerTitle",classes:"header-title"},{name:"close",tag:"button",classes:"close",ontap:"closeDialog",content:"\u00d7"}],contentComponents:[{name:"container",allowHtml:!0,tag:"div",content:""}],published:{htmlContent:""},htmlContentChanged:function(){this.$.container.setContent(this.htmlContent)},titleChanged:function(){this.$.headerTitle.setContent(this.title)},closeDialog:function(){return this.hide(),!0},showingChanged:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.reflowDialogUI()}}),reflowDialogUI:function(){this.applyStyle("margin-left",-(this.getBounds().width/2)+"px"),this.applyStyle("margin-top",-(this.getBounds().height/2)+"px")}});

// lib/widgets/ui/dialog/HtmlEditor.js
enyo.kind({name:"widgets.dialog.HtmlEditor",kind:"widgets.dialog.Dialog",classes:"dialog-htmleditor",contentComponents:[{name:"markItUp",kind:"Master.TextEditor"}],mixins:["Master.ClassSupport"],published:{confirmText:"Confirm",cancelText:"Cancel",htmlContent:"",confirmHandler:""},footerComponents:[{name:"confirm",ontap:"confirmTap",classes:"confirm",kind:"onyx.Button"},{name:"cancel",ontap:"cancelTap",classes:"cancel",kind:"onyx.Button"}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.confirmTextChanged(),this.cancelTextChanged(),this.htmlContentChanged()}}),confirmTextChanged:function(){this.$.confirm.setContent(this.confirmText)},cancelTextChanged:function(){this.$.cancel.setContent(this.cancelText)},htmlContentChanged:function(){this.setEditorContent(this.htmlContent)},show:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.$.markItUp.markItUp()}}),confirmTap:function(){if(this.confirmHandler){var e=this.getEditorContent();this.confirmHandler(e)}return this.hide(),!0},cancelTap:function(){return this.hide(),!0},setEditorContent:function(e){this.$.markItUp.setEditorContent(e)},getEditorContent:function(){return this.$.markItUp.getEditorContent()}});

// lib/widgets/ui/dialog/IframeDialog.js
enyo.kind({name:"widgets.dialog.IframeDialog",kind:"widgets.dialog.Dialog",classes:"dialog-iframe",mixins:["Master.ClassSupport"],published:{iframeSrc:"",postMessageFn:enyo.nop},headerComponents:[{name:"headerTitle",classes:"header-title"},{name:"close",tag:"button",classes:"close",ontap:"closeDialog",content:"\u00d7"}],contentComponents:[{name:"spinner",classes:"iframe-spinner",kind:"widgets.base.SpinnerBlock",message:"initializing..."},{name:"iframe",showing:!1,attributes:{scrolling:"no"},tag:"iframe",classes:"iframe"}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this._postMessageScopeFn=this.bindSafely("postMessageFn"),enyo.dispatcher.listen(window,"message",this._postMessageScopeFn),this.iframeSrcChanged()}}),rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.bindHtmlEvent()}}),bindHtmlEvent:function(){var e=this.$.iframe;if(this.$.spinner,e.hasNode()){var t=e.node;this._iframeLoadedScopeFn=this.bindSafely("iframeLoaded"),enyo.dispatcher.listen(t,"load",this._iframeLoadedScopeFn)}},iframeLoaded:function(){this.$.iframe.setShowing(!0),this.$.spinner.setShowing(!1)},titleChanged:function(){this.$.headerTitle.setContent(this.title)},closeDialog:function(){return enyo.dispatcher.stopListening(window,"message",this._postMessageScopeFn),enyo.dispatcher.stopListening(this.$.iframe.node,"load",this._iframeLoadedScopeFn),this.hide(),!0},show:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.$.spinner.reflow()}}),iframeSrcChanged:function(){this.$.iframe.setAttribute("src",this.iframeSrc)},showingChanged:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.reflowDialogUI()}}),reflowDialogUI:function(){this.applyStyle("margin-left",-(this.getBounds().width/2)+"px"),this.applyStyle("margin-top",-(this.getBounds().height/2)+"px")}});

// lib/widgets/ui/dialog/LoginDialog.js
enyo.kind({name:"widgets.dialog.LoginDialog",kind:"widgets.dialog.IframeDialog",classes:"login-dialog",title:"\u7528\u6237\u767b\u9646",constructed:enyo.inherit(function(e){return function(){this.iframeSrc=utility.getOauthLoginUrl(),e.apply(this,arguments)}}),postMessageFn:function(e){var t=e.data;this.zLog("post message received:",t),setTimeout(this.bindSafely("closeDialog"),4e3)},authenticate:function(){}});

// lib/widgets/ui/dialog/NormalLoginDialog.js
enyo.kind({name:"widgets.dialog.NormalLoginDialog",kind:"widgets.dialog.Dialog",classes:"normal-login-dialog",title:"\u7528\u6237\u767b\u9646",mixins:["Master.ClassSupport"],events:{onConfirm:"",onCancel:""},handlers:{onValidationComplete:"formValidationSubmit"},published:{authenticateFn:enyo.nop},contentComponents:[{name:"close",tag:"button",classes:"close",ontap:"closeDialog",content:"\u00d7"},{name:"spinner",size:"small",classes:"ifrtabame-spinner",showing:!1,kind:"widgets.base.SpinnerBlock",message:"authenticating..."},{name:"simpletab",kind:"widgets.custom.SimpleTabs",classes:"header-container",headerComponents:[{content:"\u7528\u6237\u767b\u9646"}],contentComponents:[{formType:"login",submitButtonStyles:"btn btn-primary",submitButtonText:"\u767b\u9646",kind:"widgets.forms.FormDecorator",components:[{kind:"onyx.Groupbox",components:[{classes:"form-item",components:[{classes:"title",content:"\u7528\u6237\u540d: "},{name:"login_username",placeholder:"admin name",kind:"widgets.forms.InputDecorator",tipMessage:"\u7528\u6237\u540d\u79f0\u5fc5\u987b\u586b\u5199\uff01",validation:{required:"\u5fc5\u586b\u5b57\u6bb5\uff01"}}]},{classes:"form-item",components:[{classes:"title",content:"\u7528\u6237\u5bc6\u7801: "},{name:"login_password",placeholder:"password",kind:"widgets.forms.InputDecorator",tipMessage:"\u7528\u6237\u5bc6\u7801\u5fc5\u987b\u586b\u5199\uff01",validation:{required:"\u5fc5\u586b\u5b57\u6bb5\uff01"}}]},{classes:"form-item auth-status",showing:!1,name:"authStatus"}]}]}]}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.init()}}),init:function(){this.showRegisterChanged()},showingChanged:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.reflowDialogUI()}}),showRegisterChanged:function(){this.showRegister||this.$.simpletab.addClass("hide-register-panel")},closeDialog:function(){return this.hide(),!0},setActiveIndex:function(e){this.$.simpletab.setActiveIndex(e)},reflowDialogUI:function(){this.applyStyle("margin-left",-(this.getBounds().width/2)+"px"),this.applyStyle("margin-top",-(this.getBounds().height/2)+"px")},formValidationSubmit:function(e,t){var n=t,i=t.originator,o=i.formType;if(this.zLog("form validation result",n),"success"==n.status&&"login"==o){var s={username:this.$.simpletab.findControlByName("login_username").getValue(),password:this.$.simpletab.findControlByName("login_password").getValue()};this.authenticating(s)}return!0},hideSpinner:function(){this.$.spinner.hide()},showAuthStatus:function(e){var t=this.$.simpletab.findControlByName("authStatus");t.setContent(e),t.show()},authenticating:function(e){this.zLog("user",e);var t=this.$.simpletab.findControlByName("authStatus");t.hide(),this.$.spinner.show(),this.authenticateFn&&this.authenticateFn(e,this)}});

// lib/widgets/ui/dialog/TreeNodeDialog.js
enyo.kind({name:"widgets.dialog.TreeNodeDialog",kind:"widgets.dialog.Dialog",classes:"dialog-treenodedialog",mixins:["Master.ClassSupport"],headerComponents:[{name:"headerTitle",classes:"header-title"},{name:"close",tag:"button",classes:"close",ontap:"closeDialog",content:"\u00d7"}],contentComponents:[{name:"message",kind:"widgets.base.Spinner",message:"Loading..."},{name:"scroller",kind:"Scroller",showing:!1,classes:"scroller-sample-scroller enyo-fit",style:"height: 220px",components:[{name:"tree",kind:"widgets.menus.TreeMenu"}]}],footerComponents:[{name:"cancel",kind:"onyx.Button",classes:"cancel",ontap:"wasCancelled",content:this.cancelText},{name:"confirm",kind:"onyx.Button",classes:"confirm",ontap:"wasConfirmed",content:this.confirmText},{name:"selecteItemText",classes:"treenode-selected",tag:"span"}],published:{success:enyo.nop,source:[],childNodeKey:"childs",selectedItemKey:"hash",selectedItemValue:"",itemConverter:null},events:{onTreeNodeClick:"",onTreeNodeExpandChanged:""},handlers:{onItemClick:"menuItemTap",onItemExpandChanged:"treeNodeExpandChanged"},create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.init()}}),showingChanged:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.reflowDialogUI()}}),init:function(){this.$.tree.set("childNodeKey",this.childNodeKey),this.$.tree.set("selectedItemKey",this.selectedItemKey),this.$.tree.set("selectedItemValue",this.selectedItemValue),this.$.tree.set("itemConverter",this.itemConverter),this.$.headerTitle.setContent(this.title),this.$.cancel.setContent("\u53d6\u6d88"),this.$.confirm.setContent("\u786e\u8ba4"),this.source&&this.source.length&&this.sourceChanged()},sourceChanged:function(){this.$.tree.set("source",this.source),this.$.scroller.show(),this.$.message.hide()},showLoadingStatus:function(){this.$.message.show(),this.$.scroller.hide()},closeDialog:function(){return this.hide(),!0},wasConfirmed:function(e,t){if(this.log("widget.dialog.confirm"),this.success){var t={selectedNode:this.selectedNode};this.success(t)}this.hide()},wasCancelled:function(){return this.log("widget.dialog.cancel"),this.hide(),!0},menuItemTap:function(e,t){return this.selectedNode=t,this.$.selecteItemText.setContent(t.get("content")),this.doTreeNodeClick(this.selectedNode),!0},treeNodeExpandChanged:function(){return this.doTreeNodeExpandChanged(),!0},reflowDialogUI:function(){this.applyStyle("margin-left",-(this.getBounds().width/2)+"px"),this.applyStyle("margin-top",-(this.getBounds().height/2)+"px")}});

// lib/widgets/ui/custom/SimpleTabs.js
enyo.kind({name:"widgets.custom.SimpleTabs",classes:"simple-tabs",mixins:["Master.ClassSupport"],published:{headerComponents:[],contentComponents:[],selectedIndex:0},events:{onTabIndexChanged:""},components:[{kind:"Selection",name:"selection",onSelect:"select",onDeselect:"deselect"},{name:"header",classes:"header-container btn-group"},{name:"content",classes:"tab-content"}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.init()}}),init:function(){this.createTabHeader(),this.createTabContent(),this.highLightDefaultItem()},createTabHeader:function(){for(var e=[],t=0;this.headerComponents.length>t;t++){var n=enyo.clone(this.headerComponents[t]);n.classes=this.selectedIndex==t?"active btn btn-default":"btn btn-default",n.kind="enyo.Button",n.itemIndex=t,n.ontap="tabItemClick",n.name="tab-header-"+t,e.push(n)}this.$.header.createClientComponents(e),this.$.header.render()},createTabContent:function(){for(var e=[],t=0;this.contentComponents.length>t;t++){var n={classes:this.selectedIndex==t?"active content-item":"content-item",itemIndex:t,name:"tab-content-"+t,components:[this.contentComponents[t]]};e.push(n)}this.$.content.createClientComponents(e),this.$.content.render()},findControlByName:function(e){var t=this.$[e];return t},hideTabHeader:function(){this.$.header.hide()},tabItemClick:function(e,t){var n=t.originator,i=n.itemIndex;return this.setActiveIndex(i),!0},setActiveIndex:function(e){var t=this.$["tab-content-"+e];t?this.$.selection.select(t.id,t):this.zError("can't find content item index: `"+itemIndex+"` in SimpleTabs widget!"),this.doTabIndexChanged(e)},getTabContentByIndex:function(e){var t=this.$["tab-content-"+e];return t},highLightDefaultItem:function(e){e=e||this.selectedIndex;var t=this.$.content.getControls(),n=t[e];n?this.$.selection.select(n.id,n):this.zError("can't find content item index: `"+e+"` in SimpleTabs widget!")},select:function(e,t){var n=t.data,i=n.itemIndex,o=this.$["tab-header-"+i];return o&&o.addClass("active"),n&&n.addClass("active"),!0},deselect:function(e,t){var n=t.data,i=n.itemIndex,o=this.$["tab-header-"+i];return o&&o.removeClass("active"),n&&n.removeClass("active"),!0}});

// lib/widgets/ui/forms/mixins/FieldValidationSupport.js
enyo.setPath("widgets.forms.FieldValidationSupport",{name:"widgets.forms.FieldValidationSupport",events:{onFieldValueChanged:"",onRequestValidateSignal:"",onCustomizedValidateControl:""},mixins:["Master.ClassSupport"],isFormFieldControl:!0,handlers:{onItemValidateResult:"fieldValidateResult"},tap:function(){return!0}});

// lib/widgets/ui/forms/SearchForm.js
enyo.kind({name:"widgets.forms.SearchForm",classes:"widget-searchform",mixins:["Master.ClassSupport"],components:[{classes:"search-input",onkeypress:"searchEnterKey",name:"searchTxt",placeholder:Master.locale.get("SEARCH_HINT","placeholder"),kind:"onyx.Input"},{classes:"search-button",ontap:"goSearch",kind:"onyx.Button",content:Master.locale.get("SEARCH","button")},{classes:"show-advanced-search",name:"showAdvancedSearch",ontap:"showSearchFilterPanel",content:Master.locale.get("REFINE_SEARCH","label")},{classes:"search-filter",name:"searchfilter",components:[{kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"},{classes:"search-options radio",kind:"Group",hightlander:!0,onActivate:"groupActivated",components:[{classes:"option",content:"All",kind:"onyx.Checkbox",checked:!0},{classes:"option",content:"Theme",kind:"onyx.Checkbox"},{classes:"option",content:"Modules",kind:"onyx.Checkbox"},{classes:"option",content:"Documents",kind:"onyx.Checkbox"}]}]}],published:{collapsed:!0,maxHeight:void 0,minHeight:void 0},rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.initStyleBounds()}}),initStyleBounds:function(){var e=this.$.searchfilter;if(this.hasNode()&&e.hasNode()){var t=e.getBounds();this.setMaxHeight(t.height),this.setMinHeight(0),this.getCollapsed()&&e.hide()}},searchEnterKey:function(e,t){t.keyCode==KeyBoard.ENTER_KEY&&this.goSearch()},goSearch:function(){var e=this.$.searchTxt.getValue();this.zLog("searchTxt: ",e)},showSearchFilterPanel:function(e){var t=this.getCollapsed();t?this.showSearchFilter(e):this.hideSearchFilter(e)},showSearchFilter:function(){this.$.searchfilter.show(),this.$.animator.play({startValue:this.getMinHeight(),endValue:this.getMaxHeight(),node:this.hasNode(),collapsed:!1}),this.$.showAdvancedSearch.addClass("advanced-search-shown"),this.setCollapsed(!1)},hideSearchFilter:function(){this.$.animator.play({startValue:this.getMaxHeight(),endValue:this.getMinHeight(),node:this.hasNode(),collapsed:!0}),this.$.showAdvancedSearch.removeClass("advanced-search-shown"),this.setCollapsed(!0)},animatorStep:function(e){return this.$.searchfilter.applyStyle("height",e.value+"px"),!0},animatorComplete:function(e,t){return t.originator.collapsed,!0},groupActivated:function(e,t){var n=t.originator;if(n.getActive()){var i=n.getContent();this.zLog("selected: ",i)}return!0}});

// lib/widgets/ui/forms/TableRowList.js
enyo.kind({name:"widgets.forms.TableRowItems",mixins:["Master.ClassSupport"],published:{captionText:[],itemsSource:[],hideFieldItems:[],keyField:"",actions:[],showCheckbox:!0,hasChecked:"_hasChecked",radioModel:!1},classes:"table-row-list",handlers:{onchange:"checkboxChanged",ontap:"tapHandler"},events:{onCheckboxChange:""},create:function(){this.inherited(arguments),this.keyField=this.keyField||"id",this.uid=0,this.genneratedKeyFields(),this.showTableList()},genneratedKeyFields:function(){for(var e=this.itemsSource.length-1;e>=0;e--){var t=this.itemsSource[e];t[this.keyField]||(this.uid++,t[this.keyField]=this.uid)}},tapHandler:function(e){if(e&&"ul"==e.tag){var t=this.getTappedItem(e.keyField);return this.bubble("ontap",enyo.clone(t)),!0}},checkboxChanged:function(e,t){if("ul"==e.tag){var n=t.originator,i=n&&n.getValue()?!0:!1;this.radioModel&&this.$lastCheckbox&&this.$lastSender&&(this.$lastCheckbox.setValue(!1),this.updateItemCheckStatus(this.$lastSender.keyField,!1)),this.$lastCheckbox=n,this.$lastSender=e,this.$lastCheckbox===n&&n.setValue(i);var o=this.getTappedItem(e.keyField,i);this.doCheckboxChange(enyo.clone(o))}},updateItemCheckStatus:function(e,t){for(var n=0;this.itemsSource.length>n;n++){var i=this.itemsSource[n];if(i[this.keyField]==e)return i[this.hasChecked]=t,i}},getTappedItem:function(e,t){var n=this.updateItemCheckStatus(e,t);return n||null},showTableList:function(){this._createTableHeaderRow(this.captionText);for(var e=this.itemsSource.length,t=0;e>t;t++){var n=this.itemsSource[t],i="item";0==t?i="first":t==e-1&&(i="last"),this._createTrItem(n,i)}this.render()},getSelectedItems:function(){for(var e=[],t=this.itemsSource.length-1;t>=0;t--){var n=this.itemsSource[t];n[this.hasChecked]?e.push(n):n[this.hasChecked]=!1}return e},_createTableHeaderRow:function(e){for(var t=[],n=0;e.length>n;n++){var i=e[n];t.push({tag:"li",content:i})}this.createComponent({tag:"ul",classes:"header-row",components:t})},_createTrItem:function(e,t){var n=enyo.clone(e),i=[];this.showCheckbox&&i.push({kind:"widgets.forms.table.Cell",controlType:"checkbox",classes:o,value:!1});for(var o in n)if(o!=this.keyField&&this._needShow(o)){var s=n[o];i.push({kind:"widgets.forms.table.Cell",controlType:"text",classes:o,value:s})}for(var r=0;this.actions.length>r;r++)i.push({kind:"widgets.forms.table.Cell",controlType:"linkbutton",classes:o,value:this.actions[r]});this.createComponent({tag:"ul",classes:t,keyField:n[this.keyField],components:i})},_needShow:function(e){var t=!0;if(this.hideFieldItems.length)for(var n=this.hideFieldItems.length-1;n>=0;n--){var i=this.hideFieldItems[n];if(i==e){t=!1;break}}return t}}),enyo.kind({name:"widgets.forms.table.Cell",tag:"li",published:{value:"",controlType:"text"},handlers:{ontap:"tapHandler"},getClassName:function(e){var e=e||this.value;return enyo.trim(""+e).replace(/\s+/g,"-").toLowerCase()},create:function(){switch(this.inherited(arguments),this.controlType){case"text":this.createComponent({allowHtml:!0,tag:"span",content:this.value});break;case"linkbutton":this.createComponent({tag:"span",classes:"link-button",content:this.value});break;case"checkbox":this.createComponent({kind:"onyx.Checkbox",checked:this.value});break;case"button":this.createComponent({kind:"control.Button",content:this.value})}},tapHandler:function(){}});

// lib/widgets/ui/forms/EditableTable.js
enyo.kind({name:"widgets.forms.EditableTable",classes:"editable-table",mixins:["Master.ClassSupport"],published:{addButtonText:"Add New",removeButtonText:"Remove",headers:[],cells:[],rowsDataSource:[]},components:[{name:"header",tag:"ul",classes:"header-row"}],handlers:{ontap:"actionButtonTap"},create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.cellsChanged(),this.headersChanged()}}),__rowUID:0,cellsChanged:function(){this.redrawInterface()},headersChanged:function(){this._createHeaderRow()},rowsDataSourceChanged:function(){enyo.isArray(this.rowsDataSource)||(this.rowsDataSource=[]),this.removeAllTrItems(),this.redrawInterface()},redrawInterface:function(){if(this.rowsDataSource.length)for(var e=0;this.rowsDataSource.length>e;e++){var t=this.rowsDataSource[e];this._createTrItem(t)}else this._createTrItem();this.render()},getTableJSONResult:function(){for(var e=[],t=this.getControls(),n=0;t.length>n;n++){var i=t[n];if(i.isRowItem===!0){var o=i.getRowJSON();e.push(o)}}return this.zLog("editable json result:",e),e},actionButtonTap:function(e,t){var n=t.originator,i=n.action;if(i)switch(i.toLowerCase()){case"addnew":this.addNewTableEditRow(e,t);break;case"remove":this.removeTableEditRow(e,t)}return!0},addNewTableEditRow:function(){this._createTrItem()},removeTableEditRow:function(e,t){for(var n=t.originator,i=n.rowUID,o=this.getControls(),s=0;o.length>s;s++){var r=o[s];r.isRowItem===!0&&r.rowUID==i&&r.destroy()}},removeAllTrItems:function(){for(var e=this.getControls(),t=0;e.length>t;t++){var n=e[t];n.isRowItem===!0&&n.destroy()}},_createHeaderRow:function(){for(var e=[],t=0;this.headers.length>t;t++){var n=this.headers[t];e.push({tag:"li",classes:"item",content:n})}e.push({tag:"li",components:[{kind:"onyx.Button",classes:"addnewline",action:"addnew",content:this.addButtonText}],kind:"Button",classes:"item"}),this.$.header.destroyClientControls(),this.$.header.createClientComponents(e),this.$.header.render()},_createTrItem:function(e){for(var t=[],n=enyo.clone(this.cells),i=0;n.length>i;i++){var o=n[i];o.value=e&&e[o.key]||"",t.push({tag:"li",item:o,classes:"item",kind:"widgets.forms.editabletable.Cell"})}t.push({tag:"li",components:[{kind:"onyx.Button",classes:"removeline",action:"remove",rowUID:this.__rowUID,content:this.removeButtonText}],kind:"Button",classes:"item"}),this.createComponent({kind:"widgets.forms.editabletable.Row",cellItems:t,rowUID:this.__rowUID}),this.__rowUID++}}),enyo.kind({name:"widgets.forms.editabletable.Row",classes:"item-row",mixins:["Master.ClassSupport"],published:{rowUID:0,cellItems:[]},isRowItem:!0,tag:"ul",handlers:{onRegisterSignal:"attachTabCellControl"},create:enyo.inherit(function(e){return function(){this._cells=[],e.apply(this,arguments),this.cellItemsChanged()}}),attachTabCellControl:function(e,t){var n=t.originator;return this._cells.push(n),!0},cellItemsChanged:function(){this.destroyClientControls(),this.createClientComponents(this.cellItems),this.render()},getRowJSON:function(){for(var e={},t=0;this._cells.length>t;t++){var n=this._cells[t];enyo.mixin(e,n.getCellJson())}return e},destroy:enyo.inherit(function(e){return function(){this._cells.length=0,e.apply(this,arguments)}})}),enyo.kind({name:"widgets.forms.editabletable.Cell",mixins:["Master.ClassSupport"],published:{item:{key:"",controlType:"",value:""}},events:{onRegisterSignal:""},_currentComponent:null,create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.itemChanged(),this.doRegisterSignal()}}),itemChanged:function(){if(this.item){var e=this.item.controlType.toLowerCase();switch(e){case"text":this._currentComponent=this.createComponent({kind:"onyx.Input",type:"text",value:this.item.value});break;case"checkbox":this._currentComponent=this.createComponent({kind:"onyx.Checkbox",checked:this.item.value});break;case"textarea":this._currentComponent=this.createComponent({kind:"onyx.TextArea",value:this.item.value});break;case"htmleditor":this._currentComponent=this.createComponent({kind:"widgets.forms.editabletable.HtmlEditor",value:this.item.value})}}},getCellJson:function(){var e={};return e[this.item.key]=this._getCellValue(),e},_getCellValue:function(){var e="",t=this.item.controlType.toLowerCase();switch(t){case"text":case"textarea":case"checkbox":e=this._currentComponent.getValue();break;case"htmleditor":e=this._currentComponent.getHtmlContent()}return e}}),enyo.kind({name:"widgets.forms.editabletable.HtmlEditor",classes:"editabletable-htmleditor-button",components:[{name:"hideVal",kind:"enyo.Input",type:"hidden"},{kind:"Button",classes:"onyx-more-button"}],mixins:["Master.ClassSupport"],published:{value:""},handlers:{ontap:"showHtmlEditor"},create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.valueChanged()}}),valueChanged:function(){this.$.hideVal.setValue(encodeURIComponent(this.value))},showHtmlEditor:function(){var e=decodeURIComponent(this.getHtmlContent()),t=new widgets.dialog.HtmlEditor({htmlContent:e,confirmHandler:this.bindSafely("saveEditorContent")});return t.show(),!0},saveEditorContent:function(e){var t=encodeURIComponent(e);this.$.hideVal.setValue(t)},getHtmlContent:function(){var e=this.$.hideVal.getValue();return e}});

// lib/widgets/ui/forms/InputDecorator.js
enyo.kind({name:"widgets.forms.InputDecorator",mixins:["widgets.forms.FieldValidationSupport"],handlers:{oninput:"textValueChanged"},classes:"widget-forms-input",published:{type:"text",value:"",tipMessage:"",placeholder:"",validation:{},ajax:""},components:[{kind:"onyx.InputDecorator",components:[{name:"input",kind:"onyx.Input",type:this.type,placeholder:this.placeholder}]},{name:"message",classes:"message",components:[{name:"msgIcon",tag:"i"},{tag:"span",name:"messageTxt",classes:"tip-message"}]}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.doRequestValidateSignal(),this.typeChanged(),this.placeholderChanged(),this.tipMessageChanged(),this.valueChanged(),this._iconSuccessClass="icon-ok",this._iconFailedClass="icon-remove",this._iconAjaxClass="icon-spinner icon-spin"}}),typeChanged:function(){this.$.input.setType(this.type)},valueChanged:function(){this.$.input.setValue(this.value)},placeholderChanged:function(){this.$.input.setPlaceholder(this.placeholder)},tipMessageChanged:function(){this.$.messageTxt.setContent(this.tipMessage)},getValue:function(){return this.$.input.getValue()},setValue:function(e){this.$.input.setValue(e)},gotoValidation:function(e){e=this.getValidationData(e),this.doFieldValueChanged(e)},textValueChanged:function(e,t){var n=t.originator,i={validation:this.validation,value:n.getValue()};return enyo.job("_textinputchangedhandler",this.bindSafely("gotoValidation",i),500),!0},sendCustomizedControlSignal:function(e){this.doCustomizedValidateControl(e)},getValidationData:function(e){return e=e||{validation:this.validation,value:this.$.input.getValue()}},fieldValidateResult:function(e,t){this.zLog("received validation result: ",t);var n=this.validation[t.type]||t.message;return"success"==t.status?(this._showSuccess(),this.ajax&&(this._showAjaxSpinner(),this.ajaxValidation())):this._showError(n),!0},_showError:function(e){var t=this.$.msgIcon,n=this.$.message,i=this.$.messageTxt;n.addClass("failed"),n.removeClass("success"),t.removeClass(this._iconSuccessClass),t.removeClass(this._iconAjaxClass),t.addClass(this._iconFailedClass),i.setContent(e)},_showAjaxSpinner:function(e){var t=this.$.msgIcon,n=this.$.message,i=this.$.messageTxt;n.removeClass("failed"),n.removeClass("success"),t.removeClass(this._iconSuccessClass),t.removeClass(this._iconFailedClass),t.addClass(this._iconAjaxClass),i.setContent(e||"")},_showSuccess:function(){var e=this.$.msgIcon,t=this.$.message;this.$.messageTxt,t.addClass("success"),t.removeClass("failed"),e.removeClass(this._iconFailedClass),e.removeClass(this._iconAjaxClass),e.addClass(this._iconSuccessClass)},ajaxValidation:function(){var e=this.getValue(),t=this.owner||this,n=enyo.isFunction(this.ajax)||t[this.ajax];n&&n.call(t,e,this.bindSafely("_ajaxValidationComplete"))},_ajaxValidationComplete:function(e){this.zLog("result: ",e);var t="faield";"success"==e.status?(t="success",this._showSuccess()):this._showError(e.message),this.sendCustomizedControlSignal({id:this.id,control:this,type:"ajax",status:t})}});

// lib/widgets/ui/forms/TextAreaDecorator.js
enyo.kind({name:"widgets.forms.TextAreaDecorator",mixins:["widgets.forms.FieldValidationSupport"],handlers:{oninput:"textValueChanged"},classes:"widget-forms-textarea",published:{tipMessage:"",placeholder:"",validation:{}},components:[{kind:"onyx.InputDecorator",components:[{name:"input",kind:"onyx.TextArea",placeholder:this.placeholder}]},{name:"message",classes:"message",components:[{name:"msgIcon",tag:"i"},{tag:"span",name:"messageTxt",classes:"tip-message"}]}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.doRequestValidateSignal(),this.placeholderChanged(),this.tipMessageChanged(),this._iconSuccessClass="icon-ok",this._iconFailedClass="icon-remove"}}),placeholderChanged:function(){this.$.input.setPlaceholder(this.placeholder)},tipMessageChanged:function(){this.$.messageTxt.setContent(this.tipMessage)},getValue:function(){return this.$.input.getValue()},setValue:function(e){this.$.input.setValue(e)},gotoValidation:function(e){e=this.getValidationData(e),this.doFieldValueChanged(e)},textValueChanged:function(e,t){var n=t.originator,i={validation:this.validation,value:n.getValue()};return enyo.job("_textinputchangedhandler",this.bindSafely("gotoValidation",i),500),!0},getValidationData:function(e){return e=e||{validation:this.validation,value:this.$.input.getValue()}},fieldValidateResult:function(e,t){this.zLog("received validation result: ",t);var n=this.validation[t.type]||t.message;return"success"==t.status?this._showSuccess():this._showError(n),!0},_showError:function(e){var t=this.$.msgIcon,n=this.$.message,i=this.$.messageTxt;n.addClass("failed"),n.removeClass("success"),t.removeClass(this._iconSuccessClass),t.addClass(this._iconFailedClass),i.setContent(e)},_showSuccess:function(){var e=this.$.msgIcon,t=this.$.message;this.$.messageTxt,t.addClass("success"),t.removeClass("failed"),e.removeClass(this._iconFailedClass),e.addClass(this._iconSuccessClass)}});

// lib/widgets/ui/forms/FormDecorator.js
enyo.kind({name:"widgets.forms.FormDecorator",mixins:["Master.ClassSupport"],events:{onValidationComplete:""},handlers:{onFieldValueChanged:"fieldValueChanged",onRequestValidateSignal:"attachValidationControls",onCustomizedValidateControl:"attachCustomizedValidationControl",ontap:"formButtonTap"},components:[{name:"client",classes:"form-controls"},{classes:"button-wrapper",components:[{kind:"Button",action:"submit",name:"submitBtn",classes:"submit-button"},{kind:"Button",action:"reset",name:"resetBtn",classes:"reset-button"}]}],published:{submitButtonText:Master.locale.get("ACTION_SUBMIT","label"),resetButtonText:Master.locale.get("ACTION_RESET","label"),submitButtonStyles:"",resetButtonStyles:""},create:enyo.inherit(function(e){return function(){this._failedControls=[],this._customizedFailedControls=[],this._attachedValidationControl=[],e.apply(this,arguments),this.submitButtonTextChanged(),this.resetButtonTextChanged(),this.validateFnMapping={required:"requiredValidator",email:"emailValidator",hash:"hashValidator",number:"numberValidator",dropdownlist:"dropDownListValidator"}}}),submitButtonTextChanged:function(){this.$.submitBtn.setContent(this.submitButtonText),this.$.submitBtn.addClass(this.submitButtonStyles)},resetButtonTextChanged:function(){this.$.resetBtn.setContent(this.resetButtonText),this.$.resetBtn.addClass(this.resetButtonStyles)},validate:function(e,t){var n={status:"success",type:"success",message:""},i=t.validation,o=enyo.trim(t.value);if(!this._checkFieldAllowEmpty(i,o))for(var s in i){var r=this[this.validateFnMapping[s]];if(r){var a=r(o);if(a!==!0){this._failedControls.push({control:e,validType:s}),n.type=s,n.message=this.getErrorMessage(s),n.status="failed";break}}else this.zError("current validator have not defined!!")}this.notifyFormFieldControl(e,n)},_checkFieldAllowEmpty:function(e,t){var n=!0;if(enyo.isObject(e))for(var i in e)e.required!==void 0&&(n=!1);return n&&""==t},validateAllControls:function(){this._failedControls.length=0;for(var e=this._attachedValidationControl,t=0;e.length>t;t++){var n=e[t];if(n.isFormFieldControl)if(n.getValidationData){var i=n.getValidationData();this.validate(n,i)}else this.zError("must give interface method: `getValidationData` in "+n.kindName)}return this.zLog("validate failed controls: ",this._failedControls,this._customizedFailedControls),0==this._failedControls.length&&0==this._customizedFailedControls.length},fieldValueChanged:function(e,t){var n=t.originator,i={validation:t.validation,value:t.value};return this.zLog("validation: ",i),this.validate(n,i),!0},notifyFormFieldControl:function(e,t){$sender=e||this,$sender.waterfall("onItemValidateResult",t,this)},submit:function(e){var t={status:"success"};this.validateAllControls()||(t.status="failed",this.zLog("some controls have not passed the validation.")),e&&enyo.isFunction(e)?e(t):this.bubble("onValidationComplete",t,this)},getErrorMessage:function(e){var t="default validate error message!";return t=Master.locale.get(e.toUpperCase(),"validationMsg")||t},formButtonTap:function(e,t){var n=t.originator;switch(n.action){case"submit":this.execSubmitHandler(e,t);break;case"reset":this.execResetHandler(e,t)}return!0},execSubmitHandler:function(){this.submit()},execResetHandler:function(){},attachValidationControls:function(e,t){var n=t.originator;return n.isFormFieldControl===!0?this._attachedValidationControl.push(n):this.warn("have not mixin FieldValidationSupport.."),!0},attachCustomizedValidationControl:function(e,t){this.zLog(t);var n=t.originator,i=t.control,o=t.type,s=t.status,r=t.id,a=null,l=0;if(n.isFormFieldControl===!0){for(var h=0;this._customizedFailedControls.length>h;h++){var c=this._customizedFailedControls[h];if(c.id==r){a=c,l=h;break}}var d={id:r,control:i,validType:o,status:s};"success"==s?a&&this._customizedFailedControls.splice(l,1):a?this._customizedFailedControls.splice(l,1,d):this._customizedFailedControls.push(d),this.zLog("_customizedFailedControls: ",this._customizedFailedControls)}else this.warn("have not mixin FieldValidationSupport..");return!0},requiredValidator:function(e){return utility.isRequired(e)},emailValidator:function(e){return utility.isEmail(e)},hashValidator:function(e){return utility.isHashUrl(e)},numberValidator:function(e){return utility.isNumeric(e)},dropDownListValidator:function(e){return e?!0:!1}});

// lib/widgets/ui/forms/DropdownList.js
enyo.kind({name:"widgets.forms.DropdownList",kind:"onyx.MenuDecorator",classes:"widgets-dropdownlist",mixins:["Master.ClassSupport"],events:{onDropdownItemChanged:""},handlers:{onSelect:"itemSelected"},published:{defaultTitle:"--Please select item--",menuItemComponents:[],key:"id"},components:[{kind:"Selection",name:"selection",onSelect:"select",onDeselect:"deselect"},{components:[{name:"title",classes:"drop-title",content:""},{name:"spinner",showing:!1,classes:"drop-spinner"}]},{name:"menu",kind:"onyx.Menu",classes:"widgets-dropdownlist-menus",floating:!0}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.defaultTitleChanged(),this.menuItemComponentsChanged()}}),defaultTitleChanged:function(){this.$.title.setContent(this.defaultTitle)},select:function(e,t){var n=t.originator;if("enyo.Selection"==n.kindName){var i=t.data;i&&i.addClass("selected")}return!0},deselect:function(e,t){var n=t.originator;if("enyo.Selection"==n.kindName){var i=t.data;i&&i.removeClass("selected")}return!0},showSpinner:function(){this.$.spinner.show()},hideSpinner:function(){this.$.spinner.hide()},getSelectedItem:function(){var e=null,t=this.$.selection.getSelected(),n=t[this._selectedMenuKey];if(n)for(var i=0;this.menuItemComponents.length>i;i++){var o=this.menuItemComponents[i];if(o[this.key]==n[this.key]){e=o;break}}return e},menuItemComponentsChanged:function(){this.$.menu.destroyClientControls(),this.$.menu.createClientComponents(this.menuItemComponents),this.$.menu.render(),this.selectDefaultItem(),this.hideSpinner()},selectDefaultItem:function(){for(var e=this.$.menu.getControls(),t=0;e.length>t;t++){var n=e[t];if(n.selected){n.tap();break}}},itemSelected:function(e,t){var n=t.originator;return"onyx.MenuItem"==n.kindName&&(this.$.title.setContent(n.content),this._selectedMenuKey=n.id,this.$.selection.select(this._selectedMenuKey,n),this.doDropdownItemChanged(this.getSelectedItem())),!0}});

// lib/widgets/ui/forms/DropdownListDecorator.js
enyo.kind({name:"widgets.forms.DropdownListDecorator",kind:"onyx.MenuDecorator",classes:"widgets-dropdownlist",mixins:["Master.ClassSupport","widgets.forms.FieldValidationSupport"],handlers:{onSelect:"itemSelected"},published:{required:!1,tipMessage:"",defaultTitle:"--Please select item--",menuItemComponents:[],key:"id"},components:[{kind:"Selection",name:"selection",onSelect:"select",onDeselect:"deselect"},{components:[{name:"title",classes:"drop-title",content:""},{name:"spinner",showing:!1,classes:"drop-spinner"}]},{name:"message",kind:"enyo.Control",tag:"div",classes:"tip-message",content:""},{name:"menu",kind:"onyx.Menu",classes:"widgets-dropdownlist-menus",floating:!0}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.doRequestValidateSignal(),this.defaultTitleChanged(),this.tipMessageChanged(),this.menuItemComponentsChanged()}}),tipMessageChanged:function(){this.$.message.setContent(this.tipMessage)},defaultTitleChanged:function(){this.$.title.setContent(this.defaultTitle)},gotoValidation:function(e){e=this.getValidationData(e),this.doFieldValueChanged(e)},getValidationData:function(e){return e=e||{validation:{dropdownlist:""},value:this._selectedMenuKey||""},this.required&&(e.validation.required=!0),e},fieldValidateResult:function(e,t){this.zLog("received validation result: ",t);var n=t.message,i=this.$.message;return"success"==t.status?(i.addClass("success"),i.removeClass("failed")):(i.removeClass("success"),i.addClass("failed")),i.setContent(n),!0},select:function(e,t){var n=t.originator;if("enyo.Selection"==n.kindName){var i=t.data;i&&i.addClass("selected")}return!0},deselect:function(e,t){var n=t.originator;if("enyo.Selection"==n.kindName){var i=t.data;i&&i.removeClass("selected")}return!0},showSpinner:function(){this.$.spinner.show()},hideSpinner:function(){this.$.spinner.hide()},getSelectedItem:function(){var e=null,t=this.$.selection.getSelected(),n=t[this._selectedMenuKey];if(n)for(var i=0;this.menuItemComponents.length>i;i++){var o=this.menuItemComponents[i];if(o[this.key]==n[this.key]){e=o;break}}return e},menuItemComponentsChanged:function(){this.$.menu.destroyClientControls(),this.$.menu.createClientComponents(this.menuItemComponents),this.$.menu.render(),this.selectDefaultItem(),this.hideSpinner()},selectDefaultItem:function(){for(var e=this.$.menu.getControls(),t=0;e.length>t;t++){var n=e[t];if(n.selected){n.tap();break}}},itemSelected:function(e,t){this.zLog("inEvent: ",t);var n=t.originator;return"onyx.MenuItem"==n.kindName&&(this.$.title.setContent(n.content),this._selectedMenuKey=n.id,this.$.selection.select(this._selectedMenuKey,n),enyo.job("_dropdownlisthandler",this.bindSafely("gotoValidation"),500)),!0}});

// lib/widgets/ui/forms/Button.js
enyo.kind({name:"widgets.forms.Button",classes:"widgets-form-button",mixins:["Master.ClassSupport"],published:{themeClasses:"btn btn-danger btn-small",text:"Button",iconClasses:"icon-trash",action:"delete"},events:{onFormButtonTap:""},handlers:{ontap:"tap"},components:[{name:"outer",tag:"a",classes:this.themeClasses,components:[{name:"icon",classes:this.iconClasses,tag:"i"},{name:"iconTxt",tag:"span"}]}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.$.outer.addClass(this.themeClasses),this.$.icon.addClass(this.iconClasses),this.$.iconTxt.setContent(this.text)}}),tap:function(){return this.doFormButtonTap({action:this.action}),!0}});

// lib/widgets/ui/lists/Pager.js
enyo.kind({name:"widgets.lists.Pager",mixins:["Master.ClassSupport"],published:{items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:1,hrefTextPrefix:"",hrefTextSuffix:"",dynamicPagerLink:!0,prevText:"Prev",nextText:"Next",ellipseText:"...",cssStyle:"light-theme"},events:{onInit:"",onPageClick:""},handlers:{ontap:"pageNumberTap"},create:enyo.inherit(function(e){return function(){e.apply(this,arguments)}}),init:function(){this.pages=this.pages?this.pages:Math.ceil(this.items/this.itemsOnPage)?Math.ceil(this.items/this.itemsOnPage):1,this.currentPage=this.currentPage?this.currentPage-1:0,this.halfDisplayed=this.displayedPages/2,this._draw(),this.doInit()},reInit:function(){this.pages=0,this.init()},selectPage:function(e){this._selectPage(e-1)},prevPage:function(){this.currentPage>0&&this._selectPage(this.currentPage-1)},nextPage:function(){this.currentPage<this.pages-1&&this._selectPage(this.currentPage+1)},getPagesCount:function(){return this.pages},drawPage:function(e){this.setCurrentPage(e-1),this._draw()},redraw:function(){this._draw()},updateItems:function(e){this.setItems(e),this.setPages(this._getPages()),this._draw()},updateItemsOnPage:function(e){this.setItemsOnPage(e),this.setPages(this._getPages()),this._selectPage(0)},_getPages:function(){var e=Math.ceil(this.getItems()/this.getItemsOnPage());return e||1},_getInterval:function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.pages-this.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.pages):Math.min(this.displayedPages,this.pages))}},_selectPage:function(e){this.setCurrentPage(e),this._draw(),this.doPageClick({pageNumber:e+1,pageSize:this.itemsOnPage})},_draw:function(){this.destroyClientControls();var e=this._getInterval(),t=[];if(this.getPrevText()&&t.push(this._appendItem(this.getCurrentPage()-1,{text:this.getPrevText(),classes:"prev"})),e.start>0&&this.getEdges()>0){var n=Math.min(this.getEdges(),e.start);for(i=0;n>i;i++)t.push(this._appendItem(i));this.getEdges()<e.start&&1!=e.start-this.getEdges()?t.push({tag:"li",classes:"disabled",components:[{tag:"span",classes:"ellipse",content:this.getEllipseText()}]}):1==e.start-this.getEdges()&&t.push(this._appendItem(this.getEdges()))}for(i=e.start;e.end>i;i++)t.push(this._appendItem(i));if(e.end<this.getPages()&&this.getEdges()>0){this.getPages()-this.getEdges()>e.end&&1!=this.getPages()-this.getEdges()-e.end?t.push({tag:"li",classes:"disabled",components:[{tag:"span",classes:"ellipse",content:this.getEllipseText()}]}):1==this.getPages()-this.getEdges()-e.end&&this._appendItem(e.end);var o=Math.max(this.getPages()-this.getEdges(),e.end);for(i=o;this.getPages()>i;i++)t.push(this._appendItem(i))}this.getNextText()&&t.push(this._appendItem(this.getCurrentPage()+1,{text:this.getNextText(),classes:"next"})),this.createComponent({tag:"ul",classes:this.getCssStyle(),components:t}),this.render()},_appendItem:function(e,t){var n={tag:"li"};if(e=0>e?0:this.getPages()>e?e:this.getPages()-1,t=enyo.mixin({text:e+1,classes:""},t),e==this.getCurrentPage())n.classes=t.disabled?"disabled":"active",n.components=[{tag:"span",classes:"current",content:t.text}];else{var i=this.getHrefTextPrefix()+(e+1)+this.getHrefTextSuffix();this.getDynamicPagerLink()||(i=this.getHrefTextPrefix()+this.getHrefTextSuffix()),n.components=[{tag:"a",attributes:{href:i},pageIndex:e,classes:"page-link",content:t.text}]}return n},pageNumberTap:function(e,t){var n=t.originator;return"a"===n.tag.toLowerCase()&&this._selectPage(n.pageIndex),!0}});

// lib/widgets/ui/lists/PagedListView.js
enyo.kind({name:"widgets.lists.PagedListView",classes:"widgets-paged-listview",mixins:["Master.ClassSupport"],published:{source:[],showPager:!0,pageIndex:1,pageSize:10,recordsTotal:100,pagerUri:"",itemClickKeyProperty:"",itemDataTemplate:enyo.nop},events:{onRowItemClick:"",onRenderComplete:""},components:[{name:"contentBody",classes:"pagedlist-content"},{name:"pager",kind:"widgets.lists.Pager",dynamicPagerLink:!1,classes:"pagination pagedlist-pager"}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.sourceChanged()}}),refresh:function(){this.sourceChanged()},sourceChanged:function(){this.$.contentBody.destroyClientControls(),this.$.pager.destroyClientControls(),this.renderListItem(),this.getShowPager()&&this.renderPager(),this.render()},renderListItem:function(){for(var e=[],t=0;this.source.length>t;t++){var n=this.source[t],i=this.itemDataTemplate,o=this.parent||this;if(enyo.isString(i)&&(i=o&&o[i]),enyo.isFunction(i)){var s=i.apply(o,[n,t]);enyo.mixin(s,{rowItemIndex:t,ontap:"rowItemTap"}),e.push(s)}else this.zError("you must specific an item converter function!")}this.$.contentBody.createClientComponents(e),this.doRenderComplete()},renderPager:function(){this.source.length?(this.$.pager.show(),this.$.pager.setItems(this.recordsTotal),this.$.pager.setItemsOnPage(this.pageSize),this.$.pager.setCurrentPage(this.pageIndex),this.$.pager.setHrefTextPrefix(this.pagerUri),this.$.pager.reInit()):this.$.pager.hide()},rowItemTap:function(e,t){return $originator=t.originator,$originator[this.itemClickKeyProperty]&&this.doRowItemClick($originator),!0}});

// lib/widgets/ui/lists/PagedTableRowsList.js
enyo.kind({name:"widgets.lists.PagedTableRowsList",classes:"widgets-paged-tablerows-list",mixins:["Master.ClassSupport"],published:{source:[],showPager:!0,pageIndex:1,pageSize:10,recordsTotal:100,fields:[],header:[],rowKeyField:"",pagerUri:"",actions:{add:{enabled:!0,text:"\u6dfb\u52a0",classes:"btn-small"},edit:{enabled:!0,text:"\u4fee\u6539",classes:"btn-primary btn-small"},remove:{enabled:!0,text:"\u5220\u9664",classes:"btn-danger btn-small"}}},handlers:{onPageClick:"pageNumberTap"},components:[{name:"contentBody",tag:"table",classes:"pagedlist-content"},{name:"pager",kind:"widgets.lists.Pager",dynamicPagerLink:!1,classes:"pagination pagedlist-pager"}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.sourceChanged()}}),refresh:function(){this.sourceChanged()},sourceChanged:function(){this.$.contentBody.destroyClientControls(),this.$.pager.destroyClientControls(),this.renderTableRows(),this.getShowPager()&&this.renderPager(),this.render()},renderTableRows:function(){var e=this.renderTableHead();e=e.concat(this.renderTableBody()),this.$.contentBody.createComponents(e)},renderPager:function(){this.$.pager.setItems(this.recordsTotal),this.$.pager.setItemsOnPage(this.pageSize),this.$.pager.setCurrentPage(this.pageIndex),this.$.pager.setHrefTextPrefix(this.pagerUri),this.$.pager.init()},renderTableHead:function(){for(var e=[],t=[],n=0;this.header.length>n;n++){var i=this.header[n];t.push({tag:"td",classes:i.toLowerCase(),content:i})}return e.push({tag:"tr",classes:"header",components:t}),e},renderTableBody:function(){var e=[];if(this.source&&this.source.length)for(var t=0;this.source.length>t;t++){var n=this.source[t];e.push({kind:"widgets.lists.pagedlist.TableRow",fields:this.fields,item:n,rowKeyField:this.rowKeyField,actions:this.actions})}return e},pageNumberTap:function(e,t){return this.zLog(1,t),!0}}),enyo.kind({name:"widgets.lists.pagedlist.TableRow",mixins:["Master.ClassSupport"],published:{item:null,rowKeyField:"",actions:{add:{enabled:!0,text:"\u6dfb\u52a0",classes:"btn-small"},edit:{enabled:!0,text:"\u4fee\u6539",classes:"btn-primary btn-small"},remove:{enabled:!0,text:"\u5220\u9664",classes:"btn-danger btn-small"}},fields:[]},events:{onActionButtonTap:""},rowKey:"",create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.rowKey=this.item[this.rowKeyField],this.renderRowCells()}}),renderRowCells:function(){for(var e=[],t=this.item,n=0;this.fields.length>n;n++){var i=this.fields[n],o=t[i];e.push({tag:"td",classes:i.toLowerCase(),content:o})}if(null!=this.actions){var s=[];for(var r in this.actions){var a=this.actions[r];a&&a.enabled&&("add"==r?s.push(this.getActionButton("add",a.text,a.classes,"icon-plus")):"edit"==r?s.push(this.getActionButton("edit",a.text,a.classes,"icon-edit")):"remove"==r&&s.push(this.getActionButton("remove",a.text,a.classes,"icon-trash")))}e.push({tag:"td",classes:"action-btns",components:s})}this.createComponent({tag:"tr",components:e})},getActionButton:function(e,t,n,i){var e={tag:"a",classes:"btn "+n,ontap:"actionTap",action:e,components:[{tag:"i",action:e,classes:i},{tag:"span",action:e,content:t}]};return e},actionTap:function(e,t){var n=t.originator,i={key:this.get("rowKey"),action:n.get("action")};return this.doActionButtonTap(i),!0}});

// lib/widgets/ui/menus/Accordion.js
enyo.kind({name:"widgets.menus.Accordion",tag:"ul",classes:"widget-accordion",mixins:["Master.ClassSupport","Master.HistorySupport"],published:{hidePrevCollapsed:!1,source:[],itemNameField:"name",itemKeyField:"key",itemChildField:"childs",itemExpendedField:"expanded",linkConverterFn:"",selectedKey:"",itemHeight:37},events:{onAccordionViewChanging:"",onAccordionViewChanged:""},handlers:{onInit:"_initItem",onToggle:"viewChanging",onItemToggleAnimated:"itemToggleAnimated"},components:[{kind:"Selection",name:"selection",onSelect:"select",onDeselect:"deselect"}],items:[],activeView:null,create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.setUpItems()}}),rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.highlightMenuItem(this.selectedKey)}}),_initItem:function(e){return this.items.push(e),!0},setUpItems:function(){for(var e=0;this.source.length>e;e++){var t=this.source[e],n=t[this.itemChildField]&&t[this.itemChildField].length*this.getItemHeight();this.createComponent({kind:"widgets.menus.accordion.Item",headerTitle:t[this.itemNameField],headerLink:this.getLocationHash(t),contentComponents:this.constructChildComponents(t),maxHeight:n,collapsed:!t[this.itemExpendedField]})}},highlightMenuItem:function(e){this.zLog("find matched selected menu item...");for(var t=this.getControls(),n=0;t.length>n;n++){var i=t[n],o=i.searchMenuItem(e);if(o===!0)break}},getLocationHash:function(e){var t="#";return this.linkConverterFn&&enyo.isFunction(this.linkConverterFn)&&(t=this.linkConverterFn(e)),t},constructChildComponents:function(e){var t=[],n=e[this.itemChildField];if(e&&n&&n.length)for(var i=0;n.length>i;i++){var o=n[i];t.push({tag:"li",hash:this.getLocationHash(o),components:[{tag:"a",attributes:{href:this.getLocationHash(o)},content:o[this.itemNameField]}]})}return t},select:function(e,t){var n=t.data;return n&&n.addClass("selected"),!0},deselect:function(e,t){var n=t.data;return n&&n.removeClass("selected"),!0},viewChanging:function(e,t){var n=this.activeView;n&&this.getHidePrevCollapsed()&&n.name!==e.name&&n.toggleItem(!0),this.activeView=e;var i=t.linkNode;i&&this.$.selection.select(i.id,i),this.doAccordionViewChanging(e)},itemToggleAnimated:function(){this.doAccordionViewChanged(this.activeView)}}),enyo.kind({name:"widgets.menus.accordion.ItemHeader",tag:"a",classes:"accordion-header",published:{href:"#"},events:{onInit:"",onToggle:""},handlers:{},create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.hrefChanged()}}),rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.bubbleUp("onInit")}}),hrefChanged:function(){this.setAttribute("href",this.href)},tapHandler:function(e,t,n,i){n=void 0===n||n===!1?!1:!0,this.bubbleUp("onToggle",{silent:n,linkNode:i||this})}}),enyo.kind({name:"widgets.menus.accordion.ItemContent",tag:"ul",classes:"accordion-content",showing:!1,rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.bubble("onAccordionContentInit")}})}),enyo.kind({name:"widgets.menus.accordion.Item",tag:"li",classes:"accordion-item",mixins:["Master.ClassSupport"],events:{onItemToggleAnimated:""},handlers:{ontap:"_childMenuItemTap",onInit:"_initHeader",onToggle:"_toggleItem",onResizeHeader:"resizeHeader"},published:{collapsed:!0,maxHeight:0,minHeight:0,headerTitle:"no menu header defined",headerLink:"#",contentComponents:[]},header:null,components:[{name:"animator",kind:"Animator",onStep:"animatorStep",onEnd:"animatorComplete"}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments);var t=this.contentComponents.length?"icon-caret-right":"",n=this.collapsed?"collapsed ":"open";n+=this.contentComponents.length?" has-childs accordion-header":" accordion-header";var i={name:"accordionItemHeader",kind:"widgets.menus.accordion.ItemHeader",classes:n,href:this.headerLink,components:[{tag:"i",classes:t},{tag:"span",content:this.headerTitle}]},o={name:"accordionItemContent",kind:"widgets.menus.accordion.ItemContent",showing:!this.collapsed,components:this.contentComponents};this.createComponents([i,o])}}),_initHeader:function(e){return this.header=e,!0},_childMenuItemTap:function(e,t){var n=t.originator;return"a"===n.tag.toLowerCase()&&this.bubbleUp("onToggle",{silent:!0,linkNode:n}),!0},_toggleItem:function(e,t){var n=t.silent;return this.getCollapsed()?this.showItem(e):this.hideItem(e),n?!0:void 0},searchMenuItem:function(e){var t=!1,n=this.$.accordionItemContent.getControls(),i=this.$.accordionItemHeader;if(i.getHref()===e)this.getCollapsed()?this.toggleItem(!1,i):this.bubbleUp("onToggle",{silent:!0,linkNode:i}),t=!0;else for(var o=0;n.length>o;o++){var s=n[o];if(s.hash==e){t=!0;var r=s&&s.getControls()[0];this.getCollapsed()?this.toggleItem(!1,r):this.bubbleUp("onToggle",{silent:!0,linkNode:r});break}}return t},toggleItem:function(e,t){this.header.tapHandler(void 0,void 0,e,t)},showItem:function(e){this.$.accordionItemContent.show(),this.$.animator.play({startValue:this.getMinHeight(),endValue:this.getMaxHeight(),node:this.hasNode(),collapsed:!1}),e.addRemoveClass("collapsed",!1),e.addRemoveClass("open",!0),this.setCollapsed(!1)},hideItem:function(e){this.$.animator.isAnimating()&&this.$.animator.stop(),this.$.animator.play({startValue:this.getMaxHeight(),endValue:this.getMinHeight(),node:this.hasNode(),collapsed:!0}),e.addRemoveClass("collapsed",!0),e.addRemoveClass("open",!1),this.setCollapsed(!0)},animatorStep:function(e){return this.$.accordionItemContent.applyStyle("height",e.value+"px"),!0},animatorComplete:function(e,t){return t.originator.collapsed&&this.$.accordionItemContent.hide(),this.doItemToggleAnimated(),!0},resizeHeader:function(){return!0}});

// lib/widgets/ui/menus/TreeMenu.js
enyo.kind({name:"widgets.menus.TreeMenu",classes:"widget-treemenu",mixins:["Master.ClassSupport"],published:{source:[],childNodeKey:"childs",selectedItemKey:"hash",selectedItemValue:"",itemConverter:null,onlyIconExpands:!0,folderIcon:"assets/images/folder.png",folderOpenIcon:"assets/images/folder-open.png",fileIcon:"assets/images/file.png"},handlers:{onNodeTap:"nodeTap",onExpand:"nodeExpand"},events:{onItemClick:"",onItemExpandChanged:""},components:[{kind:"Selection",name:"selection",onSelect:"select",onDeselect:"deselect"},{name:"treenode",kind:"enyo.Node",onlyIconExpands:this.onlyIconExpands,content:"Root",expandable:!0,expanded:!0}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.init()}}),init:function(){this.$.treenode.set("icon",this.folderOpenIcon),this.sourceChanged()},sourceChanged:function(){if(this.source&&this.source.length){this._rootNode={},this.$.treenode.destroyClientControls(),this.prepareTreeDataSource(this.source,this._rootNode);var e=this._rootNode.components;this.$.treenode.addNodes(e),this.highlightNodeItem(this.$.treenode)}else this.zLog("current tree menu source is empty!")},prepareTreeDataSource:function(e,t){for(var n=0;e.length>n;n++){var i=e[n],o=i[this.childNodeKey];t.components=t.components||[];var s=this._prepareTreeNode(t,i,o);t.components.push(s),o&&o.length&&this.prepareTreeDataSource(o,s)}},_prepareTreeNode:function(e,t,n){var i=this.itemConverter||function(e){return{hash:e.hash,content:e.content}},o=i(t);return enyo.mixin(o,{icon:this.fileIcon,onlyIconExpands:this.onlyIconExpands,__parent:e}),o.expanded&&(o.icon=this.folderOpenIcon,o.attributes={"class":"expanded"}),n&&n.length&&(o.expandable=!0,o.icon=this.folderIcon),this.selectedItemValue&&o[this.selectedItemKey]==this.selectedItemValue&&(this._updateParentNodesIfChildSelected(e),o.attributes={"class":"selected"}),o},_updateParentNodesIfChildSelected:function(e){e.expanded=!0,e.icon=this.folderOpenIcon,e.attributes={"class":"expanded"};var t=e.__parent;t&&t!==this._rootNode&&this._updateParentNodesIfChildSelected(t)},select:function(e,t){var n=t.data;return n&&n.addClass("selected"),!0},deselect:function(e,t){var n=t.data;return n&&n.removeClass("selected"),!0},highlightNodeItem:function(e){for(var t=e.getControls(),n=0;t.length>n;n++){var i=t[n];if(i.hasClass("selected")){this.$.selection.select(i.id,i);break}i.expanded&&this.highlightNodeItem(i)}},nodeTap:function(e,t){var n=t.originator;return this.$.selection.select(n.id,n),this.doItemClick(n),!0},nodeExpand:function(e,t){var n=t.expanded,i=t.originator;return i.addRemoveClass("expanded",n),i.setIcon(n?this.folderOpenIcon:this.folderIcon),this.doItemExpandChanged({isExpanded:n}),!0}});

// lib/widgets/ui/section/Abstract.js
enyo.kind({name:"widgets.section.Abstract",classes:"section-item",mixins:["Master.ClassSupport"],events:{onSectionItemRemoved:""},published:{controlName:"",displayOrder:0,sectionTitle:"No section title!",source:null,model:"view"},components:[{name:"sectionHeader",classes:"section-header",components:[{name:"basicControls",classes:"basic-controls",components:[{tag:"strong",classes:"section-title",content:"Section \u6807\u9898: "},{name:"sectionTitle",kind:"onyx.Input",type:"text",value:this.sectionTitle},{tag:"strong",classes:"display-order-title",content:" \u663e\u793a\u4f18\u5148\u7ea7: "},{name:"displayOrder",scope:"ignore",style:"width: 30px;",type:"number",kind:"onyx.Input",value:"0"},{name:"removeBtn",ontap:"_removeSelfHandler",classes:"btn btn-danger remove-btn",kind:"onyx.Button",content:"Remove"}]},{name:"customizedControls",showing:!1,classes:"customized-controls"}]},{name:"client",classes:"section-content"}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this._isSectionWidget=!0,this.preInit(),this.modelChanged(),this.init()}}),sourceChanged:function(){this.reInit()},modelChanged:function(){"view"===this.model?(this.$.sectionHeader.destroyClientControls(),this.$.sectionHeader.createComponent({tag:"h5",classes:"section-title",content:this.sectionTitle}),this.$.sectionHeader.render()):this.$.sectionTitle.setValue(this.sectionTitle)},setDisplayOrderUI:function(e){isNaN(e)&&(e=0),this.$.displayOrder.setValue(e)},getDisplayOrderFromUI:function(){var e=this.$.displayOrder.getValue();return isNaN(e)&&(e=0),e},placeClientControl:function(e){this.$.client.destroyClientControls(),this.$.client.createComponent(e),this.$.client.render(),this.viewChangedBubble()},placeCustomizedHeaderControls:function(e){"edit"==this.model&&e&&e.length&&(this.$.customizedControls.destroyClientControls(),this.$.customizedControls.createClientComponents(e),this.$.customizedControls.render(),this.$.customizedControls.show())},fetchClientControl:function(e){var t=this.$.client;return t.$[e]},preInit:function(){this.zLog("you can override this method to pre initialize some staffs")},init:function(){"edit"==this.model&&this.setDisplayOrderUI(this.get("displayOrder")),this.drawInterface()},reInit:function(){this.$.client.destroyClientControls(),this.init()},drawInterface:function(){this.zLog("need to override this method")},getSectionJSONResult:function(){return{controlName:this.getControlName(),sectionTitle:this.$.sectionTitle.getValue(),source:this.getSource(),displayOrder:parseInt(this.getDisplayOrderFromUI())}},_removeSelfHandler:function(){return this.bubble("onSectionItemRemoved"),this.destroy(),!0},viewChangedBubble:function(){this.bubble("onSectionChanged")}});

// lib/widgets/ui/section/LinkList.js
enyo.kind({name:"widgets.section.LinkList",kind:"widgets.section.Abstract",classes:"widget-section-linklist",published:{rows:1},handlers:{oninput:"inputValueChanged",onDropdownItemChanged:"_dropdownItemChanged"},preInit:function(){this.source=enyo.isArray(this.source)?this.source:[{href:"http://www.1qianbao.com",target:"_blank",linkIcon:"https",text:"alipay.micropay.order.direct.pay",description:"\u5355\u7b14\u76f4\u63a5\u652f\u4ed8"},{href:"http://www.1qianbao.com",target:"_self",linkIcon:"http",text:"alipay.micropay.order.freezepayurl.get",description:"\u67e5\u8be2\u51bb\u7ed3\u91d1\u652f\u4ed8\u5730\u5740"},{href:"http://www.1qianbao.com",target:"_blank",linkIcon:"https",text:"alipay.micropay.order.confirmpayurl.get",description:"\u67e5\u8be2\u5355\u7b14\u6709\u5bc6\u652f\u4ed8\u5730\u5740"},{href:"http://www.1qianbao.com",target:"_self",linkIcon:"http",text:"alipay.micropay.order.get",description:"\u67e5\u8be2\u51bb\u7ed3\u8ba2\u5355\u8be6\u60c5"}],this.linkIcons=[{id:"https",content:"https"},{id:"http",content:"http"}],this.linkTarget=[{id:"self",content:"_self"},{id:"blank",content:"_blank"}],this.defaultLinkItem={href:"http://link href",target:"_self",linkIcon:"http",text:"link text",description:"link description"},this.source.length>0&&this.set("rows",this.source.length)},drawInterface:function(){this.placeCustomizedHeaderControls([{tag:"span",content:"Counts:",classes:"link-list"},{name:"inputTextRow",action:"row",kind:"onyx.Input",classes:"link-list",type:"number",value:this.rows}]),this.placeClientControl(this._drawLinks())},inputValueChanged:function(e,t){var n=t.originator;if("ignore"==n.scope)return!0;if(this._isEditListRow(n))this._updateLinkData(n);else{var i=n.getValue();if(i&&!isNaN(i)){i=i>0?i:1,this.set("rows",i);var o=this._drawLinks(this.get("rows"));this.placeClientControl(o)}}return!0},_isEditListRow:function(e){return e.rowIndex!==void 0?!0:!1},_updateLinkData:function(e){var t=e.getValue(),n=e.rowIndex,i=e.dataKey;this.source[n]||(this.source[n]=enyo.clone(this.defaultLinkItem)),this.source[n][i]=t},_dropdownItemChanged:function(e,t){var n=t.originator,i=n.rowIndex,o=n.dataKey;return this.source[i]||(this.source[i]=enyo.clone(this.defaultLinkItem)),this.source[i][o]=t.content,!0},_drawLinks:function(e){e=e||this.get("rows");for(var t=[],n=0;e>n;n++){var i=this.source[n];t.push(this._drawLink(n,i))}var o={name:"linkListSection",components:t,classes:"section-linklist"};return o},_drawLink:function(e,t){var n=null,t=t||enyo.clone(this.defaultLinkItem),i=t.linkIcon||"http",o=t.description||"",s=t.target||"_self",r=t.href||"http://",a=t.text||"link text";if("view"==this.model)n={classes:"link-item",components:[{classes:"left",components:[{kind:"enyo.Anchor",attributes:{target:s},href:r,content:a},{tag:"span",classes:i}]},{classes:"right",components:[{tag:"span",classes:"desc",content:o}]}]};else{var l=[];enyo.forEach(this.linkTarget,function(n){var i={_id:n.id+e,content:n.content};t.target==n.content&&(i.selected=!0),l.push(i)});var h=[];enyo.forEach(this.linkIcons,function(n){var i={_id:n.id+e,content:n.content};t.linkIcon==n.content&&(i.selected=!0),h.push(i)}),n={classes:"link-item",components:[{rowIndex:e,dataKey:"href",value:r,kind:"enyo.Input",placeholder:"http://link href",type:"text"},{rowIndex:e,dataKey:"text",value:a,kind:"enyo.Input",placeholder:"link text",type:"text"},{rowIndex:e,dataKey:"target",key:"_id",kind:"widgets.forms.DropdownList",menuItemComponents:l,defaultTitle:"--\u9009\u62e9Target--"},{rowIndex:e,dataKey:"linkIcon",key:"_id",kind:"widgets.forms.DropdownList",menuItemComponents:h,defaultTitle:"--\u9009\u62e9ICON--"},{rowIndex:e,dataKey:"description",value:o,kind:"enyo.Input",placeholder:"Link\u63cf\u8ff0",type:"text"}]}}return n},getSectionJSONResult:enyo.inherit(function(e){return function(){var t=e.apply(this,arguments);return t.source=this.getLinkListResult(),this.zLog(t),t}}),getLinkListResult:function(){var e=this.fetchClientControl("linkListSection"),t=e.getControls(),n=enyo.cloneArray(this.source,0);return n.splice(t.length),n}});

// lib/widgets/ui/section/TextEditor.js
enyo.kind({name:"widgets.section.TextEditor",kind:"widgets.section.Abstract",classes:"widget-section-texteditor",preInit:function(){},rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),"edit"==this.model&&(this.$markItUp=this.fetchClientControl("textEditor"),this.$markItUp&&(this.$markItUp.markItUp(),this.$markItUp.setEditorContent(this.getSource())))}}),drawInterface:function(){var e={name:"textEditor",kind:"Master.TextEditor"};"view"==this.model&&(e={allowHtml:!0,content:this.transformCodeSnippetByDom(this.source)}),this.placeClientControl(e)},transformCodeSnippet:function(e){var t=/<pre[^>]*>((.|[\n\r])*)<\/pre>/im;return e=e.replace(t,function(e){var t=/<code([^<>]+)?>(.+?)<\/code>/gi,n="json",i="";return e=e.replace(t,function(e,t,o){return t&&(n=t.replace(/(class\s*=\s*)|(\"|\')/gi,"").split("-")[1]),o&&(i=hljs.highlight(n,o).value),'<code class="hljs '+n+'">'+i+"</code>"})})},transformCodeSnippetByDom:function(e){if(hljs){var t=document.createElement("div");t.innerHTML=utility.htmlEscapeAMP(e);for(var n=t.getElementsByTagName("pre"),i=0;n.length>i;i++){var o=n[i].firstChild;if(o){var s=o.innerHTML;o.innerHTML=utility.htmlEncode(s)}hljs.highlightBlock(o)}return t.innerHTML}return e},getSectionJSONResult:enyo.inherit(function(e){return function(){var t=e.apply(this,arguments);return t.source=this.$markItUp.getEditorContent(),this.zLog(t),t}})});

// lib/widgets/ui/section/Table.js
enyo.kind({name:"widgets.section.Table",kind:"widgets.section.Abstract",classes:"widget-section-table",handlers:{oninput:"inputValueChanged"},published:{columns:4,rows:4},drawInterface:function(){this.placeCustomizedHeaderControls([{tag:"span",content:"Columns: ",classes:"table"},{name:"inputTextColumn",action:"column",kind:"onyx.Input",classes:"table",type:"number",value:this.columns},{tag:"span",content:"Rows:",classes:"table"},{name:"inputTextRow",action:"row",kind:"onyx.Input",classes:"table",type:"number",value:this.rows}]),this.placeClientControl(this._drawTable())},preInit:function(){if(this.source=enyo.isArray(this.source)?this.source:[["Header","header1","header2","header3","header4"],["10","11","12","13","14"],["20","21","22","23","24"]],this.source.length>0){this.set("rows",this.source.length);var e=this.source[0];enyo.isArray(e)&&e.length&&this.set("columns",e.length)}},inputValueChanged:function(e,t){var n=t.originator;if("ignore"==n.scope)return!0;if(this._isEditTableCell(n))this._updateCellData(n);else{var i=n.getValue();if(i&&!isNaN(i)){i=i>0?i:1,"column"==n.action?this.set("columns",i):this.set("rows",i);var o=this._drawTable(this.get("rows"),this.get("columns"));this.placeClientControl(o)}}return!0},_drawTable:function(e,t){e=e||this.get("rows"),t=t||this.get("columns");for(var n=[],i=0;e>i;i++)n.push(this._drawRow(i,t));var o={tag:"table",name:"tableSection",classes:"section-table",components:n};return o},_drawRow:function(e,t){for(var n=[],i=0;t>i;i++){var o=this._findCellValue(e,i);n.push(this._drawCell(e,i,o))}var s={tag:"tr",classes:0==e?"header-row":"item-row",components:n};return s},_drawCell:function(e,t,n){var i={tag:"td"},o={kind:"enyo.Input",position:{rowIndex:e,colIndex:t},type:"text",value:n};return"view"==this.model&&(o={tag:"span",allowHtml:!0,content:n}),i.components=[o],i},_findCellValue:function(e,t){var n=this.source[e],i=n&&n[t]||"";return i},_isEditTableCell:function(e){return e&&e.position?!0:!1},_updateCellData:function(e){var t=e.position;this.source[t.rowIndex]||(this.source[t.rowIndex]=[]),this.source[t.rowIndex][t.colIndex]=e.getValue()},getSectionJSONResult:enyo.inherit(function(e){return function(){var t=e.apply(this,arguments);return t.source=this.getTableResult(),this.zLog(t),t}}),getTableResult:function(){var e=this.fetchClientControl("tableSection"),t=e.getControls(),n=this.get("columns"),i=enyo.cloneArray(this.source,0);i.splice(t.length);for(var o=0;i.length>o;o++){var s=i[o];s.splice(n)}return i}});

// lib/widgets/ui/section/SectionManager.js
enyo.kind({name:"widgets.section.SectionManager",classes:"widgets-section",mixins:["Master.ClassSupport"],events:{onSectionChanged:""},handlers:{onSectionItemRemoved:"sectionItemRemoved"},published:{sections:[],model:"view",supportedWidgets:[{id:"table",table:"widgets.section.Table"},{id:"textEditor",textEditor:"widgets.section.TextEditor"},{id:"linkList",linkList:"widgets.section.LinkList"}],scrollYoffset:80},components:[{name:"content"},{name:"actionPanel",classes:"action-panel",showing:!1,components:[{name:"controlTypes",key:"id",kind:"widgets.forms.DropdownList",defaultTitle:"--\u8bf7\u9009\u62e9Section\u7c7b\u578b--"},{kind:"onyx.Button",ontap:"_addNewSection",classes:"btn btn-primary addnewsection",content:"\u6dfb\u52a0\u65b0Section"}]}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.modelChanged(),this.loadingControlTypes(),this.init()}}),modelChanged:function(){"edit"===this.model?this.$.actionPanel.show():(this.model="view",this.$.actionPanel.hide())},sectionsChanged:function(){this.reInit()},reInit:function(){this.$.content.destroyClientControls(),this.init()},init:function(){var e=this._createSections(this.sections);this.$.content.createClientComponents(e),this.$.content.render()},_createSections:function(e){var t=[];if(enyo.isArray(e)){e.sort(function(e,t){return e.displayOrder-t.displayOrder});for(var n=0;e.length>n;n++){var i=e[n],o=i.controlName,s=this.ifSupportedThisControl(o);s?t.push({controlName:o,kind:s,sectionTitle:i.sectionTitle||"No section title",model:this.model,source:i.source}):this.zWarn("the section widget `"+o+"` can't be found!")}}else this.zError("the `sections` source must be array");return t},loadingControlTypes:function(){for(var e=[],t=0;this.supportedWidgets.length>t;t++){var n=this.supportedWidgets[t];e.push({id:n.id,content:n.id})}this.$.controlTypes.set("menuItemComponents",e)},_addNewSection:function(){var e=this.$.controlTypes.getSelectedItem();if(e){var t=e.id;this.addNewSection(t,this.model)}else Master.view.frame.showAlertDialog({title:"\u51fa\u9519\u4e86",message:"\u8bf7\u9009\u62e9Section\u7c7b\u578b\uff01"})},addNewSection:function(e,t){t=t||"view";var n=this.ifSupportedThisControl(e);if(n){this.$.content.createComponent({kind:n,controlName:e,model:t});var i=this.$.content.getControls(),o=i[i.length-1];o&&o.render()}else this.zError("current section widget can't be implemented `"+e+"`");this.doSectionChanged()},srollTo:function(e){if("view"==this.model){this.zLog("section item index: ",e);var t=this.$.content.getControls(),n=t[e];if(n){var i=n.getBounds().top,o=i+this.scrollYoffset;this._animateScrollToTop(o)}}},_animateScrollToTop:function(e){window.scrollTo(0,e)},sectionItemRemoved:function(){return this.doSectionChanged(),!0},ifSupportedThisControl:function(e){for(var t=null,n=0;this.supportedWidgets.length>n;n++){var i=this.supportedWidgets[n],t=i[e];if(t)break}return t},getResult:function(){for(var e=this.$.content.getControls(),t=[],n=0;e.length>n;n++){var i=e[n];i._isSectionWidget&&t.push(i.getSectionJSONResult())}return t}});

// source/config/config.js
enyo.singleton({name:"Master.config",kind:null,constructor:function(){},storageStrategy:"localstorage",themeClass:"skin-yellow",defaultHash:"home",appName:"z",urlRoot:"http://192.168.14.145:3000/",defaultAPILanguage:"java",tokenExpire:864e5,cacheBust:!0,cache:{enabled:!0,cacheStrategy:"websql"},oauth:{loginUrl:"https://test-www.1qianbao.com/pinganfuweb/auth",response_type:"code",client_secret:"1c36f95226034d7eb0085ce326e5c93b",client_id:"900000000105",scope:"user",callbackUrl:"external/token.html"},setStoragePolicy:function(){Master.storage.setStrategy(this.storageStrategy)}});

// source/config/routeConfig.js
(function(e){e.setPath("Master.config.routeConfig",[{path:"profile/node/list/:id/:page",controller:"ProfileController",action:"apiPagedList"},{path:"profile/node/list/:id",controller:"ProfileController",action:"apiList"},{path:"profile/node/:id",controller:"ProfileController",action:"editApi"},{path:"profile/node/new",controller:"ProfileController",action:"addNewApi"},{path:"profile",controller:"UserController",action:"userInfo"},{path:"home","default":!0,controller:"HomeController",action:"index"},{path:"node/:key",controller:"ApiController",action:"detail"},{path:"search/:params",controller:"ApiController",action:"search"},{path:"token/oauth",controller:"TokenController",action:"resolveToken"}])})(enyo);

// source/app/constants/key.js
(function(e){var t={ENTER_KEY:13,ESC_KEY:27};e.KeyBoard=t})(window);

// source/app/constants/errorcode.js
(function(e){var t={404:"HTTP_404",500:"HTTP_500",405:"HTTP_405",400:"HTTP_400",401:"HTTP_401"};e.ErrorCode=t})(window);

// source/app/constants/apilanguages.js
(function(e){var t=["java","csharp","node"];e.ApiLanguage={languages:t}})(window);

// source/app/helpers/utility.js
(function(e){var t={EncodeType:"entity",isEmpty:function(e){return e?null===e||0==e.length||/^\s+$/.test(e):!0},arr1:["&nbsp;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&shy;","&reg;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&quot;","&amp;","&lt;","&gt;","&OElig;","&oelig;","&Scaron;","&scaron;","&Yuml;","&circ;","&tilde;","&ensp;","&emsp;","&thinsp;","&zwnj;","&zwj;","&lrm;","&rlm;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&Dagger;","&permil;","&lsaquo;","&rsaquo;","&euro;","&fnof;","&Alpha;","&Beta;","&Gamma;","&Delta;","&Epsilon;","&Zeta;","&Eta;","&Theta;","&Iota;","&Kappa;","&Lambda;","&Mu;","&Nu;","&Xi;","&Omicron;","&Pi;","&Rho;","&Sigma;","&Tau;","&Upsilon;","&Phi;","&Chi;","&Psi;","&Omega;","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigmaf;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;","&thetasym;","&upsih;","&piv;","&bull;","&hellip;","&prime;","&Prime;","&oline;","&frasl;","&weierp;","&image;","&real;","&trade;","&alefsym;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&lArr;","&uArr;","&rArr;","&dArr;","&hArr;","&forall;","&part;","&exist;","&empty;","&nabla;","&isin;","&notin;","&ni;","&prod;","&sum;","&minus;","&lowast;","&radic;","&prop;","&infin;","&ang;","&and;","&or;","&cap;","&cup;","&int;","&there4;","&sim;","&cong;","&asymp;","&ne;","&equiv;","&le;","&ge;","&sub;","&sup;","&nsub;","&sube;","&supe;","&oplus;","&otimes;","&perp;","&sdot;","&lceil;","&rceil;","&lfloor;","&rfloor;","&lang;","&rang;","&loz;","&spades;","&clubs;","&hearts;","&diams;"],arr2:["&#160;","&#161;","&#162;","&#163;","&#164;","&#165;","&#166;","&#167;","&#168;","&#169;","&#170;","&#171;","&#172;","&#173;","&#174;","&#175;","&#176;","&#177;","&#178;","&#179;","&#180;","&#181;","&#182;","&#183;","&#184;","&#185;","&#186;","&#187;","&#188;","&#189;","&#190;","&#191;","&#192;","&#193;","&#194;","&#195;","&#196;","&#197;","&#198;","&#199;","&#200;","&#201;","&#202;","&#203;","&#204;","&#205;","&#206;","&#207;","&#208;","&#209;","&#210;","&#211;","&#212;","&#213;","&#214;","&#215;","&#216;","&#217;","&#218;","&#219;","&#220;","&#221;","&#222;","&#223;","&#224;","&#225;","&#226;","&#227;","&#228;","&#229;","&#230;","&#231;","&#232;","&#233;","&#234;","&#235;","&#236;","&#237;","&#238;","&#239;","&#240;","&#241;","&#242;","&#243;","&#244;","&#245;","&#246;","&#247;","&#248;","&#249;","&#250;","&#251;","&#252;","&#253;","&#254;","&#255;","&#34;","&#38;","&#60;","&#62;","&#338;","&#339;","&#352;","&#353;","&#376;","&#710;","&#732;","&#8194;","&#8195;","&#8201;","&#8204;","&#8205;","&#8206;","&#8207;","&#8211;","&#8212;","&#8216;","&#8217;","&#8218;","&#8220;","&#8221;","&#8222;","&#8224;","&#8225;","&#8240;","&#8249;","&#8250;","&#8364;","&#402;","&#913;","&#914;","&#915;","&#916;","&#917;","&#918;","&#919;","&#920;","&#921;","&#922;","&#923;","&#924;","&#925;","&#926;","&#927;","&#928;","&#929;","&#931;","&#932;","&#933;","&#934;","&#935;","&#936;","&#937;","&#945;","&#946;","&#947;","&#948;","&#949;","&#950;","&#951;","&#952;","&#953;","&#954;","&#955;","&#956;","&#957;","&#958;","&#959;","&#960;","&#961;","&#962;","&#963;","&#964;","&#965;","&#966;","&#967;","&#968;","&#969;","&#977;","&#978;","&#982;","&#8226;","&#8230;","&#8242;","&#8243;","&#8254;","&#8260;","&#8472;","&#8465;","&#8476;","&#8482;","&#8501;","&#8592;","&#8593;","&#8594;","&#8595;","&#8596;","&#8629;","&#8656;","&#8657;","&#8658;","&#8659;","&#8660;","&#8704;","&#8706;","&#8707;","&#8709;","&#8711;","&#8712;","&#8713;","&#8715;","&#8719;","&#8721;","&#8722;","&#8727;","&#8730;","&#8733;","&#8734;","&#8736;","&#8743;","&#8744;","&#8745;","&#8746;","&#8747;","&#8756;","&#8764;","&#8773;","&#8776;","&#8800;","&#8801;","&#8804;","&#8805;","&#8834;","&#8835;","&#8836;","&#8838;","&#8839;","&#8853;","&#8855;","&#8869;","&#8901;","&#8968;","&#8969;","&#8970;","&#8971;","&#9001;","&#9002;","&#9674;","&#9824;","&#9827;","&#9829;","&#9830;"],HTML2Numerical:function(e){return this.swapArrayVals(e,this.arr1,this.arr2)},NumericalToHTML:function(e){return this.swapArrayVals(e,this.arr2,this.arr1)},numEncode:function(e){if(this.isEmpty(e))return"";for(var t=[],n=e.length,i=0;n>i;i++){var o=e.charAt(i);" ">o||o>"~"?(t.push("&#"),t.push(o.charCodeAt()),t.push(";")):t.push(o)}return t.join("")},htmlDecode:function(e){var t,n,i=e;if(this.isEmpty(i))return"";if(i=this.HTML2Numerical(i),arr=i.match(/&#[0-9]{1,5};/g),null!=arr)for(var o=0;arr.length>o;o++)n=arr[o],t=n.substring(2,n.length-1),i=t>=-32768&&65535>=t?i.replace(n,String.fromCharCode(t)):i.replace(n,"");return i},htmlEncode:function(e,t){return this.isEmpty(e)?"":(t=t||!1,t&&(e="numerical"==this.EncodeType?e.replace(/&/g,"&#38;"):e.replace(/&/g,"&amp;")),e=this.XSSEncode(e,!1),"numerical"!=this.EncodeType&&t||(e=this.HTML2Numerical(e)),e=this.numEncode(e),t||(e=e.replace(/&#/g,"##AMPHASH##"),e="numerical"==this.EncodeType?e.replace(/&/g,"&#38;"):e.replace(/&/g,"&amp;"),e=e.replace(/##AMPHASH##/g,"&#")),e=e.replace(/&#\d*([^\d;]|$)/g,"$1"),t||(e=this.correctEncoding(e)),"entity"==this.EncodeType&&(e=this.NumericalToHTML(e)),e)},XSSEncode:function(e,t){return this.isEmpty(e)?"":(t=t||!0,t?(e=e.replace(/\'/g,"&#39;"),e=e.replace(/\"/g,"&quot;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")):(e=e.replace(/\'/g,"&#39;"),e=e.replace(/\"/g,"&#34;"),e=e.replace(/</g,"&#60;"),e=e.replace(/>/g,"&#62;")),e)},hasEncoded:function(e){return/&#[0-9]{1,5};/g.test(e)?!0:/&[A-Z]{2,6};/gi.test(e)?!0:!1},stripUnicode:function(e){return e.replace(/[^\x20-\x7E]/g,"")},correctEncoding:function(e){return e.replace(/(&amp;)(amp;)+/,"$1")},swapArrayVals:function(e,t,n){if(this.isEmpty(e))return"";var i;if(t&&n&&t.length==n.length)for(var o=0,s=t.length;s>o;o++)i=RegExp(t[o],"g"),e=e.replace(i,n[o]);return e},inArray:function(e,t){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1}},n={};enyo.mixin(n,t),enyo.mixin(n,{formatFileSize:function(e){for(var t=["Byte","KB","MB","GB"],n=0;e>1024;n++)e=(e/1024).toFixed(2);return e.toLocaleString()+" "+t[n]},stripRiskHtmlCode:function(e){var t=/<([\/|\s]*script\s*)>/g;return e=e.replace(t,function(e){return utility.htmlEncode(e)})},htmlEscapeAMP:function(e){if(utility.isEmpty(e))return"";var t={"&":"&amp;"};return e.replace(/[&]/g,function(e){return t[e]||e})}}),e.utility=n})(window);

// source/app/helpers/utilityValidation.js
enyo.mixin(utility,{isRequired:function(e){return e=enyo.trim(""+e),!!e},isUrl:function(e){return e.match(/^(ht|f)tps?:\/\/[a-z0-9-\.]+\.[a-z]{2,4}\/?([^\s<>\#%"\,\{\}\\|\\\^\[\]`]+)?$/)},isAlpha:function(e){return(e+"").match(RegExp('[\\\\#,`?>\\]</:;}"[|{~=!@\\$%\\^&\\*\\(\\)\\+_%0-9.-]'))?!1:!0},isAddress:function(e){return(e+"").match(RegExp("[!@\\`\\~\\=\\[\\]\\{\\}\\|\\\\<\\>\\?\\$%\\^\\*\\+_]"))?!1:(e+"").match(RegExp("[A-Za-z]"))},isWebsite:function(e){var t=e.match(/^[a-z0-9-\.]+\.[a-z]{2,4}\/?([^\s<>\#%"\,\{\}\\|\\\^\[\]`]+)?$/);return t},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isEmail:function(e){e=enyo.trim(e);var t=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return t.test(e)?!0:!1},isWhite:function(e){return(e+"").match(RegExp("[#!@\\$%\\^&\\*\\(\\)\\+_%]"))?!1:!0},isImage:function(e){return(e+"").match(RegExp("\\.((jpg)|(png))$"))},isZip:function(e){return(e+"").match(RegExp("^\\d{5}(-\\d{4})?$"))},isVersion:function(e){return(e+"").match(RegExp("^\\d+\\.\\d+\\.\\d+"))},isCC:function(e){var t=this.trim(e);return t=t&&t.replace&&t.replace(/\D*/g,""),this.isNumeric(t)&&16==t.length},isCVV:function(e){var t=this.trim(e);return this.isNumeric(t)&&t.length>=3&&4>=t.length},isCCExp:function(e){var t=e.split("/")[0],n=e.split("/")[1];if(!t||!n)return!1;t=t.trim(),n=n.trim();var i=[n,t,"01"].join("-"),o=new Date,s=new Date(i);return s>o},isLimit:function(e){return e.length>=6},stripCharsInBag:function(e,t){var n,i="";for(n=0;e.length>n;n++){var o=e.charAt(n);-1==t.indexOf(o)&&(i+=o)}return i},isHashUrl:function(e){var t=/^[a-zA-Z0-9-_%]+$/;return t.test(e)},trim:function(e){return e=e||"",e&&e.replace?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}});

// source/app/helpers/encryption.js
(function(){var e={};e.cipher=function(t,n){for(var i=4,o=n.length/i-1,s=[[],[],[],[]],r=0;4*i>r;r++)s[r%4][Math.floor(r/4)]=t[r];s=e.addRoundKey(s,n,0,i);for(var a=1;o>a;a++)s=e.subBytes(s,i),s=e.shiftRows(s,i),s=e.mixColumns(s,i),s=e.addRoundKey(s,n,a,i);s=e.subBytes(s,i),s=e.shiftRows(s,i),s=e.addRoundKey(s,n,o,i);for(var l=Array(4*i),r=0;4*i>r;r++)l[r]=s[r%4][Math.floor(r/4)];return l},e.keyExpansion=function(t){for(var n=4,i=t.length/4,o=i+6,s=Array(n*(o+1)),r=Array(4),a=0;i>a;a++){var l=[t[4*a],t[4*a+1],t[4*a+2],t[4*a+3]];s[a]=l}for(var a=i;n*(o+1)>a;a++){s[a]=Array(4);for(var h=0;4>h;h++)r[h]=s[a-1][h];if(0==a%i){r=e.subWord(e.rotWord(r));for(var h=0;4>h;h++)r[h]^=e.rCon[a/i][h]}else i>6&&4==a%i&&(r=e.subWord(r));for(var h=0;4>h;h++)s[a][h]=s[a-i][h]^r[h]}return s},e.subBytes=function(t,n){for(var i=0;4>i;i++)for(var o=0;n>o;o++)t[i][o]=e.sBox[t[i][o]];return t},e.shiftRows=function(e,t){for(var n=Array(4),i=1;4>i;i++){for(var o=0;4>o;o++)n[o]=e[i][(o+i)%t];for(var o=0;4>o;o++)e[i][o]=n[o]}return e},e.mixColumns=function(e){for(var t=0;4>t;t++){for(var n=Array(4),i=Array(4),o=0;4>o;o++)n[o]=e[o][t],i[o]=128&e[o][t]?283^e[o][t]<<1:e[o][t]<<1;e[0][t]=i[0]^n[1]^i[1]^n[2]^n[3],e[1][t]=n[0]^i[1]^n[2]^i[2]^n[3],e[2][t]=n[0]^n[1]^i[2]^n[3]^i[3],e[3][t]=n[0]^i[0]^n[1]^n[2]^i[3]}return e},e.addRoundKey=function(e,t,n,i){for(var o=0;4>o;o++)for(var s=0;i>s;s++)e[o][s]^=t[4*n+s][o];return e},e.subWord=function(t){for(var n=0;4>n;n++)t[n]=e.sBox[t[n]];return t},e.rotWord=function(e){for(var t=e[0],n=0;3>n;n++)e[n]=e[n+1];return e[3]=t,e},e.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],e.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],e.Ctr={},e.Ctr.encrypt=function(i,o,s){var r=16;if(128!=s&&192!=s&&256!=s)return"";i=n.encode(i),o=n.encode(o);for(var a=s/8,l=Array(a),h=0;a>h;h++)l[h]=isNaN(o.charCodeAt(h))?0:o.charCodeAt(h);var c=e.cipher(l,e.keyExpansion(l));c=c.concat(c.slice(0,a-16));for(var d=Array(r),u=(new Date).getTime(),p=u%1e3,f=Math.floor(u/1e3),g=Math.floor(65535*Math.random()),h=0;2>h;h++)d[h]=255&p>>>8*h;for(var h=0;2>h;h++)d[h+2]=255&g>>>8*h;for(var h=0;4>h;h++)d[h+4]=255&f>>>8*h;for(var m="",h=0;8>h;h++)m+=String.fromCharCode(d[h]);for(var y=e.keyExpansion(c),v=Math.ceil(i.length/r),b=Array(v),C=0;v>C;C++){for(var w=0;4>w;w++)d[15-w]=255&C>>>8*w;for(var w=0;4>w;w++)d[15-w-4]=C/4294967296>>>8*w;for(var x=e.cipher(d,y),S=v-1>C?r:(i.length-1)%r+1,k=Array(S),h=0;S>h;h++)k[h]=x[h]^i.charCodeAt(C*r+h),k[h]=String.fromCharCode(k[h]);b[C]=k.join("")}var P=m+b.join("");return P=t.encode(P)},e.Ctr.decrypt=function(i,o,s){var r=16;if(128!=s&&192!=s&&256!=s)return"";i=t.decode(i),o=n.encode(o);for(var a=s/8,l=Array(a),h=0;a>h;h++)l[h]=isNaN(o.charCodeAt(h))?0:o.charCodeAt(h);var c=e.cipher(l,e.keyExpansion(l));c=c.concat(c.slice(0,a-16));var d=Array(8);ctrTxt=i.slice(0,8);for(var h=0;8>h;h++)d[h]=ctrTxt.charCodeAt(h);for(var u=e.keyExpansion(c),p=Math.ceil((i.length-8)/r),f=Array(p),g=0;p>g;g++)f[g]=i.slice(8+g*r,8+g*r+r);i=f;for(var m=Array(i.length),g=0;p>g;g++){for(var y=0;4>y;y++)d[15-y]=255&g>>>8*y;for(var y=0;4>y;y++)d[15-y-4]=255&(g+1)/4294967296-1>>>8*y;for(var v=e.cipher(d,u),b=Array(i[g].length),h=0;i[g].length>h;h++)b[h]=v[h]^i[g].charCodeAt(h),b[h]=String.fromCharCode(b[h]);m[g]=b.join("")}var C=m.join("");return C=n.decode(C)};var t={};t.code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t.encode=function(e,n){n=n===void 0?!1:n;var i,o,s,r,a,l,h,c,d,u,p,f=[],g="",m=t.code;if(u=n?e.encodeUTF8():e,d=u.length%3,d>0)for(;3>d++;)g+="=",u+="\0";for(d=0;u.length>d;d+=3)i=u.charCodeAt(d),o=u.charCodeAt(d+1),s=u.charCodeAt(d+2),r=i<<16|o<<8|s,a=63&r>>18,l=63&r>>12,h=63&r>>6,c=63&r,f[d/3]=m.charAt(a)+m.charAt(l)+m.charAt(h)+m.charAt(c);return p=f.join(""),p=p.slice(0,p.length-g.length)+g},t.decode=function(e,n){n=n===void 0?!1:n;var i,o,s,r,a,l,h,c,d,u,p=[],f=t.code;u=n?e.decodeUTF8():e;for(var g=0;u.length>g;g+=4)r=f.indexOf(u.charAt(g)),a=f.indexOf(u.charAt(g+1)),l=f.indexOf(u.charAt(g+2)),h=f.indexOf(u.charAt(g+3)),c=r<<18|a<<12|l<<6|h,i=255&c>>>16,o=255&c>>>8,s=255&c,p[g/4]=String.fromCharCode(i,o,s),64==h&&(p[g/4]=String.fromCharCode(i,o)),64==l&&(p[g/4]=String.fromCharCode(i));return d=p.join(""),n?d.decodeUTF8():d};var n={};n.encode=function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)});return t=t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|63&t>>6,128|63&t)})},n.decode=function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)});return t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)})};var i="PAF@123456789";enyo.mixin(utility,{AES:{encrypt:function(t){enyo.isObject(t)&&(t=enyo.json.stringify(t));var n=e.Ctr.encrypt(t,i,128);return n},decrypt:function(t){var n=e.Ctr.decrypt(t,i,128);return n}}})})();

// source/app/helpers/utilityApps.js
(function(){var e=function(e){return e.replace(/([^:]\/)(\/+)/g,"$1")},t=/^http/,n=function(){var e=location.protocol,t=location.pathname.split("/");return e+="//"+location.host,t.length>1&&t[t.length-1].match(/\./)&&t.pop(),e+="/"+t.join("/")};enyo.mixin(utility,{buildUrl:function(i){var o=i.url||enyo.isFunction(i.getUrl)&&i.getUrl();return t.test(o)||(o=(i.urlRoot||n())+"/"+o),e(o)},toParams:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return"?"+t.join("&")},getOauthLoginUrl:function(){var e=Master.config.oauth,t=e.loginUrl,n=e.callbackUrl&&this.buildUrl({url:e.callbackUrl}),i={response_type:e.response_type,client_id:e.client_id,scope:e.scope,redirect_uri:n};return t+this.toParams(i)}})})();

// source/app/models/apipool/mixins/CategoryDTOSupport.js
(function(e){e.setPath("Master.models.CategoryDTOSupport",{name:"Master.models.CategoryDTOSupport",sortCategories:function(t){e.isArray(t)&&t.sort(function(e,t){return e.displayOrder-t.displayOrder})},categoryBasicInfoDTO:function(t,n,i){if(e.isArray(t)){this.sortCategories(t);for(var o=0;t.length>o;o++){var s=t[o],r={id:s._id,key:s.key,name:s.name,tags:s.tags||"",displayOrder:s.displayOrder,expanded:s.expanded||!1,parentId:s.parentId,targetId:s.parentId,targetLevel:-1,level:s.level,isDisplay:s.isDisplay,parent:s.parent||null,section:s.section||[],description:s.description,children:[]};null!==r.parent&&(r.targetLevel=r.parent.level),(!i||s.isDisplay)&&(r.parent=n,n.children.push(r),s.children&&s.children.length&&this.categoryBasicInfoDTO(s.children,r,i))}}}})})(enyo);

// source/app/models/apipool/mixins/APiDTOSupport.js
(function(e){e.setPath("Master.models.ApiDTOSupport",{name:"Master.models.ApiDTOSupport",apiBasicInfoDTO:function(t,n){var i=n||[];if(e.isArray(t))for(var o=0;t.length>o;o++){var s=t[o],r={id:s._id,key:s.key,name:s.name,tags:s.tags||"",displayOrder:s.displayOrder,expanded:s.expanded||!1,parentId:s.parentId,targetId:s.parentId,level:s.level,targetLevel:-1,isDisplay:s.isDisplay,parent:s.parent||null,section:s.section||[],description:s.description,children:[]};null!==r.parent&&(r.targetLevel=r.parent.level),i.push(r),s.children&&s.children.length&&this.apiBasicInfoDTO(s.children,r.children)}}})})(enyo);

// source/app/models/apipool/Categories.js
enyo.kind({name:"Master.models.apipool.Categories",kind:"Master.Collection",mixins:["Master.models.CategoryDTOSupport"],model:"Master.models.apipool.ApiItem",apis:{allcategories:{url:"/apis",dto:"apiCategoriesDataDTO"},categorySiblings:{url:function(){return"/sibling/{parentId}"},dto:"apiCategoriesDataDTO"}},instanceAllRecords:!1,getApiCategories:function(e,t,n,i){i=i||!1,t=t||0,n=n||20,this.fetch({apiKey:"allcategories",url:function(){return"/apis/"+t+"/"+n},stopLoop:i,callback:e})},getCategorySiblings:function(e,t,n,i){i=i||!1,"0"==t||0==n?this.getApiCategories(e,0,1,i):this.fetch({apiKey:"categorySiblings",url:function(){return"/sibling/"+t},stopLoop:i,callback:e})},apiCategoriesDataDTO:function(e,t){var n=t.stopLoop||!1;e=e&&enyo.isArray(e)?e:[];var i={parent:null,parentId:0,children:[],id:0,level:-1,name:"Home",key:"home"};return this.categoryBasicInfoDTO(e,i,n),this.zLog("converted category tree: ",i),i.children}});

// source/app/models/apipool/ApiItem.js
enyo.kind({name:"Master.models.apipool.ApiItem",kind:"Master.Model",mixins:["Master.models.ApiDTOSupport"],apis:{apiDetailByKey:{url:function(){return"/api/key/"+this.get("key")},cache:{enabled:!0,cacheTime:6e5},dto:"apiDetailDTO"},apiDetailById:{url:function(){return"/api/id/"+this.get("id")},cache:{enabled:!0,cacheTime:6e5},dto:"apiDetailDTO"},addNewApi:{url:"/api",cache:!1,dto:"apiDetailDTO"},updateApiInfo:{url:function(){return"/api/"+this.get("id")},cache:!1,dto:"apiDetailDTO"},destroyApi:{url:function(){return"/api/"+this.get("id")},cache:!1},searchApis:{dto:"searchApisDataDTO"}},primaryKey:"id",attributes:{id:"",key:"",name:"",tags:"",parentId:"0",targetId:0,targetLevel:-1,level:0,parent:null,displayOrder:0,isDisplay:!0,description:"",section:[],expanded:!1,children:[]},_getPostInfo:function(e){var t=enyo.clone(e);return delete t.level,delete t.targetLevel,enyo.json.stringify(t)},getApiDetailByKey:function(e,t){t=t||enyo.nop,this._clearExitData(),this.set("key",e),this.fetch({apiKey:"apiDetailByKey",callback:t})},_clearExitData:function(){this.attributes={id:"",key:"",name:"",tags:"",parentId:"0",level:0,targetId:0,targetLevel:-1,parent:null,displayOrder:0,isDisplay:!0,description:"",section:[],expanded:!1,children:[]}},getApiDetailById:function(e,t){t=t||enyo.nop,this.set("id",e),this.fetch({apiKey:"apiDetailById",callback:t})},addNewApi:function(e,t){this.setObject(e),this.commit({apiKey:"addNewApi",method:"POST",data:this._getPostInfo(e),callback:t})},updateApiInfo:function(e,t){this.setObject(e),this.commit({apiKey:"updateApiInfo",method:"PUT",data:this._getPostInfo(e),callback:t})},destroyApi:function(e,t){this.set("id",e),this.destroy({apiKey:"destroyApi",callback:t})},searchApis:function(e,t,n,i){this.fetch({apiKey:"searchApis",url:function(){return"/api/"+n+"/"+t+"/"+e},callback:i})},apiDetailDTO:function(e){var t=e&&enyo.isArray(e)?e:[e],n=[],i={};return this.apiBasicInfoDTO(t,n),enyo.mixin(i,n[0]),this.zLog("converted data: ",i),i},searchApisDataDTO:function(e){var t=e&&e.list||[],n=[];this.apiBasicInfoDTO(t,n);var i={total:e.total,list:n};return i}});

// source/app/models/apipool/ApiList.js
enyo.kind({name:"Master.models.apipool.ApiList",kind:"Master.Collection",mixins:["Master.models.ApiDTOSupport"],model:"Master.models.apipool.ApiItem",apis:{apiList:{url:"/apis",dto:"apiListItemDTO"}},getApiList:function(e){this.fetch({apiKey:"apiList",callback:e})},apiListItemDTO:function(e){e=e&&enyo.isArray(e)?e:[];var t=[];return this.apiBasicInfoDTO(e,t),this.zLog("conterted api basic info list: ",t),this.sortApis(t),t},sortApis:function(e){enyo.isArray(e)&&e.sort(function(e,t){return e.displayOrder-t.displayOrder})}});

// source/app/models/menu/MenuItem.js
enyo.kind({name:"Master.models.menu.MenuItem",kind:"Master.Model",attributes:{name:"",customClass:"",hash:"",key:"list"},parse:function(e){return{name:e.name,customClass:e.customClass,hash:e.hash,key:e.key}}});

// source/app/models/menu/MenuList.js
enyo.kind({name:"Master.models.menu.MenuList",kind:"Master.Collection",model:"Master.models.menu.MenuItem",getMenus:function(e){var t=new Master.models.menu.MenuItem({name:Master.locale.get("API_NEW","menu"),key:"api_new",customClass:"icon-pencil",hash:"profile/node/new"});this.add(t);var n=new Master.models.menu.MenuItem({name:Master.locale.get("PERSONAL_INFO","menu"),key:"user-info",customClass:"icon-user",hash:"profile"});this.add(n),e&&e(this)}});

// source/app/models/user/UserModel.js
enyo.kind({name:"Master.models.user.UserModel",kind:"Master.Model",apis:{login:{url:"/user/login",cache:!1,dto:"userInfoDTO"}},attributes:{username:"",password:"",lastActive:"",token:"",role:"admin"},login:function(e,t){this.username=e.username,this.password=e.password,this.commit({apiKey:"login",method:"POST",data:{username:e.username,password:e.password},callback:t})},userInfoDTO:function(e){return{token:e.token,username:e.username}}});

// source/app/models/Session.js
enyo.kind({name:"Master.models.Session",kind:"enyo.Object",mixins:["Master.ClassSupport"],constructor:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.initialize()}}),published:{user:null,token:null},_initialized:!1,initialize:function(){this.zLog("do session global initialize...."),this._authKey="_auth_",this._verifyTokenValidation(),this._initialized=!0},hasInitialized:function(){return this._initialized},_verifyTokenValidation:function(){var e=this.get("user")||this.getAuthenticateTicket();if(e){var t=e.lastActive||0,n=enyo.perfNow()-t;return Master.config.tokenExpire>n?(this.saveAuthenticateTicket(e),!0):(Master.storage.remove(this._authKey),!1)}return!1},hasAuthorization:function(){return this._verifyTokenValidation()||!1},logout:function(){Master.storage.remove(this._authKey),this.set("user",null),this.set("token",null)},getAuthenticateTicket:function(){var e=Master.storage.get(this._authKey),t=e&&e.auth,n=null;if(t)try{n=enyo.json.parse(utility.AES.decrypt(t))}catch(i){this.zError(i)}return n},saveAuthenticateTicket:function(e){e.lastActive=enyo.perfNow(),this.set("user",e),this.set("token",e.token);var t=utility.AES.encrypt(e);Master.storage.add(this._authKey,{auth:t})}});

// source/app/views/controls/HeaderLink.js
enyo.kind({name:"Master.views.controls.HeaderLink",classes:"navbar",mixins:["Master.ClassSupport"],components:[{tag:"ul",classes:"navbar-inner",components:[{tag:"li",classes:"item text",content:"\u6b22\u8fce\u4f7f\u7528\u58f9\u94b1\u5305\u6587\u6863\u4e2d\u5fc3\uff01"},{tag:"li",classes:"item",components:[{tag:"a",attributes:{target:"_blank",href:"https://1qianbao.com/merchant/"},content:"\u5546\u6237\u95e8\u6237"}]},{tag:"li",classes:"item seperator"},{tag:"li",classes:"item",components:[{tag:"a",attributes:{target:"_blank",href:"http://merchant.1qianbao.com:1080/forum/forum.php"},content:"\u5b98\u65b9\u8bba\u575b"}]},{tag:"li",classes:"item seperator"},{tag:"li",classes:"item",components:[{tag:"a",attributes:{target:"_blank",href:"http://www.1qianbao.com/"},content:"\u58f9\u94b1\u5305\u5b98\u7f51"}]}]}]});

// source/app/views/controls/HeaderMenu.js
enyo.kind({name:"Master.views.controls.HeaderMenu",classes:"menubar",components:[{classes:"menubar-inner",components:[{classes:"logo",components:[{tag:"a",attributes:{href:"http://dev.1qianbao.com/",target:"_blank"},content:"\u5f00\u653e\u5e73\u53f0"}]},{classes:"menu-item",tag:"ul",components:[{tag:"li",classes:"item",components:[{tag:"a",attributes:{href:"https://1qianbao.com/merchant/",target:"_blank"},content:"\u5546\u6237\u7b7e\u7ea6"}]},{tag:"li",classes:"item",components:[{tag:"a",attributes:{href:"http://dev.1qianbao.com/forum/",target:"_blank"},content:"\u8bba\u575b"}]}]}]}]});

// source/app/views/controls/FooterLink.js
enyo.kind({name:"Master.views.controls.FooterLink",classes:"footer-inner",mixins:["Master.ClassSupport"],components:[{classes:"left-aside",components:[{classes:"aside-link",tag:"ul",components:[{tag:"li",classes:"link-item",components:[{tag:"a",attributes:{target:"_blank",href:"http://www.pingan.com/"},content:"\u4e2d\u56fd\u5e73\u5b89\u5b98\u7f51"}]},{tag:"li",classes:"link-item",components:[{tag:"a",attributes:{target:"_blank",href:"https://www.1qianbao.com/"},content:"\u58f9\u94b1\u5305"}]},{tag:"li",classes:"link-item",components:[{tag:"a",attributes:{target:"_blank",href:"http://one.pingan.com/"},content:"\u4e00\u8d26\u901a"}]},{tag:"li",classes:"link-item",components:[{tag:"a",attributes:{target:"_blank",href:"http://www.eka.cn/"},content:"\u58f9\u5361\u4f1a"}]},{tag:"li",classes:"link-item",components:[{tag:"a",attributes:{target:"_blank",href:"http://bank.pingan.com/index.shtml"},content:"\u5e73\u5b89\u94f6\u884c"}]},{tag:"li",classes:"link-item",components:[{tag:"a",attributes:{target:"_blank",href:"http://www.xsme.com/web/"},content:"\u5e73\u5b89\u4ea4\u6613\u6240"}]}]},{classes:"copyright",components:[{classes:"text",tag:"span",content:"\u58f9\u94b1\u5305\u6743\u6240\u6709 2013-2016 \u58f9\u94b1\u5305\u7248\u6743\u6240\u6709 \u7ca4ICP\u590711100138\u53f7-5"},{name:"admin",action:"LOGIN",classes:"admin icon-user-md",ontap:"loginTap",tag:"i"},{name:"logout",classes:"logout",showing:!1,ontap:"logoutTap",content:"\u6ce8\u9500"}]}]}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.init()}}),init:function(){Master.session.getToken()&&this.updateLoginState(!0)},updateLoginState:function(e){e?(this.$.admin.addClass("has-logined"),this.$.admin.action="GO_TO_PROFILE",this.$.logout.show()):(this.$.logout.hide(),this.$.admin.action="LOGIN",this.$.admin.removeClass("has-logined"))},loginTap:function(e,t){var n=t.originator,i=n.action;switch(i){case"LOGIN":var o={authenticateFn:this.bindSafely("authenticating")},s=new widgets.dialog.NormalLoginDialog(o);s.show();break;case"GO_TO_PROFILE":location.href="#profile"}return!0},logoutTap:function(){return Master.session.logout(),this.updateLoginState(!1),location.href="#home",!0},authenticating:function(e,t){this.zLog("user: ",e,"context:",t);var n=new Master.models.user.UserModel;n.login(e,this.bindSafely("loginCallback",t))},loginCallback:function(e,t){this.zLog("login callback: ",t);var n=t.restInfo;if(n&&1==n.retCode){var i={username:t.get("username"),password:t.get("password"),lastActive:enyo.perfNow(),role:"admin",token:t.get("token")};Master.session.saveAuthenticateTicket(i),this.updateLoginState(!0),e.hideSpinner(),e.closeDialog()}else e.showAuthStatus(n.retMessage),e.hideSpinner()}});

// source/app/views/controls/ApiEditPanel.js
enyo.kind({name:"Master.views.controls.ApiEditPanel",classes:"api-edit",mixins:["Master.ClassSupport"],published:{viewModel:{},categoriesViewModel:{}},events:{onFetchCategoryTree:"",onSaveApiInformation:"",onDeleteApiItem:""},handlers:{onSectionChanged:"sectionManagerViewChangeHandler",onTreeNodeClick:"treeNodeClick",onTreeNodeExpandChanged:"treeNodeExpandChanged",onFormButtonTap:"deleteApiItemHandler"},components:[{name:"container",classes:"api-container",components:[{name:"form",submitButtonStyles:"btn btn-primary",submitButtonText:"\u786e\u8ba4\u4fee\u6539",onValidationComplete:"formValidationSubmit",kind:"widgets.forms.FormDecorator",components:[{kind:"onyx.Groupbox",components:[{kind:"onyx.GroupboxHeader",classes:"api-edit-header",components:[{classes:"title",content:"\u6587\u6863\u57fa\u672c\u4fe1\u606f"},{kind:"widgets.forms.Button",action:"delete",text:"\u5220\u9664"}]},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863 KEY"},{name:"api_key",placeholder:"\u6587\u6863 KEY",ajax:"checkifKeyExist",kind:"widgets.forms.InputDecorator",tipMessage:"\u5168\u5c40\u552f\u4e00\uff0c\u8bf7\u4e00\u5b9a\u8f93\u5165\u4e0d\u91cd\u590d\u7684KEY\u9650\u82f1\u6587\u5b57\u6bcd",validation:{required:"\u5fc5\u586b\u5b57\u6bb5\uff01",hash:""}}]},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863\u540d\u79f0"},{name:"api_name",placeholder:"API\u540d\u79f0",kind:"widgets.forms.InputDecorator",tipMessage:"\u6587\u6863\u540d\u79f0\u5fc5\u987b\u586b\u5199\uff01",validation:{required:"\u5fc5\u586b\u5b57\u6bb5\uff01"}}]},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863\u6807\u7b7e"},{name:"api_tags",placeholder:"\u6587\u6863\u6807\u7b7e,\u53ef\u7528\u4e8e\u641c\u7d22\uff0c\u6700\u597d\u586b\u5199",kind:"widgets.forms.InputDecorator"}]},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863\u6392\u5e8f"},{name:"api_display_order",value:0,placeholder:"API\u540d\u79f0",type:"text",kind:"widgets.forms.InputDecorator",tipMessage:"\u586b\u5199\u5206\u7c7b\u6392\u5e8f\uff0c\u6570\u5b57\u503c\u8d8a\u5c0f\u663e\u793a\u8d8a\u9760\u524d!",validation:{required:"\u5fc5\u586b\u5b57\u6bb5\uff01",number:"\u8bf7\u8f93\u5165\u6570\u5b57!"}}]},{classes:"form-item",components:[{classes:"title",content:"\u662f\u5426\u5c55\u5f00"},{name:"api_is_expanded",kind:"onyx.Checkbox"}]},{classes:"form-item",components:[{classes:"title",content:"\u662f\u5426\u663e\u793a"},{name:"api_is_display",kind:"onyx.Checkbox"}]},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863\u5206\u7c7b"},{name:"showCategoryDialogBtn",kind:"enyo.Button",classes:"btn",content:"--\u9ed8\u8ba4\u6839\u8282\u70b9--",ontap:"showCategoryTreeDialog"},{name:"treeSelectMsg",content:"",tag:"span",style:"color: red;"}]}]},{kind:"onyx.Groupbox",components:[{kind:"onyx.GroupboxHeader",content:"\u6587\u6863\u6982\u8ff0"},{name:"api_description",kind:"Master.TextEditor"}]},{kind:"onyx.Groupbox",components:[{kind:"onyx.GroupboxHeader",content:"\u7247\u6bb5(Section)\u7ba1\u7406"},{classes:"form-item",components:[{name:"sectionManager",kind:"widgets.section.SectionManager",model:"edit"}]}]}]}]}],rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.$.api_description.markItUp()}}),deleteApiItemHandler:function(e,t){var n=t.action;if("delete"==n){var i=this.viewModel;i&&this.confirmDeleteApiItem(i.get("id"),i.get("key"),i.get("name"))}return!0},confirmDeleteApiItem:function(e,t,n){Master.view.frame.showConfirmDialog({title:"\u786e\u8ba4",message:"\u786e\u8ba4\u8981\u5220\u9664API'"+n+"'\u5417\uff1f",success:this.bindSafely("deleteApiItem",e,t)})},deleteApiItem:function(e,t){this.doDeleteApiItem({parentId:this.__selectedCategoryKey,id:e,key:t,redirectToParent:!0})},viewModelChanged:function(){this.loadingExistApiDetailUI(this.viewModel)},categoriesViewModelChanged:function(){this.showAvalilableCategories(this.categoriesViewModel)},loadingExistApiDetailUI:function(e){this.writeApiDetailInformation(e),this.initSectionManager(e.get("section"))},formValidationSubmit:function(e,t){var n=t;if(this.zLog("form validation result",n),"success"==n.status){var i=this.readApiDetailInformation();""===this.$.treeSelectMsg.getContent()?this.doSaveApiInformation({data:i,editModel:!0}):Master.view.frame.showAlertDialog({title:"\u66f4\u65b0\u6587\u6863",message:"\u4e0d\u80fd\u9009\u62e9\u81ea\u8eab\u8282\u70b9!"})}return!0},writeApiDetailInformation:function(e){this.zLog(e),this._id=e.get("id"),this.$.api_key.setValue(e.get("key")),this.$.api_name.setValue(e.get("name")),this.$.api_tags.setValue(e.get("tags")),this.$.api_display_order.setValue(e.get("displayOrder")||0),this.$.api_is_expanded.setValue(e.get("expanded")||0),this.$.api_is_display.setValue(e.get("isDisplay")||0),this.$.api_description.setEditorContent(e.get("description"));var t=e.get("parent")||{parentId:"0"};this.__selectedCategoryKey=e.get("parentId")||0,t.name&&this.$.showCategoryDialogBtn.setContent(t.name)},readApiDetailInformation:function(){var e={};return e.key=this.$.api_key.getValue(),e.name=this.$.api_name.getValue(),e.tags=this.$.api_tags.getValue(),e.expanded=this.$.api_is_expanded.getValue(),e.isDisplay=this.$.api_is_display.getValue(),e.displayOrder=this.$.api_display_order.getValue(),e.description=this.$.api_description.getEditorContent(),e.parentId=this.__selectedCategoryKey||0,e.targetId=e.parentId,e.id=this._id,e.section=this.$.sectionManager.getResult()||[],e},checkifKeyExist:function(e,t){this.zLog(e,t),setTimeout(function(){t&&t({status:"success",message:"the user name has been exist!"})},1e3)},initSectionManager:function(e){this.$.sectionManager.set("sections",e||[])},sectionManagerViewChangeHandler:function(){return Master.view.frame.notifyTwoColumnLayoutReflow(),!0},showCategoryTreeDialog:function(){return this.treeDialog=new widgets.dialog.TreeNodeDialog({style:"width: 500px; height: 300px;",title:"\u8bf7\u9009\u62e9\u6240\u5c5e\u5206\u7c7b",childNodeKey:"children",selectedItemKey:"_id",selectedItemValue:this.__selectedCategoryKey,success:this.bindSafely("treeDialogConfirm"),itemConverter:this._treeNodeConverter,bubbleTarget:this}),this.treeDialog.show(),this.bubble("onFetchCategoryTree"),!0},showAvalilableCategories:function(e){this.zLog("viewModel: ",e);var t=e.records;this.treeDialog&&this.treeDialog.set("source",t)},_treeNodeConverter:function(e){return{_id:e.id,content:e.name}},treeDialogConfirm:function(e){var t=e.selectedNode;if(t){var n=t.get("_id")||0;n!=this._id?(this.$.treeSelectMsg.hide(),this.$.treeSelectMsg.setContent(""),this.$.showCategoryDialogBtn.setContent(t.get("content")),this.__selectedCategoryKey=n):(this.$.treeSelectMsg.setContent("\u4e0d\u80fd\u9009\u62e9\u5f53\u524d\u8282\u70b9!"),this.$.treeSelectMsg.show())}this.zLog("new api category unique key: ",this.__selectedCategoryKey)},treeNodeClick:function(e,t){return this.zLog(t),!0},treeNodeExpandChanged:function(e,t){return this.zLog(t),!0}});

// source/app/views/controls/ApiChildListPanel.js
enyo.kind({name:"Master.views.controls.ApiChildListPanel",classes:"api-child-list",mixins:["Master.ClassSupport","Master.HistorySupport"],events:{onDeleteApiItem:""},handlers:{onActionButtonTap:"rowActionButtonTap"},published:{parentId:null,source:[],pageIndex:1,recordsTotal:0,pagerUri:""},components:[{kind:"onyx.Groupbox",name:"listWrapper",components:[{classes:"list-header",components:[{content:"\u6587\u6863\u5217\u8868",classes:"list-title"},{tag:"a",classes:"btn",ontap:"addNewApi",components:[{tag:"i",classes:"icon-plus"},{tag:"span",content:"\u6dfb\u52a0"}]}]},{name:"docList",showPager:!1,kind:"widgets.lists.PagedTableRowsList",rowKeyField:"id",fields:["id","name","key"],header:["\u6587\u6863ID","\u6587\u6863\u540d\u79f0","\u6587\u6863Hash","\u64cd\u4f5c"]}]}],sourceChanged:function(){this.$.docList.set("source",this.source)},pageIndexChanged:function(){this.$.docList.set("pageIndex",this.pageIndex),this.reInitList()},recordsTotalChanged:function(){this.$.docList.set("recordsTotal",this.recordsTotal),this.reInitList()},pagerUriChanged:function(){this.$.docList.set("pagerUri",this.pagerUri),this.reInitList()},reInitList:function(){this.$.docList.refresh()},addNewApi:function(){return this.location("profile/node/new"),!0},confirmDeleteApiItem:function(e,t,n){Master.view.frame.showConfirmDialog({title:"\u786e\u8ba4",message:"\u786e\u8ba4\u8981\u5220\u9664API'"+n+"'\u5417\uff1f",success:this.bindSafely("deleteApiItem",e,t)})},deleteApiItem:function(e,t){this.doDeleteApiItem({parentId:this.parentId,id:e,key:t})},findRowItemData:function(e){for(var t=null,n=0;this.source.length>n;n++){var i=this.source[n];if(i.id==e){t=i;break}}return t},rowActionButtonTap:function(e,t){var n=t.action,i=t.key,o="",s=this.findRowItemData(i);switch(n){case"add":o="profile/node/new";break;case"edit":o=s.children&&s.children.length?"profile/node/list/"+i:"profile/node/"+i;break;case"remove":this.confirmDeleteApiItem(s.id,s.key,s.name)}return o&&this.location(o),!0}});

// source/app/views/controls/SiteNavigator.js
enyo.kind({name:"Master.views.controls.SiteNavigator",classes:"site-navigator",mixins:["Master.ClassSupport"],published:{treeSource:null,leafNode:null},components:[{name:"nav",allowHtml:!0,content:""}],create:enyo.inherit(function(e){return function(){e.apply(this,arguments)}}),leafNodeChanged:function(){var e=this.leafNode;e.id&&e.name&&this.refreshNav(e)},refreshNav:function(e){if(this.zLog("leafNode: ",e),this.treeSource&&enyo.isObject(this.treeSource)){var t=this._generateTreeMap(this.treeSource,e);this.$.nav.setContent(t)}},_generateTreeMap:function(e,t){var n=[],i=this._findTreeNode(e,t);if(i)do 0!=i.id&&n.push(i),i=i.parent;while(null!=i);for(var o=[],s=n.shift(0),r=n.length-1;r>=0;r--){var a=this._getNodeText(n[r]);a&&o.push(a)}return s=s||t,o.push("<span>"+s.name+"</span>"),o.join("<i class='icon-angle-right'></i>")},_getNodeText:function(e){var t="";return e&&enyo.isObject(e)&&(t='<a href="#node/'+e.key+'">'+e.name+"</a>"),t},_findTreeNode:function(e,t){if(e&&t){if(e.id==t.id)return e;for(var n=0;e.children.length>n;n++){var i=e.children[n],o=this._findTreeNode(i,t);if(o)return o}return null}return null}});

// source/app/views/controls/SiteSearch.js
enyo.kind({name:"Master.views.controls.SiteSearch",classes:"site-search input-append",mixins:["Master.ClassSupport"],components:[{name:"searchTxt",kind:"enyo.Input",onkeypress:"searchEnterKey",type:"text",classes:"span2 search-query",placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5173\u952e\u8bcd..."},{kind:"enyo.Button",classes:"btn icon-search",ontap:"goSearch",content:"\u641c\u7d22"}],goSearch:function(){var e=enyo.trim(this.$.searchTxt.getValue());return this.search(e),!0},setSearchValue:function(e){this.$.searchTxt.setValue(e)},getSearchValue:function(){var e=enyo.trim(this.$.searchTxt.getValue());return e},searchEnterKey:function(e,t){if(t.keyCode==KeyBoard.ENTER_KEY){var n=this.getSearchValue();this.search(n)}return!0},search:function(e){if(e=enyo.trim(e)){var t={text:e},n=encodeURIComponent(enyo.json.stringify(t));window.location.href="#search/"+n}else this.$.searchTxt.setAttribute("placeholder","\u641c\u7d22\u5173\u952e\u8bcd\u4e0d\u80fd\u4e3a\u7a7a!")}});

// source/app/views/shared/DockCategories.js
enyo.kind({name:"Master.views.shared.DockCategories",kind:"Master.View",components:[{kind:"Signals",onMenuAccrodionUpdate:"menuAccrodionUpdate"},{name:"message",kind:"widgets.base.Spinner",size:25,message:Master.locale.get("LOAD_CATEGORIES","message")},{name:"categoriesContainer",showing:!1}],showUICategories:function(e,t){this.zLog("show user categories view model: ",e,t),Master.view.frame.setCurrentCategoryDockConfig(t||{parentId:0,level:0});var n=e.records;this.destroyClientControls(),currentNodeKey=location.hash,this.$.categoriesContainer.destroyClientControls(),this.$.categoriesContainer.createClientComponents([{name:"accordionMenu",kind:"widgets.menus.Accordion",itemNameField:"name",itemChildField:"children",itemExpendedField:"expanded",itemKeyField:"key",linkConverterFn:this.hashConverterFn,selectedKey:currentNodeKey,source:n}]),this.$.categoriesContainer.render(),this.$.categoriesContainer.show(),this.$.message.hide()},menuAccrodionUpdate:function(){this.$.accordionMenu&&this.$.accordionMenu.highlightMenuItem(location.hash)},viewReady:function(){this.$.message.show(),this.$.categoriesContainer.hide()},hashConverterFn:function(e){var t="#";return t="#node/"+e.key}});

// source/app/views/shared/DockProfiles.js
enyo.kind({name:"Master.views.shared.DockProfiles",kind:"Master.View",classes:"dock-profile-meus",events:{onFetchApiAvailableCategories:""},handlers:{onItemClick:"_treeNodeClick",onItemExpandChanged:"_treeNodeExpandChanged"},components:[{name:"message",kind:"widgets.base.Spinner",size:25,message:Master.locale.get("LOAD_PORFILE_MENUS","message")},{kind:"Signals",onTreeMenuUpdated:"treeMenuUpdated"},{name:"treeMenu",childNodeKey:"children",selectedItemKey:"hash",kind:"widgets.menus.TreeMenu"},{kind:"Selection",name:"selection",onSelect:"select",onDeselect:"deselect"},{name:"list",classes:"menus-container",showing:!1}],viewReady:function(){this.$.message.show(),this.$.list.hide()},showProfileMenusUI:function(e,t){this.zLog("viewModel",e,"data: ",t),this.showCategoryTree(),this.menuItems=e.records,this.selectedKey=t.menuKey;var n=this.prepareMenus();this.$.list.destroyClientControls(),this.$.list.createClientComponents(n),this.$.list.render(),this.highlightMenuItem(),this.$.message.hide(),this.$.list.show()},treeMenuUpdated:function(){this.showCategoryTree()},showCategoryTree:function(){var e={viewPage:"api",editModel:!1,viewKind:"shared.DockProfiles"};this.doFetchApiAvailableCategories(e)},showAvalilableCategories:function(e){this.zLog("viewModel: ",e);var t=e.records;this.$.treeMenu.set("itemConverter",this._treeItemConverter);var n=this.__userJustSelectedHash||window.location.hash;this.$.treeMenu.set("selectedItemValue",n),this.$.treeMenu.set("source",t)},_treeItemConverter:function(e){return{content:e.name,expaned:e.expaned,hash:e.children&&e.children.length?"#profile/node/list/"+e.id:"#profile/node/"+e.id}},prepareMenus:function(){for(var e=[],t=0;this.menuItems.length>t;t++){var n=this.menuItems[t],i=this.selectedKey==n.get("key");e.push({ontap:"menuItemTap",classes:i?"list-item selected":"list-item",hash:n.get("hash"),components:[{tag:"i",hash:n.get("hash"),classes:n.get("customClass")},{tag:"span",hash:n.get("hash"),content:n.get("name")}]})}return e},highlightMenuItem:function(){for(var e=this.$.list.getControls(),t=0;e.length>t;t++){var n=e[t];if(n.hasClass("selected")){this.$.selection.select(n.id,n);break}}},menuItemTap:function(e){if(e){var t=e.get("hash");this.$.selection.select(e.id,e),this.location(t)}else this.zError("dock menu item tap: item data don't exit!");return!0},select:function(e,t){var n=t.data;return n&&n.addClass("selected"),!0},deselect:function(e,t){var n=t.data;return n&&n.removeClass("selected"),!0},_treeNodeClick:function(e,t){var n=t.get("hash");return this.__userJustSelectedHash=n,this.zLog(n),this.location(n),!0},_treeNodeExpandChanged:function(){return Master.view.frame.notifyTwoColumnLayoutReflow(250),!0}});

// source/app/views/api/Index.js
enyo.kind({name:"Master.views.api.Index",kind:"Master.View",content:Master.locale.get("LOAD_CATEGORIES","message"),viewReady:function(){}});

// source/app/views/api/Detail.js
enyo.kind({name:"Master.views.api.Detail",kind:"Master.View",classes:"api-details",handlers:{ontap:"srollToControl"},components:[{name:"message",kind:"widgets.base.Spinner",message:Master.locale.get("LOAD_CATEGORY_DETAIL","message")},{name:"detailcontainer",showing:!1,components:[{name:"nodeInfo",classes:"api-basic-info",components:[{name:"apiTitle",tag:"h4",classes:"api-title"},{name:"apiDesc",allowHtml:!0,classes:"api-desc"},{name:"sectionSummary",showing:!1,classes:"section-summary"}]},{name:"sectionManager",kind:"widgets.section.SectionManager",model:"view"}]}],viewReady:function(){this.$.message.show(),this.$.detailcontainer.hide(),this.$.sectionSummary.destroyClientControls()},showApiDetailUI:function(e,t){this.zLog("viewModel: ",e,"extraData: ",t),this.$.apiTitle.setContent(e.get("name")),this.$.apiDesc.setContent(utility.stripRiskHtmlCode(e.get("description")));var n=e.get("section");this.showSectionSummary(n),this.initSectionManager(n),this.$.message.hide(),this.$.detailcontainer.show()},showSectionSummary:function(e){if(e&&e.length){this.$.sectionSummary.show();for(var t=[],n=0;e.length>n;n++){var i=e[n];t.push({tag:"span",sectionIndex:n,action:"scrollTo",content:i.sectionTitle})}this.$.sectionSummary.createClientComponents(t),this.$.sectionSummary.render()}},srollToControl:function(e,t){var n=t.originator;"scrollTo"==n.action&&this.$.sectionManager.srollTo(n.sectionIndex)},initSectionManager:function(e){this.$.sectionManager.set("sections",e||[])}});

// source/app/views/api/Search.js
enyo.kind({name:"Master.views.api.Search",kind:"Master.View",classes:"api-search-result",components:[{name:"message",kind:"widgets.base.Spinner",message:Master.locale.get("LOAD_CATEGORY_DETAIL","message")},{name:"docList",kind:"widgets.lists.PagedListView",showPager:!0,itemClickKeyProperty:"actionTapPropIndicator",itemDataTemplate:"listViewItemConverter"},{name:"empty",tag:"h5",content:"\u5bf9\u4e0d\u8d77\uff0c\u6ca1\u6709\u641c\u7d22\u5230\u4f60\u60f3\u8981\u7684\u5185\u5bb9!",showing:!1}],itemNumberMapping:{0:"\u7ed3\u679c\u4e00. ",1:"\u7ed3\u679c\u4e8c. ",2:"\u7ed3\u679c\u4e09. ",3:"\u7ed3\u679c\u56db. ",4:"\u7ed3\u679c\u4e94. ",5:"\u7ed3\u679c\u516d. ",6:"\u7ed3\u679c\u4e03. ",7:"\u7ed3\u679c\u516b. ",8:"\u7ed3\u679c\u4e5d. ",9:"\u7ed3\u679c\u5341. "},events:{onSearchPagedChanged:""},handlers:{onRenderComplete:"listViewRendered",onRowItemClick:"listViewRowItemClick",onPageClick:"pageNumberClick"},viewReady:function(){this.$.message.show(),this.$.docList.hide(),this.$.empty.hide()},showApiListUI:function(e,t){this.zLog("viewModel",e,t),this.query=t.query||{text:""};var n=this.$.docList,i=e.get("total");i?(n.set("recordsTotal",i),n.set("pageIndex",t.pageIndex),n.set("pageSize",t.pageSize),n.set("pagerUri","#home"),n.set("source",e.get("list")||[])):(this.$.empty.show(),this.$.message.hide())},listViewItemConverter:function(e,t){var n={classes:"item",key:e.key,components:[{classes:"header",key:e.key,tag:"h4",actionTapPropIndicator:"__headertap",ontap:"listViewRowItemClick",components:[{tag:"span",content:this.itemNumberMapping[t]},{tag:"span",content:e.name}]},{classes:"desc",content:e.description,allowHtml:!0}]};return n},listViewRendered:function(){return this.$.message.hide(),this.$.docList.show(),!0},pageNumberClick:function(e,t){var n=t.pageNumber,i=t.pageSize;return this.doSearchPagedChanged({pageIndex:n,pageSize:i,query:this.query}),!0},listViewRowItemClick:function(e,t){var n=t.key;return n&&(window.location.href="#node/"+n),!0}});

// source/app/views/user/Detail.js
enyo.kind({name:"Master.views.user.Detail",kind:"Master.View",components:[{content:"user detail page..."}]});

// source/app/views/profile/Index.js
enyo.kind({name:"Master.views.profile.Index",kind:"Master.View",viewReady:function(){}});

// source/app/views/profile/ApiList.js
enyo.kind({name:"Master.views.profile.ApiList",kind:"Master.View",classes:"api-detail-list-wrapper",events:{onFetchApiAvailableCategories:""},handlers:{onTabIndexChanged:"tabIndexChangdHandler",onFetchCategoryTree:"fetchApiAvailableCategories"},components:[{name:"message",kind:"widgets.base.Spinner",message:Master.locale.get("LOAD_API_LIST","message")},{name:"simpletab",showing:!1,kind:"widgets.custom.SimpleTabs",classes:"header-container",headerComponents:[{content:"\u6587\u6863\u4fe1\u606f"},{content:"\u5b50\u6587\u6863\u5217\u8868"}],contentComponents:[{name:"editPanel",kind:"Master.views.controls.ApiEditPanel"},{name:"childList",kind:"Master.views.controls.ApiChildListPanel"}]}],rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.init()}}),viewReady:function(){this.$.message.show(),this.$.simpletab.hide()},init:function(){var e=this.$.simpletab;this.$$childList=e.findControlByName("childList"),this.$$editPanel=e.findControlByName("editPanel")},showApiListUI:function(e,t){this.zLog("viewModel: ",e,"data: ",t),this.showApiDetailTabInfo(e),this.cachedAPIList=e.get("children")||[],this.cachedAPIList.length?(this.$$childList.set("parentId",e.get("id")),this.$$childList.set("pagerUri","#profile/node/list/"+e.get("id")),this.$$childList.set("source",this.cachedAPIList)):this.$.simpletab.hideTabHeader(),this.$.message.hide(),this.$.simpletab.show()},fetchApiAvailableCategories:function(){var e={viewPage:"api",viewKind:"profile.ApiList",editModel:!0};return this.bubble("onFetchApiAvailableCategories",e),!0},showAvalilableCategories:function(e){this.$$editPanel.set("categoriesViewModel",e)},showApiDetailTabInfo:function(e){var t=this.$.simpletab,n=t.findControlByName("editPanel");n.set("viewModel",e)},tabIndexChangdHandler:function(){return Master.view.frame.notifyTwoColumnLayoutReflow(100),!0}});

// source/app/views/profile/ApiNew.js
enyo.kind({name:"Master.views.profile.ApiNew",kind:"Master.View",classes:"api-new",events:{onFetchApiAvailableCategories:"",onSaveApiInformation:""},handlers:{onSectionChanged:"sectionManagerViewChangeHandler",onTreeNodeClick:"treeNodeClick",onTreeNodeExpandChanged:"treeNodeExpandChanged"},components:[{name:"container",classes:"api-container",components:[{name:"form",submitButtonStyles:"btn btn-primary",submitButtonText:"\u786e\u8ba4\u6dfb\u52a0",onValidationComplete:"formValidationSubmit",kind:"widgets.forms.FormDecorator",components:[{kind:"onyx.Groupbox",components:[{kind:"onyx.GroupboxHeader",content:"\u6587\u6863\u57fa\u672c\u4fe1\u606f"},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863 KEY"},{name:"api_key",placeholder:"\u6587\u6863 KEY",ajax:"checkifKeyExist",kind:"widgets.forms.InputDecorator",tipMessage:"\u5168\u5c40\u552f\u4e00\uff0c\u8bf7\u4e00\u5b9a\u8f93\u5165\u4e0d\u91cd\u590d\u7684KEY\u9650\u82f1\u6587\u5b57\u6bcd",validation:{required:"\u5fc5\u586b\u5b57\u6bb5\uff01",hash:""}}]},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863\u540d\u79f0"},{name:"api_name",placeholder:"API\u540d\u79f0",kind:"widgets.forms.InputDecorator",tipMessage:"\u6587\u6863\u540d\u79f0\u5fc5\u987b\u586b\u5199\uff01",validation:{required:"\u5fc5\u586b\u5b57\u6bb5\uff01"}}]},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863\u6807\u7b7e"},{name:"api_tags",placeholder:"\u6587\u6863\u6807\u7b7e,\u53ef\u7528\u4e8e\u641c\u7d22\uff0c\u6700\u597d\u586b\u5199",kind:"widgets.forms.InputDecorator"}]},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863\u6392\u5e8f"},{name:"api_display_order",value:0,placeholder:"API\u540d\u79f0",type:"text",kind:"widgets.forms.InputDecorator",tipMessage:"\u586b\u5199\u5206\u7c7b\u6392\u5e8f\uff0c\u6570\u5b57\u503c\u8d8a\u5c0f\u663e\u793a\u8d8a\u9760\u524d!",validation:{required:"\u5fc5\u586b\u5b57\u6bb5\uff01",number:"\u8bf7\u8f93\u5165\u6570\u5b57!"}}]},{classes:"form-item",components:[{classes:"title",content:"\u662f\u5426\u5c55\u5f00"},{name:"api_is_expanded",kind:"onyx.Checkbox"}]},{classes:"form-item",components:[{classes:"title",content:"\u662f\u5426\u663e\u793a"},{name:"api_is_display",kind:"onyx.Checkbox",checked:!0}]},{classes:"form-item",components:[{classes:"title",content:"\u6587\u6863\u5206\u7c7b"},{name:"showCategoryDialogBtn",kind:"enyo.Button",classes:"btn",content:"--\u8bf7\u9009\u62e9API\u5206\u7c7b--",ontap:"showCategoryTreeDialog"}]}]},{kind:"onyx.Groupbox",components:[{kind:"onyx.GroupboxHeader",content:"\u6587\u6863\u6982\u8ff0"},{name:"api_description",kind:"Master.TextEditor",height:120}]},{kind:"onyx.Groupbox",components:[{kind:"onyx.GroupboxHeader",content:"\u7247\u6bb5(Section)\u7ba1\u7406"},{classes:"form-item",components:[{name:"sectionManager",kind:"widgets.section.SectionManager",model:"edit"}]}]}]}]}],rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.$.api_description.markItUp()}}),viewReady:function(){},showAddNewApiUI:function(){this.initSectionManager()},formValidationSubmit:function(e,t){var n=t;if(this.zLog("form validation result",n),"success"==n.status){var i=this.readNewApiDetailInformation();this.doSaveApiInformation({data:i})}return!0},readNewApiDetailInformation:function(){var e={};return e.key=this.$.api_key.getValue(),e.name=this.$.api_name.getValue(),e.tags=this.$.api_tags.getValue(),e.expaned=this.$.api_is_expanded.getValue(),e.isDisplay=this.$.api_is_display.getValue(),e.displayOrder=this.$.api_display_order.getValue(),e.description=this.$.api_description.getEditorContent(),e.parentId=this.__selectedCategoryKey||0,e.section=this.$.sectionManager.getResult(),e},checkifKeyExist:function(e,t){this.zLog(e,t),setTimeout(function(){t&&t({status:"success",message:"the user name has been exist!"})},1e3)},initSectionManager:function(){},testSectionManagerHandler:function(){var e=this.$.sectionManager.getResult();return this.zLog(e),!0},sectionManagerViewChangeHandler:function(){return Master.view.frame.notifyTwoColumnLayoutReflow(),!0},showCategoryTreeDialog:function(){this.treeDialog=new widgets.dialog.TreeNodeDialog({style:"width: 500px; height: 300px;",title:"\u8bf7\u9009\u62e9\u6240\u5c5e\u5206\u7c7b",childNodeKey:"children",selectedItemKey:"_id",selectedItemValue:this.__selectedCategoryKey,success:this.bindSafely("treeDialogConfirm"),itemConverter:this._treeNodeConverter,bubbleTarget:this}),this.treeDialog.show();var e={viewPage:"api",viewKind:"profile.ApiNew",editModel:!1};return this.doFetchApiAvailableCategories(e),!0},showAvalilableCategories:function(e){this.zLog("viewModel: ",e);var t=e.records;this.treeDialog&&this.treeDialog.set("source",t)},_treeNodeConverter:function(e){return{_id:e.id,content:e.name}},treeDialogConfirm:function(e){var t=e.selectedNode;this.$.showCategoryDialogBtn.setContent(t.get("content")),this.__selectedCategoryKey=t.get("_id")||0,this.zLog("new api category unique key: ",this.__selectedCategoryKey)},treeNodeClick:function(e,t){return this.zLog(t),!0},treeNodeExpandChanged:function(e,t){return this.zLog(t),!0}});

// source/app/views/profile/ApiEdit.js
enyo.kind({name:"Master.views.profile.ApiEdit",kind:"Master.View",events:{onFetchApiAvailableCategories:""},handlers:{onFetchCategoryTree:"fetchApiAvailableCategories"},components:[{name:"editPanel",kind:"Master.views.controls.ApiEditPanel"}],viewReady:function(){},loadingExistApiDetailUI:function(e,t){this.$.editPanel.set("viewModel",e),Master.view.frame.hideSpinnerPopup(t.spinner_uid)},fetchApiAvailableCategories:function(){var e={viewPage:"api",viewKind:"profile.ApiEdit",editModel:!0};return this.bubble("onFetchApiAvailableCategories",e),!0},showAvalilableCategories:function(e){this.$.editPanel.set("categoriesViewModel",e)}});

// source/app/views/Frame.js
enyo.kind({name:"Master.views.Frame",kind:"Master.View",classes:"frame",components:[{name:"header",id:"header",components:[{kind:"Master.views.controls.HeaderLink"},{kind:"Master.views.controls.HeaderMenu"}]},{name:"page",id:"page",components:[{name:"main",classes:"page-inner",components:[{name:"twoColumnLayout",kind:"widgets.layout.TwoColumnDivision",leftDock:[{name:"breadtitle",classes:"bread-title",components:[{tag:"h3",content:"\u6587\u6863\u4e2d\u5fc3"}]},{name:"coldock",classes:"coldock-inner"}],rightContent:[{classes:"content-header",components:[{name:"siteNav",kind:"Master.views.controls.SiteNavigator"},{name:"siteSearch",kind:"Master.views.controls.SiteSearch"}]},{name:"colWrapper",classes:"col-wrapper",components:[{name:"mainContent"}]}],config:{leftDock:"coldock",rightContent:"mainContent"}}]}]},{name:"footer",id:"footer",components:[{kind:"Master.views.controls.FooterLink"}]}],handlers:{onContainerRendered:"twoColumnLayoutRenderedHandler",onAccordionViewChanged:"accordionViewChangedHandler",onViewUpdated:"viewUpdatedHandler"},twoColumnLayoutRenderedHandler:function(e,t){return this.reflowPageLayout(t.height||0),!0},viewUpdatedHandler:function(){return this.notifyTwoColumnLayoutReflow(),!0},accordionViewChangedHandler:function(){return this.notifyTwoColumnLayoutReflow(),!0},notifyTwoColumnLayoutReflow:function(e){e=e||1;var t=this;setTimeout(function(){t.$.twoColumnLayout.reflowPageLayout()},e)},create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.init()}}),rendered:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.reflowPageLayout()}}),init:function(){var e=Master.config.themeClass;e&&this.addClass(e),this.addClass(this.getPlatformType()),this.__dockCategoriesConfig={parentId:0,level:0}},reflow:enyo.inherit(function(e){return function(){e.apply(this,arguments),enyo.job("reflowPageLayout",this.bindSafely("reflowPageLayout"),500)}}),reflowPageLayout:function(e){e=e||0;var t=this.calMinimalPageheight(),n=Math.max(t,e);this.$.page.applyStyle("min-height",n+"px"),this.$.twoColumnLayout.updateStyles({height:n+"px"})},calMinimalPageheight:function(){var e=enyo.dom.getWindowHeight(),t=this.$.header.getBounds().height,n=this.$.footer.getBounds().height,i=e-t-n;return i},setMainContent:function(e){this.zLog("viewConfig: ",e),this.$.twoColumnLayout.setMainContent([e])},setDockContent:function(e){this.$.twoColumnLayout.setDockContent([e])},setDockContentTitle:function(e){var t=this.$.twoColumnLayout.findControlByName("contentTitle");t&&t.setContent(e)},goHome:function(){return this.home(),!0},showLoginPopup:function(e,t){this.zLog("show login popup"),t.preventDefault();var n=new widgets.dialog.LoginDialog;n.show()},hasCategoryContentsIndock:function(){var e=this.$.twoColumnLayout.getDockControls();return e.length&&"Master.views.shared.DockCategories"==e[0].kindName?!0:!1},hasProfileContentInDock:function(){var e=this.$.twoColumnLayout.getDockControls();return e.length&&"Master.views.shared.DockProfiles"==e[0].kindName?!0:!1},getCurrentCategoryDockConfig:function(){return this.__dockCategoriesConfig},setCurrentCategoryDockConfig:function(e){this.__dockCategoriesConfig=e,this.zLog("latest level config: ",e)},setSiteNavMapTree:function(e,t){this.__$siteNav||(this.__$siteNav=this.$.twoColumnLayout.findControlByName("siteNav")),$siteNav=this.__$siteNav,$siteNav&&(null===$siteNav.get("treeSource")||t)&&$siteNav.set("treeSource",e)},setSiteNavLeafNode:function(e){this.__$siteNav||(this.__$siteNav=this.$.twoColumnLayout.findControlByName("siteNav")),$siteNav=this.__$siteNav,$siteNav.set("leafNode",e)},setSearchInputTxt:function(e){var t=this.$.twoColumnLayout.findControlByName("siteSearch");t&&t.setSearchValue(e)},showNormalDialog:function(e,t){var n=new widgets.dialog.NormalDialog;n.setTitle(e),n.setHtmlContent(t),n.show()},showSpinnerPopup:function(e){return this._spinnerDialog||(this._spinnerDialog=new widgets.dialog.SpinnerDialog(e)),this._spinnerDialog.show(e.message)},hideSpinnerPopup:function(e){this._spinnerDialog&&this._spinnerDialog.hide(e)&&(this._spinnerDialog=null)},showAlertDialog:function(e){var t=new widgets.dialog.AlertDialog(e);return t.show()},showConfirmDialog:function(e){var t=new widgets.dialog.ConfirmDialog(e);t.show()}});

// source/app/controllers/mixins/DockSupport.js
enyo.setPath("Master.controllers.DockSupport",{name:"Master.controllers.DockSupport",DOCK_CATEGORY_KIND:"shared.DockCategories",DOCK_PROFILE_KIND:"shared.DockProfiles",_cachedNavigatorMapTreeSource:null,getAllCategoriesTreeData:function(e,t){if(t||null===this._cachedNavigatorMapTreeSource){var n=this.getCollectionInstance("Master.models.apipool.Categories");n.getApiCategories(this.bind("saveTreeSourceToSiteNavMap",t,e),0,20,!0)}else Master.view.frame.setSiteNavLeafNode(e)},saveTreeSourceToSiteNavMap:function(e,t,n){this._cachedNavigatorMapTreeSource={parent:null,key:"home",name:"Home",children:n.records},this.zLog("cached site nav tree: ",this._cachedNavigatorMapTreeSource),Master.view.frame.setSiteNavMapTree(this._cachedNavigatorMapTreeSource,e),Master.view.frame.setSiteNavLeafNode(t)},getCategorySiblingsAndChilds:function(e){var t=this.getCollectionInstance("Master.models.apipool.Categories");this.bindingViewToDock(this.DOCK_CATEGORY_KIND,null,null);var n={action:"showUICategories",data:e||{}},i=e&&e.parentId||0,o=e&&e.level||0,s=e&&e.stopLoop||!0;t.getCategorySiblings(this.bind("showUserApiCategories",n),i,o,s)},showUserApiCategories:function(e,t){this.zLog("response: viewModel: ",t,"viewData:",e);var n=e&&e.data;n.callback&&(n.callback(t),delete n.callback);var i=this.DOCK_CATEGORY_KIND;this.notifyView(i,t,e)},showProfileMenus:function(e){var t=this.getCollectionInstance("Master.models.menu.MenuList");this.bindingViewToDock(this.DOCK_PROFILE_KIND,null,null);var n={action:"showProfileMenusUI",data:e||{}};t.getMenus(this.bind("showProfileMenusUI",n))},showProfileMenusUI:function(e,t){this.notifyView(this.DOCK_PROFILE_KIND,t,e)},highlightProfileMenuItem:function(e){if(Master.view.frame.hasProfileContentInDock()){var t={action:"highlightProfileMenuItem",data:e||{}};this.notifyView(this.DOCK_PROFILE_KIND,{},t)}}});

// source/app/controllers/mixins/CategoryTreeSupport.js
enyo.setPath("Master.controllers.CategoryTreeSupport",{name:"Master.controllers.CategoryTreeSupport",handlers:{onFetchApiAvailableCategories:"fetchApiAvailableCategories"},fetchApiAvailableCategories:function(e,t){var n={viewPage:t.viewPage,editModel:t.editModel,viewKind:t.viewKind},i=this.getCollectionInstance("Master.models.apipool.Categories");i.getApiCategories(this.bind("_showAvailableCategories",n))},_showAvailableCategories:function(e,t){var n=e.editModel;e.viewPage;var i=e.viewKind;if(i)o=i;else var o=n?"profile.ApiEdit":"profile.ApiNew";this.notifyView(o,t,{action:"showAvalilableCategories"})}});

// source/app/controllers/HomeController.js
enyo.kind({name:"Master.controllers.HomeController",kind:"Master.Controller",mixins:["Master.controllers.DockSupport"],constants:{API_DETAIL_PAGE:"api.Detail"},index:function(){this.getCategorySiblingsAndChilds({parentId:0,level:0,callback:this.bind("fetchDefaultApiDetailInfo")})},fetchDefaultApiDetailInfo:function(e){var t=e.records[0]||null,n=this.getModelInstance("Master.models.apipool.ApiItem",{id:t.id});n.setObject(t);var i={action:"showApiDetailUI"};this.bindingViewToContent(this.API_DETAIL_PAGE,n,i)}});

// source/app/controllers/ApiController.js
enyo.kind({name:"Master.controllers.ApiController",kind:"Master.Controller",defaultLanguage:Master.config.defaultAPILanguage,constants:{API_DETAIL_PAGE:"api.Detail",API_LIST_SEARCH:"api.Search"},handlers:{onSearchPagedChanged:"searchPagedChangedHandler"},mixins:["Master.controllers.DockSupport"],index:function(e){this.zLog("apiKey: ",e),this.detail(e,null)},detail:function(e){this.zLog("apiKey: ",e),this.fetchApiDetailInfo(e)},search:function(e){e=decodeURIComponent(e);var t=null;try{t=enyo.json.parse(e)}catch(n){t={text:""},this.zError(n)}this.zLog("query : ",t),Master.view.frame.setSearchInputTxt(t.text),this.getCategorySiblingsAndChilds({parentId:0,level:0}),this.searchApis(t)},searchApis:function(e,t,n){var n=n||10,t=t||1;this.bindingViewToContent(this.API_LIST_SEARCH,null,null);var i=this.getModelInstance("Master.models.apipool.ApiItem",{id:"searchlist"});i.searchApis(e.text,t,n,this.bind("showApiListUI",e,t,n))},searchPagedChangedHandler:function(e,t){var n=t.query,i=t.pageIndex,o=t.pageSize;this.searchApis(n,i,o)},showApiListUI:function(e,t,n,i){this.notifyView(this.API_LIST_SEARCH,i,{action:"showApiListUI",data:{pageIndex:t,pageSize:n,query:e}})},fetchApiDetailInfo:function(e){this.bindingViewToContent(this.API_DETAIL_PAGE,null,null);var t={action:"showApiDetailUI",data:{apiKey:e}},n=this.getModelInstance("Master.models.apipool.ApiItem",{id:""});n.getApiDetailByKey(e,this.bind("_showApiDetailInfo",t))},_showApiDetailInfo:function(e,t){this.showDockCategories(t),this.notifyView(this.API_DETAIL_PAGE,t,e)},showDockCategories:function(e){var t=e.get("level"),n={parentId:e.get("parentId")||0,level:parseInt(t)-1,stopLoop:!0},i=e.get("children");i&&i.length&&(n.parentId=e.get("id"),n.level++),~n.level||(n.level=0,n.parentId=0),this.zLog("category list Levels: ",n),!Master.view.frame.hasCategoryContentsIndock()||this.ifRefreshDockCategories(n)?this.getCategorySiblingsAndChilds(n):enyo.Signals.send("onMenuAccrodionUpdate"),this.getAllCategoriesTreeData({id:e.get("id"),key:e.get("key"),name:e.get("name")})},ifRefreshDockCategories:function(e){var t=Master.view.frame.getCurrentCategoryDockConfig()||{parentId:0,level:0};return t.level==e.level?!1:!0}});

// source/app/controllers/ProfileController.js
enyo.kind({name:"Master.controllers.ProfileController",kind:"Master.Controller",mixins:["Master.controllers.DockSupport","Master.controllers.CategoryTreeSupport"],published:{security:!0},handlers:{onSaveApiInformation:"saveApiInformationHandler",onDeleteApiItem:"deleteApiItem"},constants:{PROFILE_API_LIST:"profile.ApiList",PROFILE_API_NEW:"profile.ApiNew",PROFILE_API_EDIT:"profile.ApiEdit"},apiList:function(e){this.zLog("api children list of current api id: ",e),this.showProfileDockMenus({menuKey:"api_list"}),this.bindingViewToContent(this.PROFILE_API_LIST,null,null),this.fetchApiList(e)},apiPagedList:function(e,t){this.zLog("api paged list: apiId, page,",e,t)},fetchApiList:function(e,t){var n={action:"showApiListUI",data:{page:t||1}};isNaN(t)&&(n.data.page=1);var i=this.getApiItemModel({id:e});i.getApiDetailById(e,this.bind("showApiListUI",n))},addNewApi:function(){this.zLog("add new"),this.showProfileDockMenus({menuKey:"api_new"}),this.bindingViewToContent(this.PROFILE_API_NEW,null,null);var e={restInfo:{retCode:1}};this.notifyView(this.PROFILE_API_NEW,e,{action:"showAddNewApiUI"})},editApi:function(e){this.zLog("apiId: ",e),this.showProfileDockMenus({menuKey:"api_edit"}),this.bindingViewToContent(this.PROFILE_API_EDIT,null,null);var t=Master.view.frame.showSpinnerPopup({message:"Loading...",classes:"white"}),n=this.getApiItemModel({id:e});n.getApiDetailById(e,this.bind("_loadingExistApiDetail",t))},_loadingExistApiDetail:function(e,t){this.notifyView(this.PROFILE_API_EDIT,t,{action:"loadingExistApiDetailUI",data:{spinner_uid:e}})},showApiListUI:function(e,t){this.notifyView(this.PROFILE_API_LIST,t,e)},deleteApiItem:function(e,t){var n=t.id;t.key;var i=t.parentId,o=t.redirectToParent,s=this.getApiItemModel({id:n});return s.destroyApi(n,this.bind("_destroyApiItemComplete",i,o)),!0},_destroyApiItemComplete:function(e,t,n){if(1==n.restInfo.retCode)if(enyo.Signals.send("onTreeMenuUpdated"),t)if(0!=e){var i=Master.view.frame.showSpinnerPopup({classes:"white",message:"\u83b7\u53d6\u7236\u8282\u70b9..."}),o=this.getApiItemModel({id:e});o.getApiDetailById(e,function(e){Master.view.frame.hideSpinnerPopup(i);var t=e.get("id"),n="#profile/node/"+t;e.get("children").length&&(n="#profile/node/list/"+t),window.location.href=n})}else window.location.href="#profile";else this.fetchApiList(e);else Master.view.frame.showAlertDialog({title:"\u5220\u9664API",message:"\u5220\u9664API\u5931\u8d25, "+n.restInfo.retMessage})},showProfileDockMenus:function(e){Master.view.frame.addClass("profile"),Master.view.frame.hasProfileContentInDock()||this.showProfileMenus(e)},saveApiInformationHandler:function(e,t){var n=t.data,i=t.editModel;if(i){var o=this.getApiItemModel({id:n.id});o.updateApiInfo(n,this.bind("_updateApiInfoComplete"))}else{var o=this.getApiItemModel({id:""});o.addNewApi(n,this.bind("_addNewApiComplete"))}return!0},_updateApiInfoComplete:function(e){var t="\u4fee\u6539API \u4fe1\u606f\u6210\u529f!";1!=e.restInfo.retCode?t=e.restInfo.retMessage:enyo.Signals.send("onTreeMenuUpdated"),Master.view.frame.showAlertDialog({title:"\u4fee\u6539API",message:t,success:function(){}})},_addNewApiComplete:function(e){this.zLog("viewModel: ",e);var t="\u6dfb\u52a0\u65b0API \u6210\u529f\uff01";1!=e.restInfo.retCode?t=e.restInfo.retMessage:enyo.Signals.send("onTreeMenuUpdated"),Master.view.frame.showAlertDialog({title:"\u6dfb\u52a0API",message:t})},getApiItemModel:function(e){return this.getModelInstance("Master.models.apipool.ApiItem",e)}});

// source/app/controllers/TokenController.js
enyo.kind({name:"Master.controllers.TokenController",kind:"Master.Controller",constants:{CATEGORY_DETAIL_PAGE:"category.Detail"},resolveToken:function(){this.zLog("validation....token...")}});

// source/app/controllers/UserController.js
enyo.kind({name:"Master.controllers.UserController",kind:"Master.Controller",mixins:["Master.controllers.DockSupport","Master.controllers.CategoryTreeSupport"],published:{security:!0},constants:{USER_DETAIL:"user.Detail"},userInfo:function(){this.zLog("user info..."),this.showProfileDockMenus({menuKey:"user-info"}),this.bindingViewToContent(this.USER_DETAIL,null,null)},showProfileDockMenus:function(e){Master.view.frame.addClass("profile"),Master.view.frame.hasProfileContentInDock()||this.showProfileMenus(e)}});

// source/boot/Application.js
enyo.kind({name:"Master.Application",kind:"enyo.Application",view:"Master.views.Frame",mixins:["Master.ClassSupport"],published:{logLevel:20},_routerName:"Master.router",constructor:enyo.inherit(function(e){return function(){this.components=this.getRegisteredControllers(),enyo.setPath("Master.session",new Master.models.Session),e.apply(this,arguments)}}),create:enyo.inherit(function(e){return function(){e.apply(this,arguments),this.logLevelChanged(),this.createComponent({name:this._routerName,kind:"Master.Router"}),this.appInitializatiin()}}),logLevelChanged:function(){enyo.setLogLevel(this.logLevel)},appInitializatiin:function(){enyo.setPath("Master.view.frame",this.view);var e=this.$[this._routerName];e?e.startRoute():this.zError("can't find Master.router instance in application.js")},getRegisteredControllers:function(){for(var e=Master.config.routeConfig,t=[],n=0;e.length>n;n++){var i=e[n],o=this.getControllerKind(i);this._ifControllerKindExist(t,o)||t.push(o)}return t},_ifControllerKindExist:function(e,t){var n=!1;if(t&&enyo.isObject(t))for(var i=0;e.length>i;i++){var o=e[i];if(o.kind===t.kind){n=!0;break}}else this.zLog("Current controller kind has existed!");return n},getControllerKind:function(e){var t=e&&e.controller;return t?(t=~t.indexOf("Controller")?t:t+"Controller",t=["Master.controllers",t].join("."),{name:this.getClass$Name(t),kind:t}):(this.zError("get controller name failed in boot/Application.js!"),null)}});
